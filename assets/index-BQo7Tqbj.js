(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function jp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Km={exports:{}},sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function YS(){if(qy)return sc;qy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var v in l)v!=="key"&&(h[v]=l[v])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:m,ref:l!==void 0?l:null,props:h}}return sc.Fragment=t,sc.jsx=n,sc.jsxs=n,sc}var Hy;function WS(){return Hy||(Hy=1,Km.exports=YS()),Km.exports}var U=WS(),Qm={exports:{}},Kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function XS(){if(Fy)return Kt;Fy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=I&&M[I]||M["@@iterator"],typeof M=="function"?M:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,X={};function tt(M,st,_t){this.props=M,this.context=st,this.refs=X,this.updater=_t||B}tt.prototype.isReactComponent={},tt.prototype.setState=function(M,st){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,st,"setState")},tt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function at(){}at.prototype=tt.prototype;function ft(M,st,_t){this.props=M,this.context=st,this.refs=X,this.updater=_t||B}var mt=ft.prototype=new at;mt.constructor=ft,F(mt,tt.prototype),mt.isPureReactComponent=!0;var Pt=Array.isArray,Rt={H:null,A:null,T:null,S:null,V:null},qt=Object.prototype.hasOwnProperty;function H(M,st,_t,pt,Tt,bt){return _t=bt.ref,{$$typeof:r,type:M,key:st,ref:_t!==void 0?_t:null,props:bt}}function O(M,st){return H(M.type,st,void 0,void 0,void 0,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function z(M){var st={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(_t){return st[_t]})}var j=/\/+/g;function G(M,st){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):st.toString(36)}function V(){}function Ae(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(V,V):(M.status="pending",M.then(function(st){M.status==="pending"&&(M.status="fulfilled",M.value=st)},function(st){M.status==="pending"&&(M.status="rejected",M.reason=st)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Ne(M,st,_t,pt,Tt){var bt=typeof M;(bt==="undefined"||bt==="boolean")&&(M=null);var Et=!1;if(M===null)Et=!0;else switch(bt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(M.$$typeof){case r:case t:Et=!0;break;case b:return Et=M._init,Ne(Et(M._payload),st,_t,pt,Tt)}}if(Et)return Tt=Tt(M),Et=pt===""?"."+G(M,0):pt,Pt(Tt)?(_t="",Et!=null&&(_t=Et.replace(j,"$&/")+"/"),Ne(Tt,st,_t,"",function(oi){return oi})):Tt!=null&&(D(Tt)&&(Tt=O(Tt,_t+(Tt.key==null||M&&M.key===Tt.key?"":(""+Tt.key).replace(j,"$&/")+"/")+Et)),st.push(Tt)),1;Et=0;var ve=pt===""?".":pt+":";if(Pt(M))for(var re=0;re<M.length;re++)pt=M[re],bt=ve+G(pt,re),Et+=Ne(pt,st,_t,bt,Tt);else if(re=x(M),typeof re=="function")for(M=re.call(M),re=0;!(pt=M.next()).done;)pt=pt.value,bt=ve+G(pt,re++),Et+=Ne(pt,st,_t,bt,Tt);else if(bt==="object"){if(typeof M.then=="function")return Ne(Ae(M),st,_t,pt,Tt);throw st=String(M),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return Et}function rt(M,st,_t){if(M==null)return M;var pt=[],Tt=0;return Ne(M,pt,"","",function(bt){return st.call(_t,bt,Tt++)}),pt}function yt(M){if(M._status===-1){var st=M._result;st=st(),st.then(function(_t){(M._status===0||M._status===-1)&&(M._status=1,M._result=_t)},function(_t){(M._status===0||M._status===-1)&&(M._status=2,M._result=_t)}),M._status===-1&&(M._status=0,M._result=st)}if(M._status===1)return M._result.default;throw M._result}var gt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function se(){}return Kt.Children={map:rt,forEach:function(M,st,_t){rt(M,function(){st.apply(this,arguments)},_t)},count:function(M){var st=0;return rt(M,function(){st++}),st},toArray:function(M){return rt(M,function(st){return st})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Kt.Component=tt,Kt.Fragment=n,Kt.Profiler=l,Kt.PureComponent=ft,Kt.StrictMode=a,Kt.Suspense=y,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return Rt.H.useMemoCache(M)}},Kt.cache=function(M){return function(){return M.apply(null,arguments)}},Kt.cloneElement=function(M,st,_t){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var pt=F({},M.props),Tt=M.key,bt=void 0;if(st!=null)for(Et in st.ref!==void 0&&(bt=void 0),st.key!==void 0&&(Tt=""+st.key),st)!qt.call(st,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&st.ref===void 0||(pt[Et]=st[Et]);var Et=arguments.length-2;if(Et===1)pt.children=_t;else if(1<Et){for(var ve=Array(Et),re=0;re<Et;re++)ve[re]=arguments[re+2];pt.children=ve}return H(M.type,Tt,void 0,void 0,bt,pt)},Kt.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},Kt.createElement=function(M,st,_t){var pt,Tt={},bt=null;if(st!=null)for(pt in st.key!==void 0&&(bt=""+st.key),st)qt.call(st,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(Tt[pt]=st[pt]);var Et=arguments.length-2;if(Et===1)Tt.children=_t;else if(1<Et){for(var ve=Array(Et),re=0;re<Et;re++)ve[re]=arguments[re+2];Tt.children=ve}if(M&&M.defaultProps)for(pt in Et=M.defaultProps,Et)Tt[pt]===void 0&&(Tt[pt]=Et[pt]);return H(M,bt,void 0,void 0,null,Tt)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(M){return{$$typeof:v,render:M}},Kt.isValidElement=D,Kt.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:yt}},Kt.memo=function(M,st){return{$$typeof:E,type:M,compare:st===void 0?null:st}},Kt.startTransition=function(M){var st=Rt.T,_t={};Rt.T=_t;try{var pt=M(),Tt=Rt.S;Tt!==null&&Tt(_t,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(se,gt)}catch(bt){gt(bt)}finally{Rt.T=st}},Kt.unstable_useCacheRefresh=function(){return Rt.H.useCacheRefresh()},Kt.use=function(M){return Rt.H.use(M)},Kt.useActionState=function(M,st,_t){return Rt.H.useActionState(M,st,_t)},Kt.useCallback=function(M,st){return Rt.H.useCallback(M,st)},Kt.useContext=function(M){return Rt.H.useContext(M)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(M,st){return Rt.H.useDeferredValue(M,st)},Kt.useEffect=function(M,st,_t){var pt=Rt.H;if(typeof _t=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pt.useEffect(M,st)},Kt.useId=function(){return Rt.H.useId()},Kt.useImperativeHandle=function(M,st,_t){return Rt.H.useImperativeHandle(M,st,_t)},Kt.useInsertionEffect=function(M,st){return Rt.H.useInsertionEffect(M,st)},Kt.useLayoutEffect=function(M,st){return Rt.H.useLayoutEffect(M,st)},Kt.useMemo=function(M,st){return Rt.H.useMemo(M,st)},Kt.useOptimistic=function(M,st){return Rt.H.useOptimistic(M,st)},Kt.useReducer=function(M,st,_t){return Rt.H.useReducer(M,st,_t)},Kt.useRef=function(M){return Rt.H.useRef(M)},Kt.useState=function(M){return Rt.H.useState(M)},Kt.useSyncExternalStore=function(M,st,_t){return Rt.H.useSyncExternalStore(M,st,_t)},Kt.useTransition=function(){return Rt.H.useTransition()},Kt.version="19.1.0",Kt}var Gy;function qp(){return Gy||(Gy=1,Qm.exports=XS()),Qm.exports}var Y=qp();const fp=jp(Y);var Ym={exports:{}},ac={},Wm={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function JS(){return Zy||(Zy=1,function(r){function t(rt,yt){var gt=rt.length;rt.push(yt);t:for(;0<gt;){var se=gt-1>>>1,M=rt[se];if(0<l(M,yt))rt[se]=yt,rt[gt]=M,gt=se;else break t}}function n(rt){return rt.length===0?null:rt[0]}function a(rt){if(rt.length===0)return null;var yt=rt[0],gt=rt.pop();if(gt!==yt){rt[0]=gt;t:for(var se=0,M=rt.length,st=M>>>1;se<st;){var _t=2*(se+1)-1,pt=rt[_t],Tt=_t+1,bt=rt[Tt];if(0>l(pt,gt))Tt<M&&0>l(bt,pt)?(rt[se]=bt,rt[Tt]=gt,se=Tt):(rt[se]=pt,rt[_t]=gt,se=_t);else if(Tt<M&&0>l(bt,gt))rt[se]=bt,rt[Tt]=gt,se=Tt;else break t}}return yt}function l(rt,yt){var gt=rt.sortIndex-yt.sortIndex;return gt!==0?gt:rt.id-yt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var m=Date,v=m.now();r.unstable_now=function(){return m.now()-v}}var y=[],E=[],b=1,I=null,x=3,B=!1,F=!1,X=!1,tt=!1,at=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Pt(rt){for(var yt=n(E);yt!==null;){if(yt.callback===null)a(E);else if(yt.startTime<=rt)a(E),yt.sortIndex=yt.expirationTime,t(y,yt);else break;yt=n(E)}}function Rt(rt){if(X=!1,Pt(rt),!F)if(n(y)!==null)F=!0,qt||(qt=!0,G());else{var yt=n(E);yt!==null&&Ne(Rt,yt.startTime-rt)}}var qt=!1,H=-1,O=5,D=-1;function z(){return tt?!0:!(r.unstable_now()-D<O)}function j(){if(tt=!1,qt){var rt=r.unstable_now();D=rt;var yt=!0;try{t:{F=!1,X&&(X=!1,ft(H),H=-1),B=!0;var gt=x;try{e:{for(Pt(rt),I=n(y);I!==null&&!(I.expirationTime>rt&&z());){var se=I.callback;if(typeof se=="function"){I.callback=null,x=I.priorityLevel;var M=se(I.expirationTime<=rt);if(rt=r.unstable_now(),typeof M=="function"){I.callback=M,Pt(rt),yt=!0;break e}I===n(y)&&a(y),Pt(rt)}else a(y);I=n(y)}if(I!==null)yt=!0;else{var st=n(E);st!==null&&Ne(Rt,st.startTime-rt),yt=!1}}break t}finally{I=null,x=gt,B=!1}yt=void 0}}finally{yt?G():qt=!1}}}var G;if(typeof mt=="function")G=function(){mt(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Ae=V.port2;V.port1.onmessage=j,G=function(){Ae.postMessage(null)}}else G=function(){at(j,0)};function Ne(rt,yt){H=at(function(){rt(r.unstable_now())},yt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(rt){switch(x){case 1:case 2:case 3:var yt=3;break;default:yt=x}var gt=x;x=yt;try{return rt()}finally{x=gt}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(rt,yt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var gt=x;x=rt;try{return yt()}finally{x=gt}},r.unstable_scheduleCallback=function(rt,yt,gt){var se=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?se+gt:se):gt=se,rt){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=gt+M,rt={id:b++,callback:yt,priorityLevel:rt,startTime:gt,expirationTime:M,sortIndex:-1},gt>se?(rt.sortIndex=gt,t(E,rt),n(y)===null&&rt===n(E)&&(X?(ft(H),H=-1):X=!0,Ne(Rt,gt-se))):(rt.sortIndex=M,t(y,rt),F||B||(F=!0,qt||(qt=!0,G()))),rt},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(rt){var yt=x;return function(){var gt=x;x=yt;try{return rt.apply(this,arguments)}finally{x=gt}}}}(Xm)),Xm}var Ky;function $S(){return Ky||(Ky=1,Wm.exports=JS()),Wm.exports}var Jm={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function tb(){if(Qy)return zn;Qy=1;var r=qp();function t(y){var E="https://react.dev/errors/"+y;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)E+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,E,b){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:y,containerInfo:E,implementation:b}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,E){if(y==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,zn.createPortal=function(y,E){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return h(y,E,null,b)},zn.flushSync=function(y){var E=m.T,b=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=E,a.p=b,a.d.f()}},zn.preconnect=function(y,E){typeof y=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(y,E))},zn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},zn.preinit=function(y,E){if(typeof y=="string"&&E&&typeof E.as=="string"){var b=E.as,I=v(b,E.crossOrigin),x=typeof E.integrity=="string"?E.integrity:void 0,B=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;b==="style"?a.d.S(y,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:I,integrity:x,fetchPriority:B}):b==="script"&&a.d.X(y,{crossOrigin:I,integrity:x,fetchPriority:B,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},zn.preinitModule=function(y,E){if(typeof y=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var b=v(E.as,E.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(y)},zn.preload=function(y,E){if(typeof y=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var b=E.as,I=v(b,E.crossOrigin);a.d.L(y,b,{crossOrigin:I,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},zn.preloadModule=function(y,E){if(typeof y=="string")if(E){var b=v(E.as,E.crossOrigin);a.d.m(y,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:b,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(y)},zn.requestFormReset=function(y){a.d.r(y)},zn.unstable_batchedUpdates=function(y,E){return y(E)},zn.useFormState=function(y,E,b){return m.H.useFormState(y,E,b)},zn.useFormStatus=function(){return m.H.useHostTransitionStatus()},zn.version="19.1.0",zn}var Yy;function zE(){if(Yy)return Jm.exports;Yy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Jm.exports=tb(),Jm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function eb(){if(Wy)return ac;Wy=1;var r=$S(),t=qp(),n=zE();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function m(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function y(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,c=i;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return v(p),e;if(g===c)return v(p),i;g=g.sibling}throw Error(a(188))}if(o.return!==c.return)o=p,c=g;else{for(var S=!1,C=p.child;C;){if(C===o){S=!0,o=p,c=g;break}if(C===c){S=!0,c=p,o=g;break}C=C.sibling}if(!S){for(C=g.child;C;){if(C===o){S=!0,o=g,c=p;break}if(C===c){S=!0,c=g,o=p;break}C=C.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var b=Object.assign,I=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),at=Symbol.for("react.provider"),ft=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),qt=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case tt:return"Profiler";case X:return"StrictMode";case Rt:return"Suspense";case qt:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case mt:return(e.displayName||"Context")+".Provider";case ft:return(e._context.displayName||"Context")+".Consumer";case Pt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return i=e.displayName||null,i!==null?i:Ae(e.type)||"Memo";case O:i=e._payload,e=e._init;try{return Ae(e(i))}catch{}}return null}var Ne=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},se=[],M=-1;function st(e){return{current:e}}function _t(e){0>M||(e.current=se[M],se[M]=null,M--)}function pt(e,i){M++,se[M]=e.current,e.current=i}var Tt=st(null),bt=st(null),Et=st(null),ve=st(null);function re(e,i){switch(pt(Et,i),pt(bt,e),pt(Tt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?gy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=gy(i),e=_y(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_t(Tt),pt(Tt,e)}function oi(){_t(Tt),_t(bt),_t(Et)}function Li(e){e.memoizedState!==null&&pt(ve,e);var i=Tt.current,o=_y(i,e.type);i!==o&&(pt(bt,e),pt(Tt,o))}function li(e){bt.current===e&&(_t(Tt),_t(bt)),ve.current===e&&(_t(ve),tc._currentValue=gt)}var ui=Object.prototype.hasOwnProperty,tr=r.unstable_scheduleCallback,ts=r.unstable_cancelCallback,Hs=r.unstable_shouldYield,ro=r.unstable_requestPaint,On=r.unstable_now,Fs=r.unstable_getCurrentPriorityLevel,so=r.unstable_ImmediatePriority,es=r.unstable_UserBlockingPriority,er=r.unstable_NormalPriority,rl=r.unstable_LowPriority,ns=r.unstable_IdlePriority,ao=r.log,sl=r.unstable_setDisableYieldValue,Re=null,ue=null;function Ln(e){if(typeof ao=="function"&&sl(e),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(Re,e)}catch{}}var fn=Math.clz32?Math.clz32:is,oo=Math.log,al=Math.LN2;function is(e){return e>>>=0,e===0?32:31-(oo(e)/al|0)|0}var Rr=256,nr=4194304;function Xn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gs(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var p=0,g=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?p=Xn(c):(S&=C,S!==0?p=Xn(S):o||(o=C&~e,o!==0&&(p=Xn(o))))):(C=c&~g,C!==0?p=Xn(C):S!==0?p=Xn(S):o||(o=c&~e,o!==0&&(p=Xn(o)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:p}function ci(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function lo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uo(){var e=Rr;return Rr<<=1,(Rr&4194048)===0&&(Rr=256),e}function Zs(){var e=nr;return nr<<=1,(nr&62914560)===0&&(nr=4194304),e}function Mi(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function Di(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function co(e,i,o,c,p,g){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var C=e.entanglements,k=e.expirationTimes,J=e.hiddenUpdates;for(o=S&~o;0<o;){var ot=31-fn(o),ct=1<<ot;C[ot]=0,k[ot]=-1;var $=J[ot];if($!==null)for(J[ot]=null,ot=0;ot<$.length;ot++){var et=$[ot];et!==null&&(et.lane&=-536870913)}o&=~ct}c!==0&&Ni(e,c,0),g!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=g&~(S&~i))}function Ni(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-fn(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&4194090}function ho(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-fn(o),p=1<<c;p&i|e[c]&i&&(e[c]|=i),o&=~p}}function Cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ks(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ir(){var e=yt.p;return e!==0?e:(e=window.event,e===void 0?32:ky(e.type))}function Qs(e,i){var o=yt.p;try{return yt.p=e,i()}finally{yt.p=o}}var Ce=Math.random().toString(36).slice(2),Ke="__reactFiber$"+Ce,He="__reactProps$"+Ce,Jn="__reactContainer$"+Ce,Mn="__reactEvents$"+Ce,Ot="__reactListeners$"+Ce,ir="__reactHandles$"+Ce,fo="__reactResources$"+Ce,xr="__reactMarker$"+Ce;function rr(e){delete e[Ke],delete e[He],delete e[Mn],delete e[Ot],delete e[ir]}function hi(e){var i=e[Ke];if(i)return i;for(var o=e.parentNode;o;){if(i=o[Jn]||o[Ke]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=Ty(e);e!==null;){if(o=e[Ke])return o;e=Ty(e)}return i}e=o,o=e.parentNode}return null}function fi(e){if(e=e[Ke]||e[Jn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function wn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function dn(e){var i=e[fo];return i||(i=e[fo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ze(e){e[xr]=!0}var mo=new Set,Ys={};function di(e,i){ki(e,i),ki(e+"Capture",i)}function ki(e,i){for(Ys[e]=i,e=0;e<i.length;e++)mo.add(i[e])}var ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rs={},ss={};function ll(e){return ui.call(ss,e)?!0:ui.call(rs,e)?!1:ol.test(e)?ss[e]=!0:(rs[e]=!0,!1)}function Pr(e,i,o){if(ll(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function Vi(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function on(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}var sr,Or;function Ui(e){if(sr===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);sr=i&&i[1]||"",Or=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sr+e+Or}var as=!1;function zi(e,i){if(!e||as)return"";as=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(et){var $=et}Reflect.construct(e,[],ct)}else{try{ct.call()}catch(et){$=et}e.call(ct.prototype)}}else{try{throw Error()}catch(et){$=et}(ct=e())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(et){if(et&&$&&typeof et.stack=="string")return[et.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),S=g[0],C=g[1];if(S&&C){var k=S.split(`
`),J=C.split(`
`);for(p=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(c===k.length||p===J.length)for(c=k.length-1,p=J.length-1;1<=c&&0<=p&&k[c]!==J[p];)p--;for(;1<=c&&0<=p;c--,p--)if(k[c]!==J[p]){if(c!==1||p!==1)do if(c--,p--,0>p||k[c]!==J[p]){var ot=`
`+k[c].replace(" at new "," at ");return e.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",e.displayName)),ot}while(1<=c&&0<=p);break}}}finally{as=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Ui(o):""}function Wt(e){switch(e.tag){case 26:case 27:case 5:return Ui(e.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return zi(e.type,!1);case 11:return zi(e.type.render,!1);case 1:return zi(e.type,!0);case 31:return Ui("Activity");default:return""}}function fe(e){try{var i="";do i+=Wt(e),e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bi(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lr(e){var i=Bi(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),c=""+e[i];if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,g=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(S){c=""+S,g.call(this,S)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Mr(e){e._valueTracker||(e._valueTracker=Lr(e))}function Ht(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=Bi(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function pe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var po=/[\n"\\]/g;function De(e){return e.replace(po,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ie(e,i,o,c,p,g,S,C){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),i!=null?S==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Je(i)):e.value!==""+Je(i)&&(e.value=""+Je(i)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),i!=null?mi(e,S,Je(i)):o!=null?mi(e,S,Je(o)):c!=null&&e.removeAttribute("value"),p==null&&g!=null&&(e.defaultChecked=!!g),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Je(C):e.removeAttribute("name")}function os(e,i,o,c,p,g,S,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;o=o!=null?""+Je(o):"",i=i!=null?""+Je(i):o,C||i===e.value||(e.value=i),e.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=C?e.checked:!!c,e.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S)}function mi(e,i,o){i==="number"&&pe(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function An(e,i,o,c){if(e=e.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=i.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Je(o),i=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function Vt(e,i,o){if(i!=null&&(i=""+Je(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+Je(o):""}function Fn(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(Ne(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Je(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c)}function mn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var pi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ws(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||pi.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function ar(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&o[p]!==c&&Ws(e,p,c)}else for(var g in i)i.hasOwnProperty(g)&&Ws(e,g,i[g])}function ls(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var go=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dr(e){return Xs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var gi=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ji=null,_i=null;function _o(e){var i=fi(e);if(i&&(e=i.stateNode)){var o=e[He]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ie(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+De(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var p=c[He]||null;if(!p)throw Error(a(90));Ie(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&Ht(c)}break t;case"textarea":Vt(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&An(e,!!o.multiple,i,!1)}}}var Dt=!1;function Gn(e,i,o){if(Dt)return e(i,o);Dt=!0;try{var c=e(i);return c}finally{if(Dt=!1,(ji!==null||_i!==null)&&(Lh(),ji&&(i=ji,e=_i,_i=ji=null,_o(i),e)))for(i=0;i<e.length;i++)_o(e[i])}}function ae(e,i){var o=e.stateNode;if(o===null)return null;var c=o[He]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if($n)try{var or={};Object.defineProperty(or,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{Dn=!1}var ti=null,Nn=null,vi=null;function lr(){if(vi)return vi;var e,i=Nn,o=i.length,c,p="value"in ti?ti.value:ti.textContent,g=p.length;for(e=0;e<o&&i[e]===p[e];e++);var S=o-e;for(c=1;c<=S&&i[o-c]===p[g-c];c++);return vi=p.slice(e,1<c?1-c:void 0)}function ye(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function pn(){return!0}function Js(){return!1}function Qe(e){function i(o,c,p,g,S){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(o=e[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pn:Js,this.isPropagationStopped=Js,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pn)},persist:function(){},isPersistent:pn}),i}var ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=Qe(ce),ur=b({},ce,{view:0,detail:0}),ul=Qe(ur),cs,Zt,qi,ln=b({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(cs=e.screenX-qi.screenX,Zt=e.screenY-qi.screenY):Zt=cs=0,qi=e),cs)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),gn=Qe(ln),vo=b({},ln,{dataTransfer:0}),_u=Qe(vo),cr=b({},ur,{relatedTarget:0}),$s=Qe(cr),ta=b({},ce,{animationName:0,elapsedTime:0,pseudoElement:0}),ea=Qe(ta),cl=b({},ce,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nr=Qe(cl),vu=b({},ce,{data:0}),kn=Qe(vu),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function na(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=yi[e])?!!i[e]:!1}function kr(){return na}var ia=b({},ur,{key:function(e){if(e.key){var i=hs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ye(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return e.type==="keypress"?ye(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ye(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ra=Qe(ia),Eo=b({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sa=Qe(Eo),hr=b({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),hl=Qe(hr),aa=b({},ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),fl=Qe(aa),To=b({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fs=Qe(To),$e=b({},ce,{newState:0,oldState:0}),Hi=Qe($e),dl=[9,13,27,32],Vn=$n&&"CompositionEvent"in window,f=null;$n&&"documentMode"in document&&(f=document.documentMode);var T=$n&&"TextEvent"in window&&!f,A=$n&&(!Vn||f&&8<f&&11>=f),P=" ",K=!1;function it(e,i){switch(e){case"keyup":return dl.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var te=!1;function Fe(e,i){switch(e){case"compositionend":return vt(i);case"keypress":return i.which!==32?null:(K=!0,P);case"textInput":return e=i.data,e===P&&K?null:e;default:return null}}function ee(e,i){if(te)return e==="compositionend"||!Vn&&it(e,i)?(e=lr(),vi=Nn=ti=null,te=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return A&&i.locale!=="ko"?null:i.data;default:return null}}var de={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!de[e.type]:i==="textarea"}function fr(e,i,o,c){ji?_i?_i.push(c):_i=[c]:ji=c,i=Uh(i,"onChange"),0<i.length&&(o=new us("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var Se=null,Fi=null;function Gi(e){hy(e,0)}function ml(e){var i=wn(e);if(Ht(i))return e}function oa(e,i){if(e==="change")return i}var yu=!1;if($n){var la;if($n){var Eu="oninput"in document;if(!Eu){var dr=document.createElement("div");dr.setAttribute("oninput","return;"),Eu=typeof dr.oninput=="function"}la=Eu}else la=!1;yu=la&&(!document.documentMode||9<document.documentMode)}function wo(){Se&&(Se.detachEvent("onpropertychange",Xc),Fi=Se=null)}function Xc(e){if(e.propertyName==="value"&&ml(Fi)){var i=[];fr(i,Fi,e,Sn(e)),Gn(Gi,i)}}function Tu(e,i,o){e==="focusin"?(wo(),Se=i,Fi=o,Se.attachEvent("onpropertychange",Xc)):e==="focusout"&&wo()}function _d(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(Fi)}function mr(e,i){if(e==="click")return ml(i)}function vd(e,i){if(e==="input"||e==="change")return ml(i)}function ua(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Zn=typeof Object.is=="function"?Object.is:ua;function Kn(e,i){if(Zn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!ui.call(i,p)||!Zn(e[p],i[p]))return!1}return!0}function Ao(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wu(e,i){var o=Ao(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Ao(o)}}function pl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?pl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function So(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=pe(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=pe(e.document)}return i}function bo(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var gl=$n&&"documentMode"in document&&11>=document.documentMode,Ei=null,ca=null,ds=null,_l=!1;function Jc(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_l||Ei==null||Ei!==pe(c)||(c=Ei,"selectionStart"in c&&bo(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ds&&Kn(ds,c)||(ds=c,c=Uh(ca,"onSelect"),0<c.length&&(i=new us("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=Ei)))}function Zi(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var ha={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},vl={},$c={};$n&&($c=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Vr(e){if(vl[e])return vl[e];if(!ha[e])return e;var i=ha[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in $c)return vl[e]=i[o];return e}var th=Vr("animationend"),Ti=Vr("animationiteration"),Ro=Vr("animationstart"),yd=Vr("transitionrun"),yl=Vr("transitionstart"),Ed=Vr("transitioncancel"),Au=Vr("transitionend"),eh=new Map,ms="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ms.push("scrollEnd");function wi(e,i){eh.set(e,i),di(i,[e])}var ps=new WeakMap;function Qn(e,i){if(typeof e=="object"&&e!==null){var o=ps.get(e);return o!==void 0?o:(i={value:e,source:i,stack:fe(i)},ps.set(e,i),i)}return{value:e,source:i,stack:fe(i)}}var Yn=[],fa=0,Ai=0;function Co(){for(var e=fa,i=Ai=fa=0;i<e;){var o=Yn[i];Yn[i++]=null;var c=Yn[i];Yn[i++]=null;var p=Yn[i];Yn[i++]=null;var g=Yn[i];if(Yn[i++]=null,c!==null&&p!==null){var S=c.pending;S===null?p.next=p:(p.next=S.next,S.next=p),c.pending=p}g!==0&&xo(o,p,g)}}function Io(e,i,o,c){Yn[fa++]=e,Yn[fa++]=i,Yn[fa++]=o,Yn[fa++]=c,Ai|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function gs(e,i,o,c){return Io(e,i,o,c),Ur(e)}function da(e,i){return Io(e,null,null,i),Ur(e)}function xo(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(p=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,p&&i!==null&&(p=31-fn(o),e=g.hiddenUpdates,c=e[p],c===null?e[p]=[i]:c.push(i),i.lane=o|536870912),g):null}function Ur(e){if(50<Zu)throw Zu=0,_m=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var _s={};function nh(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,i,o,c){return new nh(e,i,o,c)}function El(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,i){var o=e.alternate;return o===null?(o=Wn(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Su(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Po(e,i,o,c,p,g){var S=0;if(c=e,typeof e=="function")El(e)&&(S=1);else if(typeof e=="string")S=kS(e,o,Tt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=Wn(31,o,i,p),e.elementType=D,e.lanes=g,e;case F:return zr(o.children,p,g,i);case X:S=8,p|=24;break;case tt:return e=Wn(12,o,i,p|2),e.elementType=tt,e.lanes=g,e;case Rt:return e=Wn(13,o,i,p),e.elementType=Rt,e.lanes=g,e;case qt:return e=Wn(19,o,i,p),e.elementType=qt,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case at:case mt:S=10;break t;case ft:S=9;break t;case Pt:S=11;break t;case H:S=14;break t;case O:S=16,c=null;break t}S=29,o=Error(a(130,e===null?"null":typeof e,"")),c=null}return i=Wn(S,o,i,p),i.elementType=e,i.type=c,i.lanes=g,i}function zr(e,i,o,c){return e=Wn(7,e,c,i),e.lanes=o,e}function bu(e,i,o){return e=Wn(6,e,null,i),e.lanes=o,e}function Tl(e,i,o){return i=Wn(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var vs=[],ma=0,s=null,u=0,d=[],_=0,w=null,R=1,N="";function Q(e,i){vs[ma++]=u,vs[ma++]=s,s=e,u=i}function nt(e,i,o){d[_++]=R,d[_++]=N,d[_++]=w,w=e;var c=R;e=N;var p=32-fn(c)-1;c&=~(1<<p),o+=1;var g=32-fn(i)+p;if(30<g){var S=p-p%5;g=(c&(1<<S)-1).toString(32),c>>=S,p-=S,R=1<<32-fn(i)+p|o<<p|c,N=g+e}else R=1<<g|o<<p|c,N=e}function dt(e){e.return!==null&&(Q(e,1),nt(e,1,0))}function wt(e){for(;e===s;)s=vs[--ma],vs[ma]=null,u=vs[--ma],vs[ma]=null;for(;e===w;)w=d[--_],d[_]=null,N=d[--_],d[_]=null,R=d[--_],d[_]=null}var Ct=null,xt=null,jt=!1,Pe=null,Be=!1,_n=Error(a(519));function ei(e){var i=Error(a(418,""));throw ga(Qn(i,e)),_n}function ih(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[Ke]=e,i[He]=c,o){case"dialog":$t("cancel",i),$t("close",i);break;case"iframe":case"object":case"embed":$t("load",i);break;case"video":case"audio":for(o=0;o<Qu.length;o++)$t(Qu[o],i);break;case"source":$t("error",i);break;case"img":case"image":case"link":$t("error",i),$t("load",i);break;case"details":$t("toggle",i);break;case"input":$t("invalid",i),os(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Mr(i);break;case"select":$t("invalid",i);break;case"textarea":$t("invalid",i),Fn(i,c.value,c.defaultValue,c.children),Mr(i)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||py(i.textContent,o)?(c.popover!=null&&($t("beforetoggle",i),$t("toggle",i)),c.onScroll!=null&&$t("scroll",i),c.onScrollEnd!=null&&$t("scrollend",i),c.onClick!=null&&(i.onclick=zh),i=!0):i=!1,i||ei(e)}function rh(e){for(Ct=e.return;Ct;)switch(Ct.tag){case 5:case 13:Be=!1;return;case 27:case 3:Be=!0;return;default:Ct=Ct.return}}function Oo(e){if(e!==Ct)return!1;if(!jt)return rh(e),jt=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Mm(e.type,e.memoizedProps)),o=!o),o&&xt&&ei(e),rh(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(i===0){xt=vr(e.nextSibling);break t}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;e=e.nextSibling}xt=null}}else i===27?(i=xt,Oa(e.type)?(e=Vm,Vm=null,xt=e):xt=i):xt=Ct?vr(e.stateNode.nextSibling):null;return!0}function pa(){xt=Ct=null,jt=!1}function sh(){var e=Pe;return e!==null&&(ri===null?ri=e:ri.push.apply(ri,e),Pe=null),e}function ga(e){Pe===null?Pe=[e]:Pe.push(e)}var ke=st(null),Qi=null,pr=null;function Br(e,i,o){pt(ke,i._currentValue),i._currentValue=o}function gr(e){e._currentValue=ke.current,_t(ke)}function Lo(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function wl(e,i,o,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var g=p.dependencies;if(g!==null){var S=p.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=p;for(var k=0;k<i.length;k++)if(C.context===i[k]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),Lo(g.return,o,e),c||(S=null);break t}g=C.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(a(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),Lo(S,o,e),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===e){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Mo(e,i,o,c){e=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var C=p.type;Zn(p.pendingProps.value,S.value)||(e!==null?e.push(C):e=[C])}}else if(p===ve.current){if(S=p.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(tc):e=[tc])}p=p.return}e!==null&&wl(i,e,o,c),i.flags|=262144}function ah(e){for(e=e.firstContext;e!==null;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Do(e){Qi=e,pr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Un(e){return e_(Qi,e)}function oh(e,i){return Qi===null&&Do(e),e_(e,i)}function e_(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},pr===null){if(e===null)throw Error(a(308));pr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else pr=pr.next=i;return o}var NA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},kA=r.unstable_scheduleCallback,VA=r.unstable_NormalPriority,un={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Td(){return{controller:new NA,data:new Map,refCount:0}}function Ru(e){e.refCount--,e.refCount===0&&kA(VA,function(){e.controller.abort()})}var Cu=null,wd=0,Al=0,Sl=null;function UA(e,i){if(Cu===null){var o=Cu=[];wd=0,Al=Sm(),Sl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return wd++,i.then(n_,n_),i}function n_(){if(--wd===0&&Cu!==null){Sl!==null&&(Sl.status="fulfilled");var e=Cu;Cu=null,Al=0,Sl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function zA(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var i_=rt.S;rt.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&UA(e,i),i_!==null&&i_(e,i)};var No=st(null);function Ad(){var e=No.current;return e!==null?e:Oe.pooledCache}function lh(e,i){i===null?pt(No,No.current):pt(No,i.pool)}function r_(){var e=Ad();return e===null?null:{parent:un._currentValue,pool:e}}var Iu=Error(a(460)),s_=Error(a(474)),uh=Error(a(542)),Sd={then:function(){}};function a_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ch(){}function o_(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(ch,ch),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,u_(e),e;default:if(typeof i.status=="string")i.then(ch,ch);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,u_(e),e}throw xu=i,Iu}}var xu=null;function l_(){if(xu===null)throw Error(a(459));var e=xu;return xu=null,e}function u_(e){if(e===Iu||e===uh)throw Error(a(483))}var _a=!1;function bd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function va(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ya(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=Ur(e),xo(e,null,o),i}return Io(e,c,i,o),Ur(e)}function Pu(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,ho(e,o)}}function Cd(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?p=g=i:g=g.next=i}else p=g=i;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var Id=!1;function Ou(){if(Id){var e=Sl;if(e!==null)throw e}}function Lu(e,i,o,c){Id=!1;var p=e.updateQueue;_a=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var k=C,J=k.next;k.next=null,S===null?g=J:S.next=J,S=k;var ot=e.alternate;ot!==null&&(ot=ot.updateQueue,C=ot.lastBaseUpdate,C!==S&&(C===null?ot.firstBaseUpdate=J:C.next=J,ot.lastBaseUpdate=k))}if(g!==null){var ct=p.baseState;S=0,ot=J=k=null,C=g;do{var $=C.lane&-536870913,et=$!==C.lane;if(et?(oe&$)===$:(c&$)===$){$!==0&&$===Al&&(Id=!0),ot!==null&&(ot=ot.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Bt=e,Nt=C;$=i;var we=o;switch(Nt.tag){case 1:if(Bt=Nt.payload,typeof Bt=="function"){ct=Bt.call(we,ct,$);break t}ct=Bt;break t;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Nt.payload,$=typeof Bt=="function"?Bt.call(we,ct,$):Bt,$==null)break t;ct=b({},ct,$);break t;case 2:_a=!0}}$=C.callback,$!==null&&(e.flags|=64,et&&(e.flags|=8192),et=p.callbacks,et===null?p.callbacks=[$]:et.push($))}else et={lane:$,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ot===null?(J=ot=et,k=ct):ot=ot.next=et,S|=$;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;et=C,C=et.next,et.next=null,p.lastBaseUpdate=et,p.shared.pending=null}}while(!0);ot===null&&(k=ct),p.baseState=k,p.firstBaseUpdate=J,p.lastBaseUpdate=ot,g===null&&(p.shared.lanes=0),Ca|=S,e.lanes=S,e.memoizedState=ct}}function c_(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function h_(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)c_(o[e],i)}var bl=st(null),hh=st(0);function f_(e,i){e=bs,pt(hh,e),pt(bl,i),bs=e|i.baseLanes}function xd(){pt(hh,bs),pt(bl,bl.current)}function Pd(){bs=hh.current,_t(bl),_t(hh)}var Ea=0,Qt=null,Ee=null,tn=null,fh=!1,Rl=!1,ko=!1,dh=0,Mu=0,Cl=null,BA=0;function Ye(){throw Error(a(321))}function Od(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!Zn(e[o],i[o]))return!1;return!0}function Ld(e,i,o,c,p,g){return Ea=g,Qt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,rt.H=e===null||e.memoizedState===null?Y_:W_,ko=!1,g=o(c,p),ko=!1,Rl&&(g=m_(i,o,c,p)),d_(e),g}function d_(e){rt.H=yh;var i=Ee!==null&&Ee.next!==null;if(Ea=0,tn=Ee=Qt=null,fh=!1,Mu=0,Cl=null,i)throw Error(a(300));e===null||vn||(e=e.dependencies,e!==null&&ah(e)&&(vn=!0))}function m_(e,i,o,c){Qt=e;var p=0;do{if(Rl&&(Cl=null),Mu=0,Rl=!1,25<=p)throw Error(a(301));if(p+=1,tn=Ee=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}rt.H=KA,g=i(o,c)}while(Rl);return g}function jA(){var e=rt.H,i=e.useState()[0];return i=typeof i.then=="function"?Du(i):i,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(Qt.flags|=1024),i}function Md(){var e=dh!==0;return dh=0,e}function Dd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function Nd(e){if(fh){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}fh=!1}Ea=0,tn=Ee=Qt=null,Rl=!1,Mu=dh=0,Cl=null}function ni(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Qt.memoizedState=tn=e:tn=tn.next=e,tn}function en(){if(Ee===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var i=tn===null?Qt.memoizedState:tn.next;if(i!==null)tn=i,Ee=e;else{if(e===null)throw Qt.alternate===null?Error(a(467)):Error(a(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},tn===null?Qt.memoizedState=tn=e:tn=tn.next=e}return tn}function kd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Du(e){var i=Mu;return Mu+=1,Cl===null&&(Cl=[]),e=o_(Cl,e,i),i=Qt,(tn===null?i.memoizedState:tn.next)===null&&(i=i.alternate,rt.H=i===null||i.memoizedState===null?Y_:W_),e}function mh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Du(e);if(e.$$typeof===mt)return Un(e)}throw Error(a(438,String(e)))}function Vd(e){var i=null,o=Qt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Qt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=kd(),Qt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=z;return i.index++,o}function ys(e,i){return typeof i=="function"?i(e):i}function ph(e){var i=en();return Ud(i,Ee,e)}function Ud(e,i,o){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var p=e.baseQueue,g=c.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}i.baseQueue=p=g,c.pending=null}if(g=e.baseState,p===null)e.memoizedState=g;else{i=p.next;var C=S=null,k=null,J=i,ot=!1;do{var ct=J.lane&-536870913;if(ct!==J.lane?(oe&ct)===ct:(Ea&ct)===ct){var $=J.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ct===Al&&(ot=!0);else if((Ea&$)===$){J=J.next,$===Al&&(ot=!0);continue}else ct={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},k===null?(C=k=ct,S=g):k=k.next=ct,Qt.lanes|=$,Ca|=$;ct=J.action,ko&&o(g,ct),g=J.hasEagerState?J.eagerState:o(g,ct)}else $={lane:ct,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},k===null?(C=k=$,S=g):k=k.next=$,Qt.lanes|=ct,Ca|=ct;J=J.next}while(J!==null&&J!==i);if(k===null?S=g:k.next=C,!Zn(g,e.memoizedState)&&(vn=!0,ot&&(o=Sl,o!==null)))throw o;e.memoizedState=g,e.baseState=S,e.baseQueue=k,c.lastRenderedState=g}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function zd(e){var i=en(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var c=o.dispatch,p=o.pending,g=i.memoizedState;if(p!==null){o.pending=null;var S=p=p.next;do g=e(g,S.action),S=S.next;while(S!==p);Zn(g,i.memoizedState)||(vn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function p_(e,i,o){var c=Qt,p=en(),g=jt;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=i();var S=!Zn((Ee||p).memoizedState,o);S&&(p.memoizedState=o,vn=!0),p=p.queue;var C=v_.bind(null,c,p,e);if(Nu(2048,8,C,[e]),p.getSnapshot!==i||S||tn!==null&&tn.memoizedState.tag&1){if(c.flags|=2048,Il(9,gh(),__.bind(null,c,p,o,i),null),Oe===null)throw Error(a(349));g||(Ea&124)!==0||g_(c,i,o)}return o}function g_(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Qt.updateQueue,i===null?(i=kd(),Qt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function __(e,i,o,c){i.value=o,i.getSnapshot=c,y_(i)&&E_(e)}function v_(e,i,o){return o(function(){y_(i)&&E_(e)})}function y_(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!Zn(e,o)}catch{return!0}}function E_(e){var i=da(e,2);i!==null&&Ii(i,e,2)}function Bd(e){var i=ni();if(typeof e=="function"){var o=e;if(e=o(),ko){Ln(!0);try{o()}finally{Ln(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},i}function T_(e,i,o,c){return e.baseState=o,Ud(e,Ee,typeof c=="function"?c:ys)}function qA(e,i,o,c,p){if(vh(e))throw Error(a(485));if(e=i.action,e!==null){var g={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};rt.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,w_(i,g)):(g.next=o.next,i.pending=o.next=g)}}function w_(e,i){var o=i.action,c=i.payload,p=e.state;if(i.isTransition){var g=rt.T,S={};rt.T=S;try{var C=o(p,c),k=rt.S;k!==null&&k(S,C),A_(e,i,C)}catch(J){jd(e,i,J)}finally{rt.T=g}}else try{g=o(p,c),A_(e,i,g)}catch(J){jd(e,i,J)}}function A_(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){S_(e,i,c)},function(c){return jd(e,i,c)}):S_(e,i,o)}function S_(e,i,o){i.status="fulfilled",i.value=o,b_(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,w_(e,o)))}function jd(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,b_(i),i=i.next;while(i!==c)}e.action=null}function b_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function R_(e,i){return i}function C_(e,i){if(jt){var o=Oe.formState;if(o!==null){t:{var c=Qt;if(jt){if(xt){e:{for(var p=xt,g=Be;p.nodeType!==8;){if(!g){p=null;break e}if(p=vr(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){xt=vr(p.nextSibling),c=p.data==="F!";break t}}ei(c)}c=!1}c&&(i=o[0])}}return o=ni(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R_,lastRenderedState:i},o.queue=c,o=Z_.bind(null,Qt,c),c.dispatch=o,c=Bd(!1),g=Zd.bind(null,Qt,!1,c.queue),c=ni(),p={state:i,dispatch:null,action:e,pending:null},c.queue=p,o=qA.bind(null,Qt,p,g,o),p.dispatch=o,c.memoizedState=e,[i,o,!1]}function I_(e){var i=en();return x_(i,Ee,e)}function x_(e,i,o){if(i=Ud(e,i,R_)[0],e=ph(ys)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Du(i)}catch(S){throw S===Iu?uh:S}else c=i;i=en();var p=i.queue,g=p.dispatch;return o!==i.memoizedState&&(Qt.flags|=2048,Il(9,gh(),HA.bind(null,p,o),null)),[c,g,e]}function HA(e,i){e.action=i}function P_(e){var i=en(),o=Ee;if(o!==null)return x_(i,o,e);en(),i=i.memoizedState,o=en();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function Il(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Qt.updateQueue,i===null&&(i=kd(),Qt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function gh(){return{destroy:void 0,resource:void 0}}function O_(){return en().memoizedState}function _h(e,i,o,c){var p=ni();c=c===void 0?null:c,Qt.flags|=e,p.memoizedState=Il(1|i,gh(),o,c)}function Nu(e,i,o,c){var p=en();c=c===void 0?null:c;var g=p.memoizedState.inst;Ee!==null&&c!==null&&Od(c,Ee.memoizedState.deps)?p.memoizedState=Il(i,g,o,c):(Qt.flags|=e,p.memoizedState=Il(1|i,g,o,c))}function L_(e,i){_h(8390656,8,e,i)}function M_(e,i){Nu(2048,8,e,i)}function D_(e,i){return Nu(4,2,e,i)}function N_(e,i){return Nu(4,4,e,i)}function k_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function V_(e,i,o){o=o!=null?o.concat([e]):null,Nu(4,4,k_.bind(null,i,e),o)}function qd(){}function U_(e,i){var o=en();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Od(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function z_(e,i){var o=en();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Od(i,c[1]))return c[0];if(c=e(),ko){Ln(!0);try{e()}finally{Ln(!1)}}return o.memoizedState=[c,i],c}function Hd(e,i,o){return o===void 0||(Ea&1073741824)!==0?e.memoizedState=i:(e.memoizedState=o,e=qv(),Qt.lanes|=e,Ca|=e,o)}function B_(e,i,o,c){return Zn(o,i)?o:bl.current!==null?(e=Hd(e,o,c),Zn(e,i)||(vn=!0),e):(Ea&42)===0?(vn=!0,e.memoizedState=o):(e=qv(),Qt.lanes|=e,Ca|=e,i)}function j_(e,i,o,c,p){var g=yt.p;yt.p=g!==0&&8>g?g:8;var S=rt.T,C={};rt.T=C,Zd(e,!1,i,o);try{var k=p(),J=rt.S;if(J!==null&&J(C,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ot=zA(k,c);ku(e,i,ot,Ci(e))}else ku(e,i,c,Ci(e))}catch(ct){ku(e,i,{then:function(){},status:"rejected",reason:ct},Ci())}finally{yt.p=g,rt.T=S}}function FA(){}function Fd(e,i,o,c){if(e.tag!==5)throw Error(a(476));var p=q_(e).queue;j_(e,p,i,gt,o===null?FA:function(){return H_(e),o(c)})}function q_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:gt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function H_(e){var i=q_(e).next.queue;ku(e,i,{},Ci())}function Gd(){return Un(tc)}function F_(){return en().memoizedState}function G_(){return en().memoizedState}function GA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Ci();e=va(o);var c=ya(i,e,o);c!==null&&(Ii(c,i,o),Pu(c,i,o)),i={cache:Td()},e.payload=i;return}i=i.return}}function ZA(e,i,o){var c=Ci();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},vh(e)?K_(i,o):(o=gs(e,i,o,c),o!==null&&(Ii(o,e,c),Q_(o,i,c)))}function Z_(e,i,o){var c=Ci();ku(e,i,o,c)}function ku(e,i,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(vh(e))K_(i,p);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var S=i.lastRenderedState,C=g(S,o);if(p.hasEagerState=!0,p.eagerState=C,Zn(C,S))return Io(e,i,p,0),Oe===null&&Co(),!1}catch{}finally{}if(o=gs(e,i,p,c),o!==null)return Ii(o,e,c),Q_(o,i,c),!0}return!1}function Zd(e,i,o,c){if(c={lane:2,revertLane:Sm(),action:c,hasEagerState:!1,eagerState:null,next:null},vh(e)){if(i)throw Error(a(479))}else i=gs(e,o,c,2),i!==null&&Ii(i,e,2)}function vh(e){var i=e.alternate;return e===Qt||i!==null&&i===Qt}function K_(e,i){Rl=fh=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function Q_(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,ho(e,o)}}var yh={readContext:Un,use:mh,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},Y_={readContext:Un,use:mh,useCallback:function(e,i){return ni().memoizedState=[e,i===void 0?null:i],e},useContext:Un,useEffect:L_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,_h(4194308,4,k_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return _h(4194308,4,e,i)},useInsertionEffect:function(e,i){_h(4,2,e,i)},useMemo:function(e,i){var o=ni();i=i===void 0?null:i;var c=e();if(ko){Ln(!0);try{e()}finally{Ln(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=ni();if(o!==void 0){var p=o(i);if(ko){Ln(!0);try{o(i)}finally{Ln(!1)}}}else p=i;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=ZA.bind(null,Qt,e),[c.memoizedState,e]},useRef:function(e){var i=ni();return e={current:e},i.memoizedState=e},useState:function(e){e=Bd(e);var i=e.queue,o=Z_.bind(null,Qt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:qd,useDeferredValue:function(e,i){var o=ni();return Hd(o,e,i)},useTransition:function(){var e=Bd(!1);return e=j_.bind(null,Qt,e.queue,!0,!1),ni().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Qt,p=ni();if(jt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Oe===null)throw Error(a(349));(oe&124)!==0||g_(c,i,o)}p.memoizedState=o;var g={value:o,getSnapshot:i};return p.queue=g,L_(v_.bind(null,c,g,e),[e]),c.flags|=2048,Il(9,gh(),__.bind(null,c,g,o,i),null),o},useId:function(){var e=ni(),i=Oe.identifierPrefix;if(jt){var o=N,c=R;o=(c&~(1<<32-fn(c)-1)).toString(32)+o,i=""+i+"R"+o,o=dh++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=BA++,i=""+i+"r"+o.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Gd,useFormState:C_,useActionState:C_,useOptimistic:function(e){var i=ni();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Zd.bind(null,Qt,!0,o),o.dispatch=i,[e,i]},useMemoCache:Vd,useCacheRefresh:function(){return ni().memoizedState=GA.bind(null,Qt)}},W_={readContext:Un,use:mh,useCallback:U_,useContext:Un,useEffect:M_,useImperativeHandle:V_,useInsertionEffect:D_,useLayoutEffect:N_,useMemo:z_,useReducer:ph,useRef:O_,useState:function(){return ph(ys)},useDebugValue:qd,useDeferredValue:function(e,i){var o=en();return B_(o,Ee.memoizedState,e,i)},useTransition:function(){var e=ph(ys)[0],i=en().memoizedState;return[typeof e=="boolean"?e:Du(e),i]},useSyncExternalStore:p_,useId:F_,useHostTransitionStatus:Gd,useFormState:I_,useActionState:I_,useOptimistic:function(e,i){var o=en();return T_(o,Ee,e,i)},useMemoCache:Vd,useCacheRefresh:G_},KA={readContext:Un,use:mh,useCallback:U_,useContext:Un,useEffect:M_,useImperativeHandle:V_,useInsertionEffect:D_,useLayoutEffect:N_,useMemo:z_,useReducer:zd,useRef:O_,useState:function(){return zd(ys)},useDebugValue:qd,useDeferredValue:function(e,i){var o=en();return Ee===null?Hd(o,e,i):B_(o,Ee.memoizedState,e,i)},useTransition:function(){var e=zd(ys)[0],i=en().memoizedState;return[typeof e=="boolean"?e:Du(e),i]},useSyncExternalStore:p_,useId:F_,useHostTransitionStatus:Gd,useFormState:P_,useActionState:P_,useOptimistic:function(e,i){var o=en();return Ee!==null?T_(o,Ee,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Vd,useCacheRefresh:G_},xl=null,Vu=0;function Eh(e){var i=Vu;return Vu+=1,xl===null&&(xl=[]),o_(xl,e,i)}function Uu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Th(e,i){throw i.$$typeof===I?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function X_(e){var i=e._init;return i(e._payload)}function J_(e){function i(Z,q){if(e){var W=Z.deletions;W===null?(Z.deletions=[q],Z.flags|=16):W.push(q)}}function o(Z,q){if(!e)return null;for(;q!==null;)i(Z,q),q=q.sibling;return null}function c(Z){for(var q=new Map;Z!==null;)Z.key!==null?q.set(Z.key,Z):q.set(Z.index,Z),Z=Z.sibling;return q}function p(Z,q){return Z=Ki(Z,q),Z.index=0,Z.sibling=null,Z}function g(Z,q,W){return Z.index=W,e?(W=Z.alternate,W!==null?(W=W.index,W<q?(Z.flags|=67108866,q):W):(Z.flags|=67108866,q)):(Z.flags|=1048576,q)}function S(Z){return e&&Z.alternate===null&&(Z.flags|=67108866),Z}function C(Z,q,W,lt){return q===null||q.tag!==6?(q=bu(W,Z.mode,lt),q.return=Z,q):(q=p(q,W),q.return=Z,q)}function k(Z,q,W,lt){var It=W.type;return It===F?ot(Z,q,W.props.children,lt,W.key):q!==null&&(q.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===O&&X_(It)===q.type)?(q=p(q,W.props),Uu(q,W),q.return=Z,q):(q=Po(W.type,W.key,W.props,null,Z.mode,lt),Uu(q,W),q.return=Z,q)}function J(Z,q,W,lt){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=Tl(W,Z.mode,lt),q.return=Z,q):(q=p(q,W.children||[]),q.return=Z,q)}function ot(Z,q,W,lt,It){return q===null||q.tag!==7?(q=zr(W,Z.mode,lt,It),q.return=Z,q):(q=p(q,W),q.return=Z,q)}function ct(Z,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=bu(""+q,Z.mode,W),q.return=Z,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return W=Po(q.type,q.key,q.props,null,Z.mode,W),Uu(W,q),W.return=Z,W;case B:return q=Tl(q,Z.mode,W),q.return=Z,q;case O:var lt=q._init;return q=lt(q._payload),ct(Z,q,W)}if(Ne(q)||G(q))return q=zr(q,Z.mode,W,null),q.return=Z,q;if(typeof q.then=="function")return ct(Z,Eh(q),W);if(q.$$typeof===mt)return ct(Z,oh(Z,q),W);Th(Z,q)}return null}function $(Z,q,W,lt){var It=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return It!==null?null:C(Z,q,""+W,lt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return W.key===It?k(Z,q,W,lt):null;case B:return W.key===It?J(Z,q,W,lt):null;case O:return It=W._init,W=It(W._payload),$(Z,q,W,lt)}if(Ne(W)||G(W))return It!==null?null:ot(Z,q,W,lt,null);if(typeof W.then=="function")return $(Z,q,Eh(W),lt);if(W.$$typeof===mt)return $(Z,q,oh(Z,W),lt);Th(Z,W)}return null}function et(Z,q,W,lt,It){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Z=Z.get(W)||null,C(q,Z,""+lt,It);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case x:return Z=Z.get(lt.key===null?W:lt.key)||null,k(q,Z,lt,It);case B:return Z=Z.get(lt.key===null?W:lt.key)||null,J(q,Z,lt,It);case O:var Xt=lt._init;return lt=Xt(lt._payload),et(Z,q,W,lt,It)}if(Ne(lt)||G(lt))return Z=Z.get(W)||null,ot(q,Z,lt,It,null);if(typeof lt.then=="function")return et(Z,q,W,Eh(lt),It);if(lt.$$typeof===mt)return et(Z,q,W,oh(q,lt),It);Th(q,lt)}return null}function Bt(Z,q,W,lt){for(var It=null,Xt=null,Lt=q,kt=q=0,En=null;Lt!==null&&kt<W.length;kt++){Lt.index>kt?(En=Lt,Lt=null):En=Lt.sibling;var he=$(Z,Lt,W[kt],lt);if(he===null){Lt===null&&(Lt=En);break}e&&Lt&&he.alternate===null&&i(Z,Lt),q=g(he,q,kt),Xt===null?It=he:Xt.sibling=he,Xt=he,Lt=En}if(kt===W.length)return o(Z,Lt),jt&&Q(Z,kt),It;if(Lt===null){for(;kt<W.length;kt++)Lt=ct(Z,W[kt],lt),Lt!==null&&(q=g(Lt,q,kt),Xt===null?It=Lt:Xt.sibling=Lt,Xt=Lt);return jt&&Q(Z,kt),It}for(Lt=c(Lt);kt<W.length;kt++)En=et(Lt,Z,kt,W[kt],lt),En!==null&&(e&&En.alternate!==null&&Lt.delete(En.key===null?kt:En.key),q=g(En,q,kt),Xt===null?It=En:Xt.sibling=En,Xt=En);return e&&Lt.forEach(function(ka){return i(Z,ka)}),jt&&Q(Z,kt),It}function Nt(Z,q,W,lt){if(W==null)throw Error(a(151));for(var It=null,Xt=null,Lt=q,kt=q=0,En=null,he=W.next();Lt!==null&&!he.done;kt++,he=W.next()){Lt.index>kt?(En=Lt,Lt=null):En=Lt.sibling;var ka=$(Z,Lt,he.value,lt);if(ka===null){Lt===null&&(Lt=En);break}e&&Lt&&ka.alternate===null&&i(Z,Lt),q=g(ka,q,kt),Xt===null?It=ka:Xt.sibling=ka,Xt=ka,Lt=En}if(he.done)return o(Z,Lt),jt&&Q(Z,kt),It;if(Lt===null){for(;!he.done;kt++,he=W.next())he=ct(Z,he.value,lt),he!==null&&(q=g(he,q,kt),Xt===null?It=he:Xt.sibling=he,Xt=he);return jt&&Q(Z,kt),It}for(Lt=c(Lt);!he.done;kt++,he=W.next())he=et(Lt,Z,kt,he.value,lt),he!==null&&(e&&he.alternate!==null&&Lt.delete(he.key===null?kt:he.key),q=g(he,q,kt),Xt===null?It=he:Xt.sibling=he,Xt=he);return e&&Lt.forEach(function(QS){return i(Z,QS)}),jt&&Q(Z,kt),It}function we(Z,q,W,lt){if(typeof W=="object"&&W!==null&&W.type===F&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case x:t:{for(var It=W.key;q!==null;){if(q.key===It){if(It=W.type,It===F){if(q.tag===7){o(Z,q.sibling),lt=p(q,W.props.children),lt.return=Z,Z=lt;break t}}else if(q.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===O&&X_(It)===q.type){o(Z,q.sibling),lt=p(q,W.props),Uu(lt,W),lt.return=Z,Z=lt;break t}o(Z,q);break}else i(Z,q);q=q.sibling}W.type===F?(lt=zr(W.props.children,Z.mode,lt,W.key),lt.return=Z,Z=lt):(lt=Po(W.type,W.key,W.props,null,Z.mode,lt),Uu(lt,W),lt.return=Z,Z=lt)}return S(Z);case B:t:{for(It=W.key;q!==null;){if(q.key===It)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){o(Z,q.sibling),lt=p(q,W.children||[]),lt.return=Z,Z=lt;break t}else{o(Z,q);break}else i(Z,q);q=q.sibling}lt=Tl(W,Z.mode,lt),lt.return=Z,Z=lt}return S(Z);case O:return It=W._init,W=It(W._payload),we(Z,q,W,lt)}if(Ne(W))return Bt(Z,q,W,lt);if(G(W)){if(It=G(W),typeof It!="function")throw Error(a(150));return W=It.call(W),Nt(Z,q,W,lt)}if(typeof W.then=="function")return we(Z,q,Eh(W),lt);if(W.$$typeof===mt)return we(Z,q,oh(Z,W),lt);Th(Z,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(o(Z,q.sibling),lt=p(q,W),lt.return=Z,Z=lt):(o(Z,q),lt=bu(W,Z.mode,lt),lt.return=Z,Z=lt),S(Z)):o(Z,q)}return function(Z,q,W,lt){try{Vu=0;var It=we(Z,q,W,lt);return xl=null,It}catch(Lt){if(Lt===Iu||Lt===uh)throw Lt;var Xt=Wn(29,Lt,null,Z.mode);return Xt.lanes=lt,Xt.return=Z,Xt}finally{}}}var Pl=J_(!0),$_=J_(!1),Yi=st(null),jr=null;function Ta(e){var i=e.alternate;pt(cn,cn.current&1),pt(Yi,e),jr===null&&(i===null||bl.current!==null||i.memoizedState!==null)&&(jr=e)}function tv(e){if(e.tag===22){if(pt(cn,cn.current),pt(Yi,e),jr===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(jr=e)}}else wa()}function wa(){pt(cn,cn.current),pt(Yi,Yi.current)}function Es(e){_t(Yi),jr===e&&(jr=null),_t(cn)}var cn=st(0);function wh(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||km(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Kd(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:b({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Qd={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=Ci(),p=va(c);p.payload=i,o!=null&&(p.callback=o),i=ya(e,p,c),i!==null&&(Ii(i,e,c),Pu(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=Ci(),p=va(c);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=ya(e,p,c),i!==null&&(Ii(i,e,c),Pu(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Ci(),c=va(o);c.tag=2,i!=null&&(c.callback=i),i=ya(e,c,o),i!==null&&(Ii(i,e,o),Pu(i,e,o))}};function ev(e,i,o,c,p,g,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,S):i.prototype&&i.prototype.isPureReactComponent?!Kn(o,c)||!Kn(p,g):!0}function nv(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&Qd.enqueueReplaceState(i,i.state,null)}function Vo(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=b({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}var Ah=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function iv(e){Ah(e)}function rv(e){console.error(e)}function sv(e){Ah(e)}function Sh(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function av(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Yd(e,i,o){return o=va(o),o.tag=3,o.payload={element:null},o.callback=function(){Sh(e,i)},o}function ov(e){return e=va(e),e.tag=3,e}function lv(e,i,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;e.payload=function(){return p(g)},e.callback=function(){av(i,o,c)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){av(i,o,c),typeof p!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function QA(e,i,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Mo(i,o,p,!0),o=Yi.current,o!==null){switch(o.tag){case 13:return jr===null?ym():o.alternate===null&&Ge===0&&(Ge=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===Sd?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Tm(e,c,p)),!1;case 22:return o.flags|=65536,c===Sd?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Tm(e,c,p)),!1}throw Error(a(435,o.tag))}return Tm(e,c,p),ym(),!1}if(jt)return i=Yi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==_n&&(e=Error(a(422),{cause:c}),ga(Qn(e,o)))):(c!==_n&&(i=Error(a(423),{cause:c}),ga(Qn(i,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=Qn(c,o),p=Yd(e.stateNode,c,p),Cd(e,p),Ge!==4&&(Ge=2)),!1;var g=Error(a(520),{cause:c});if(g=Qn(g,o),Gu===null?Gu=[g]:Gu.push(g),Ge!==4&&(Ge=2),i===null)return!0;c=Qn(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=Yd(o.stateNode,c,e),Cd(o,e),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ia===null||!Ia.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=ov(p),lv(p,e,o,c),Cd(o,p),!1}o=o.return}while(o!==null);return!1}var uv=Error(a(461)),vn=!1;function bn(e,i,o,c){i.child=e===null?$_(i,null,o,c):Pl(i,e.child,o,c)}function cv(e,i,o,c,p){o=o.render;var g=i.ref;if("ref"in c){var S={};for(var C in c)C!=="ref"&&(S[C]=c[C])}else S=c;return Do(i),c=Ld(e,i,o,S,g,p),C=Md(),e!==null&&!vn?(Dd(e,i,p),Ts(e,i,p)):(jt&&C&&dt(i),i.flags|=1,bn(e,i,c,p),i.child)}function hv(e,i,o,c,p){if(e===null){var g=o.type;return typeof g=="function"&&!El(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,fv(e,i,g,c,p)):(e=Po(o.type,null,c,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!im(e,p)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:Kn,o(S,c)&&e.ref===i.ref)return Ts(e,i,p)}return i.flags|=1,e=Ki(g,c),e.ref=i.ref,e.return=i,i.child=e}function fv(e,i,o,c,p){if(e!==null){var g=e.memoizedProps;if(Kn(g,c)&&e.ref===i.ref)if(vn=!1,i.pendingProps=c=g,im(e,p))(e.flags&131072)!==0&&(vn=!0);else return i.lanes=e.lanes,Ts(e,i,p)}return Wd(e,i,o,c,p)}function dv(e,i,o){var c=i.pendingProps,p=c.children,g=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,e!==null){for(p=i.child=e.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;i.childLanes=g&~c}else i.childLanes=0,i.child=null;return mv(e,i,c,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&lh(i,g!==null?g.cachePool:null),g!==null?f_(i,g):xd(),tv(i);else return i.lanes=i.childLanes=536870912,mv(e,i,g!==null?g.baseLanes|o:o,o)}else g!==null?(lh(i,g.cachePool),f_(i,g),wa(),i.memoizedState=null):(e!==null&&lh(i,null),xd(),wa());return bn(e,i,p,o),i.child}function mv(e,i,o,c){var p=Ad();return p=p===null?null:{parent:un._currentValue,pool:p},i.memoizedState={baseLanes:o,cachePool:p},e!==null&&lh(i,null),xd(),tv(i),e!==null&&Mo(e,i,c,!0),null}function bh(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function Wd(e,i,o,c,p){return Do(i),o=Ld(e,i,o,c,void 0,p),c=Md(),e!==null&&!vn?(Dd(e,i,p),Ts(e,i,p)):(jt&&c&&dt(i),i.flags|=1,bn(e,i,o,p),i.child)}function pv(e,i,o,c,p,g){return Do(i),i.updateQueue=null,o=m_(i,c,o,p),d_(e),c=Md(),e!==null&&!vn?(Dd(e,i,g),Ts(e,i,g)):(jt&&c&&dt(i),i.flags|=1,bn(e,i,o,g),i.child)}function gv(e,i,o,c,p){if(Do(i),i.stateNode===null){var g=_s,S=o.contextType;typeof S=="object"&&S!==null&&(g=Un(S)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Qd,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},bd(i),S=o.contextType,g.context=typeof S=="object"&&S!==null?Un(S):_s,g.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Kd(i,o,S,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&Qd.enqueueReplaceState(g,g.state,null),Lu(i,c,g,p),Ou(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){g=i.stateNode;var C=i.memoizedProps,k=Vo(o,C);g.props=k;var J=g.context,ot=o.contextType;S=_s,typeof ot=="object"&&ot!==null&&(S=Un(ot));var ct=o.getDerivedStateFromProps;ot=typeof ct=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,ot||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||J!==S)&&nv(i,g,c,S),_a=!1;var $=i.memoizedState;g.state=$,Lu(i,c,g,p),Ou(),J=i.memoizedState,C||$!==J||_a?(typeof ct=="function"&&(Kd(i,o,ct,c),J=i.memoizedState),(k=_a||ev(i,o,k,c,$,J,S))?(ot||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=J),g.props=c,g.state=J,g.context=S,c=k):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Rd(e,i),S=i.memoizedProps,ot=Vo(o,S),g.props=ot,ct=i.pendingProps,$=g.context,J=o.contextType,k=_s,typeof J=="object"&&J!==null&&(k=Un(J)),C=o.getDerivedStateFromProps,(J=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==ct||$!==k)&&nv(i,g,c,k),_a=!1,$=i.memoizedState,g.state=$,Lu(i,c,g,p),Ou();var et=i.memoizedState;S!==ct||$!==et||_a||e!==null&&e.dependencies!==null&&ah(e.dependencies)?(typeof C=="function"&&(Kd(i,o,C,c),et=i.memoizedState),(ot=_a||ev(i,o,ot,c,$,et,k)||e!==null&&e.dependencies!==null&&ah(e.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,et,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,et,k)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&$===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&$===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=et),g.props=c,g.state=et,g.context=k,c=ot):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&$===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&$===e.memoizedState||(i.flags|=1024),c=!1)}return g=c,bh(e,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&c?(i.child=Pl(i,e.child,null,p),i.child=Pl(i,null,o,p)):bn(e,i,o,p),i.memoizedState=g.state,e=i.child):e=Ts(e,i,p),e}function _v(e,i,o,c){return pa(),i.flags|=256,bn(e,i,o,c),i.child}var Xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jd(e){return{baseLanes:e,cachePool:r_()}}function $d(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Wi),e}function vv(e,i,o){var c=i.pendingProps,p=!1,g=(i.flags&128)!==0,S;if((S=g)||(S=e!==null&&e.memoizedState===null?!1:(cn.current&2)!==0),S&&(p=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(p?Ta(i):wa(),jt){var C=xt,k;if(k=C){t:{for(k=C,C=Be;k.nodeType!==8;){if(!C){C=null;break t}if(k=vr(k.nextSibling),k===null){C=null;break t}}C=k}C!==null?(i.memoizedState={dehydrated:C,treeContext:w!==null?{id:R,overflow:N}:null,retryLane:536870912,hydrationErrors:null},k=Wn(18,null,null,0),k.stateNode=C,k.return=i,i.child=k,Ct=i,xt=null,k=!0):k=!1}k||ei(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return km(C)?i.lanes=32:i.lanes=536870912,null;Es(i)}return C=c.children,c=c.fallback,p?(wa(),p=i.mode,C=Rh({mode:"hidden",children:C},p),c=zr(c,p,o,null),C.return=i,c.return=i,C.sibling=c,i.child=C,p=i.child,p.memoizedState=Jd(o),p.childLanes=$d(e,S,o),i.memoizedState=Xd,c):(Ta(i),tm(i,C))}if(k=e.memoizedState,k!==null&&(C=k.dehydrated,C!==null)){if(g)i.flags&256?(Ta(i),i.flags&=-257,i=em(e,i,o)):i.memoizedState!==null?(wa(),i.child=e.child,i.flags|=128,i=null):(wa(),p=c.fallback,C=i.mode,c=Rh({mode:"visible",children:c.children},C),p=zr(p,C,o,null),p.flags|=2,c.return=i,p.return=i,c.sibling=p,i.child=c,Pl(i,e.child,null,o),c=i.child,c.memoizedState=Jd(o),c.childLanes=$d(e,S,o),i.memoizedState=Xd,i=p);else if(Ta(i),km(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var J=S.dgst;S=J,c=Error(a(419)),c.stack="",c.digest=S,ga({value:c,source:null,stack:null}),i=em(e,i,o)}else if(vn||Mo(e,i,o,!1),S=(o&e.childLanes)!==0,vn||S){if(S=Oe,S!==null&&(c=o&-o,c=(c&42)!==0?1:Cr(c),c=(c&(S.suspendedLanes|o))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,da(e,c),Ii(S,e,c),uv;C.data==="$?"||ym(),i=em(e,i,o)}else C.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=k.treeContext,xt=vr(C.nextSibling),Ct=i,jt=!0,Pe=null,Be=!1,e!==null&&(d[_++]=R,d[_++]=N,d[_++]=w,R=e.id,N=e.overflow,w=i),i=tm(i,c.children),i.flags|=4096);return i}return p?(wa(),p=c.fallback,C=i.mode,k=e.child,J=k.sibling,c=Ki(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,J!==null?p=Ki(J,p):(p=zr(p,C,o,null),p.flags|=2),p.return=i,c.return=i,c.sibling=p,i.child=c,c=p,p=i.child,C=e.child.memoizedState,C===null?C=Jd(o):(k=C.cachePool,k!==null?(J=un._currentValue,k=k.parent!==J?{parent:J,pool:J}:k):k=r_(),C={baseLanes:C.baseLanes|o,cachePool:k}),p.memoizedState=C,p.childLanes=$d(e,S,o),i.memoizedState=Xd,c):(Ta(i),o=e.child,e=o.sibling,o=Ki(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(S=i.deletions,S===null?(i.deletions=[e],i.flags|=16):S.push(e)),i.child=o,i.memoizedState=null,o)}function tm(e,i){return i=Rh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Rh(e,i){return e=Wn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function em(e,i,o){return Pl(i,e.child,null,o),e=tm(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function yv(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),Lo(e.return,i,o)}function nm(e,i,o,c,p){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=p)}function Ev(e,i,o){var c=i.pendingProps,p=c.revealOrder,g=c.tail;if(bn(e,i,c.children,o),c=cn.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yv(e,o,i);else if(e.tag===19)yv(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(pt(cn,c),p){case"forwards":for(o=i.child,p=null;o!==null;)e=o.alternate,e!==null&&wh(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),nm(i,!1,p,o,g);break;case"backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&wh(e)===null){i.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}nm(i,!0,o,null,g);break;case"together":nm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ts(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),Ca|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Mo(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=Ki(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=Ki(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function im(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ah(e)))}function YA(e,i,o){switch(i.tag){case 3:re(i,i.stateNode.containerInfo),Br(i,un,e.memoizedState.cache),pa();break;case 27:case 5:Li(i);break;case 4:re(i,i.stateNode.containerInfo);break;case 10:Br(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ta(i),i.flags|=128,null):(o&i.child.childLanes)!==0?vv(e,i,o):(Ta(i),e=Ts(e,i,o),e!==null?e.sibling:null);Ta(i);break;case 19:var p=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Mo(e,i,o,!1),c=(o&i.childLanes)!==0),p){if(c)return Ev(e,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),pt(cn,cn.current),c)break;return null;case 22:case 23:return i.lanes=0,dv(e,i,o);case 24:Br(i,un,e.memoizedState.cache)}return Ts(e,i,o)}function Tv(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)vn=!0;else{if(!im(e,o)&&(i.flags&128)===0)return vn=!1,YA(e,i,o);vn=(e.flags&131072)!==0}else vn=!1,jt&&(i.flags&1048576)!==0&&nt(i,u,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var c=i.elementType,p=c._init;if(c=p(c._payload),i.type=c,typeof c=="function")El(c)?(e=Vo(c,e),i.tag=1,i=gv(null,i,c,e,o)):(i.tag=0,i=Wd(null,i,c,e,o));else{if(c!=null){if(p=c.$$typeof,p===Pt){i.tag=11,i=cv(null,i,c,e,o);break t}else if(p===H){i.tag=14,i=hv(null,i,c,e,o);break t}}throw i=Ae(c)||c,Error(a(306,i,""))}}return i;case 0:return Wd(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,p=Vo(c,i.pendingProps),gv(e,i,c,p,o);case 3:t:{if(re(i,i.stateNode.containerInfo),e===null)throw Error(a(387));c=i.pendingProps;var g=i.memoizedState;p=g.element,Rd(e,i),Lu(i,c,null,o);var S=i.memoizedState;if(c=S.cache,Br(i,un,c),c!==g.cache&&wl(i,[un],o,!0),Ou(),c=S.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=_v(e,i,c,o);break t}else if(c!==p){p=Qn(Error(a(424)),i),ga(p),i=_v(e,i,c,o);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xt=vr(e.firstChild),Ct=i,jt=!0,Pe=null,Be=!0,o=$_(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(pa(),c===p){i=Ts(e,i,o);break t}bn(e,i,c,o)}i=i.child}return i;case 26:return bh(e,i),e===null?(o=by(i.type,null,i.pendingProps,null))?i.memoizedState=o:jt||(o=i.type,e=i.pendingProps,c=Bh(Et.current).createElement(o),c[Ke]=i,c[He]=e,Cn(c,o,e),ze(c),i.stateNode=c):i.memoizedState=by(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Li(i),e===null&&jt&&(c=i.stateNode=wy(i.type,i.pendingProps,Et.current),Ct=i,Be=!0,p=xt,Oa(i.type)?(Vm=p,xt=vr(c.firstChild)):xt=p),bn(e,i,i.pendingProps.children,o),bh(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&jt&&((p=c=xt)&&(c=AS(c,i.type,i.pendingProps,Be),c!==null?(i.stateNode=c,Ct=i,xt=vr(c.firstChild),Be=!1,p=!0):p=!1),p||ei(i)),Li(i),p=i.type,g=i.pendingProps,S=e!==null?e.memoizedProps:null,c=g.children,Mm(p,g)?c=null:S!==null&&Mm(p,S)&&(i.flags|=32),i.memoizedState!==null&&(p=Ld(e,i,jA,null,null,o),tc._currentValue=p),bh(e,i),bn(e,i,c,o),i.child;case 6:return e===null&&jt&&((e=o=xt)&&(o=SS(o,i.pendingProps,Be),o!==null?(i.stateNode=o,Ct=i,xt=null,e=!0):e=!1),e||ei(i)),null;case 13:return vv(e,i,o);case 4:return re(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Pl(i,null,c,o):bn(e,i,c,o),i.child;case 11:return cv(e,i,i.type,i.pendingProps,o);case 7:return bn(e,i,i.pendingProps,o),i.child;case 8:return bn(e,i,i.pendingProps.children,o),i.child;case 12:return bn(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Br(i,i.type,c.value),bn(e,i,c.children,o),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,Do(i),p=Un(p),c=c(p),i.flags|=1,bn(e,i,c,o),i.child;case 14:return hv(e,i,i.type,i.pendingProps,o);case 15:return fv(e,i,i.type,i.pendingProps,o);case 19:return Ev(e,i,o);case 31:return c=i.pendingProps,o=i.mode,c={mode:c.mode,children:c.children},e===null?(o=Rh(c,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Ki(e.child,c),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return dv(e,i,o);case 24:return Do(i),c=Un(un),e===null?(p=Ad(),p===null&&(p=Oe,g=Td(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),i.memoizedState={parent:c,cache:p},bd(i),Br(i,un,p)):((e.lanes&o)!==0&&(Rd(e,i),Lu(i,null,null,o),Ou()),p=e.memoizedState,g=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Br(i,un,c)):(c=g.cache,Br(i,un,c),c!==p.cache&&wl(i,[un],o,!0))),bn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ws(e){e.flags|=4}function wv(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Py(i)){if(i=Yi.current,i!==null&&((oe&4194048)===oe?jr!==null:(oe&62914560)!==oe&&(oe&536870912)===0||i!==jr))throw xu=Sd,s_;e.flags|=8192}}function Ch(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Zs():536870912,e.lanes|=i,Dl|=i)}function zu(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function je(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function WA(e,i,o){var c=i.pendingProps;switch(wt(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(i),null;case 1:return je(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),gr(un),oi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Oo(i)?ws(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sh())),je(i),null;case 26:return o=i.memoizedState,e===null?(ws(i),o!==null?(je(i),wv(i,o)):(je(i),i.flags&=-16777217)):o?o!==e.memoizedState?(ws(i),je(i),wv(i,o)):(je(i),i.flags&=-16777217):(e.memoizedProps!==c&&ws(i),je(i),i.flags&=-16777217),null;case 27:li(i),o=Et.current;var p=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==c&&ws(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return je(i),null}e=Tt.current,Oo(i)?ih(i):(e=wy(p,c,o),i.stateNode=e,ws(i))}return je(i),null;case 5:if(li(i),o=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&ws(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return je(i),null}if(e=Tt.current,Oo(i))ih(i);else{switch(p=Bh(Et.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}e[Ke]=i,e[He]=c;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=e;t:switch(Cn(e,o,c),o){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ws(i)}}return je(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&ws(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(e=Et.current,Oo(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,p=Ct,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[Ke]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||py(e.nodeValue,o)),e||ei(i)}else e=Bh(e).createTextNode(c),e[Ke]=i,i.stateNode=e}return je(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Oo(i),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(a(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Ke]=i}else pa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;je(i),p=!1}else p=sh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Es(i),i):(Es(i),null)}if(Es(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=c!==null,e=e!==null&&e.memoizedState!==null,o){c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return o!==e&&o&&(i.child.flags|=8192),Ch(i,i.updateQueue),je(i),null;case 4:return oi(),e===null&&Im(i.stateNode.containerInfo),je(i),null;case 10:return gr(i.type),je(i),null;case 19:if(_t(cn),p=i.memoizedState,p===null)return je(i),null;if(c=(i.flags&128)!==0,g=p.rendering,g===null)if(c)zu(p,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=wh(e),g!==null){for(i.flags|=128,zu(p,!1),e=g.updateQueue,i.updateQueue=e,Ch(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)Su(o,e),o=o.sibling;return pt(cn,cn.current&1|2),i.child}e=e.sibling}p.tail!==null&&On()>Ph&&(i.flags|=128,c=!0,zu(p,!1),i.lanes=4194304)}else{if(!c)if(e=wh(g),e!==null){if(i.flags|=128,c=!0,e=e.updateQueue,i.updateQueue=e,Ch(i,e),zu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!jt)return je(i),null}else 2*On()-p.renderingStartTime>Ph&&o!==536870912&&(i.flags|=128,c=!0,zu(p,!1),i.lanes=4194304);p.isBackwards?(g.sibling=i.child,i.child=g):(e=p.last,e!==null?e.sibling=g:i.child=g,p.last=g)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=On(),i.sibling=null,e=cn.current,pt(cn,c?e&1|2:e&1),i):(je(i),null);case 22:case 23:return Es(i),Pd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(je(i),i.subtreeFlags&6&&(i.flags|=8192)):je(i),o=i.updateQueue,o!==null&&Ch(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&_t(No),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),gr(un),je(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function XA(e,i){switch(wt(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return gr(un),oi(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return li(i),null;case 13:if(Es(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));pa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return _t(cn),null;case 4:return oi(),null;case 10:return gr(i.type),null;case 22:case 23:return Es(i),Pd(),e!==null&&_t(No),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return gr(un),null;case 25:return null;default:return null}}function Av(e,i){switch(wt(i),i.tag){case 3:gr(un),oi();break;case 26:case 27:case 5:li(i);break;case 4:oi();break;case 13:Es(i);break;case 19:_t(cn);break;case 10:gr(i.type);break;case 22:case 23:Es(i),Pd(),e!==null&&_t(No);break;case 24:gr(un)}}function Bu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&e)===e){c=void 0;var g=o.create,S=o.inst;c=g(),S.destroy=c}o=o.next}while(o!==p)}}catch(C){be(i,i.return,C)}}function Aa(e,i,o){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&e)===e){var S=c.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,p=i;var k=o,J=C;try{J()}catch(ot){be(p,k,ot)}}}c=c.next}while(c!==g)}}catch(ot){be(i,i.return,ot)}}function Sv(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{h_(i,o)}catch(c){be(e,e.return,c)}}}function bv(e,i,o){o.props=Vo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){be(e,i,c)}}function ju(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(p){be(e,i,p)}}function qr(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){be(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){be(e,i,p)}else o.current=null}function Rv(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){be(e,e.return,p)}}function rm(e,i,o){try{var c=e.stateNode;vS(c,e.type,o,i),c[He]=i}catch(p){be(e,e.return,p)}}function Cv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Oa(e.type)||e.tag===4}function sm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Cv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Oa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function am(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=zh));else if(c!==4&&(c===27&&Oa(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(am(e,i,o),e=e.sibling;e!==null;)am(e,i,o),e=e.sibling}function Ih(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&Oa(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Ih(e,i,o),e=e.sibling;e!==null;)Ih(e,i,o),e=e.sibling}function Iv(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Cn(i,c,o),i[Ke]=e,i[He]=o}catch(g){be(e,e.return,g)}}var As=!1,We=!1,om=!1,xv=typeof WeakSet=="function"?WeakSet:Set,yn=null;function JA(e,i){if(e=e.containerInfo,Om=Zh,e=So(e),bo(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var S=0,C=-1,k=-1,J=0,ot=0,ct=e,$=null;e:for(;;){for(var et;ct!==o||p!==0&&ct.nodeType!==3||(C=S+p),ct!==g||c!==0&&ct.nodeType!==3||(k=S+c),ct.nodeType===3&&(S+=ct.nodeValue.length),(et=ct.firstChild)!==null;)$=ct,ct=et;for(;;){if(ct===e)break e;if($===o&&++J===p&&(C=S),$===g&&++ot===c&&(k=S),(et=ct.nextSibling)!==null)break;ct=$,$=ct.parentNode}ct=et}o=C===-1||k===-1?null:{start:C,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Lm={focusedElem:e,selectionRange:o},Zh=!1,yn=i;yn!==null;)if(i=yn,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,yn=e;else for(;yn!==null;){switch(i=yn,g=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=i,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Bt=Vo(o.type,p,o.elementType===o.type);e=c.getSnapshotBeforeUpdate(Bt,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(Nt){be(o,o.return,Nt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)Nm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,yn=e;break}yn=i.return}}function Pv(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Sa(e,o),c&4&&Bu(5,o);break;case 1:if(Sa(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(S){be(o,o.return,S)}else{var p=Vo(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(S){be(o,o.return,S)}}c&64&&Sv(o),c&512&&ju(o,o.return);break;case 3:if(Sa(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{h_(e,i)}catch(S){be(o,o.return,S)}}break;case 27:i===null&&c&4&&Iv(o);case 26:case 5:Sa(e,o),i===null&&c&4&&Rv(o),c&512&&ju(o,o.return);break;case 12:Sa(e,o);break;case 13:Sa(e,o),c&4&&Mv(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=oS.bind(null,o),bS(e,o))));break;case 22:if(c=o.memoizedState!==null||As,!c){i=i!==null&&i.memoizedState!==null||We,p=As;var g=We;As=c,(We=i)&&!g?ba(e,o,(o.subtreeFlags&8772)!==0):Sa(e,o),As=p,We=g}break;case 30:break;default:Sa(e,o)}}function Ov(e){var i=e.alternate;i!==null&&(e.alternate=null,Ov(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&rr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,ii=!1;function Ss(e,i,o){for(o=o.child;o!==null;)Lv(e,i,o),o=o.sibling}function Lv(e,i,o){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(Re,o)}catch{}switch(o.tag){case 26:We||qr(o,i),Ss(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:We||qr(o,i);var c=Ve,p=ii;Oa(o.type)&&(Ve=o.stateNode,ii=!1),Ss(e,i,o),Wu(o.stateNode),Ve=c,ii=p;break;case 5:We||qr(o,i);case 6:if(c=Ve,p=ii,Ve=null,Ss(e,i,o),Ve=c,ii=p,Ve!==null)if(ii)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(o.stateNode)}catch(g){be(o,i,g)}else try{Ve.removeChild(o.stateNode)}catch(g){be(o,i,g)}break;case 18:Ve!==null&&(ii?(e=Ve,Ey(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),rc(e)):Ey(Ve,o.stateNode));break;case 4:c=Ve,p=ii,Ve=o.stateNode.containerInfo,ii=!0,Ss(e,i,o),Ve=c,ii=p;break;case 0:case 11:case 14:case 15:We||Aa(2,o,i),We||Aa(4,o,i),Ss(e,i,o);break;case 1:We||(qr(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&bv(o,i,c)),Ss(e,i,o);break;case 21:Ss(e,i,o);break;case 22:We=(c=We)||o.memoizedState!==null,Ss(e,i,o),We=c;break;default:Ss(e,i,o)}}function Mv(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rc(e)}catch(o){be(i,i.return,o)}}function $A(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new xv),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new xv),i;default:throw Error(a(435,e.tag))}}function lm(e,i){var o=$A(e);i.forEach(function(c){var p=lS.bind(null,e,c);o.has(c)||(o.add(c),c.then(p,p))})}function Si(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=e,S=i,C=S;t:for(;C!==null;){switch(C.tag){case 27:if(Oa(C.type)){Ve=C.stateNode,ii=!1;break t}break;case 5:Ve=C.stateNode,ii=!1;break t;case 3:case 4:Ve=C.stateNode.containerInfo,ii=!0;break t}C=C.return}if(Ve===null)throw Error(a(160));Lv(g,S,p),Ve=null,ii=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Dv(i,e),i=i.sibling}var _r=null;function Dv(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Si(i,e),bi(e),c&4&&(Aa(3,e,e.return),Bu(3,e),Aa(5,e,e.return));break;case 1:Si(i,e),bi(e),c&512&&(We||o===null||qr(o,o.return)),c&64&&As&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=_r;if(Si(i,e),bi(e),c&512&&(We||o===null||qr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[xr]||g[Ke]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Cn(g,c,o),g[Ke]=e,ze(g),c=g;break t;case"link":var S=Iy("link","href",p).get(c+(o.href||""));if(S){for(var C=0;C<S.length;C++)if(g=S[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(C,1);break e}}g=p.createElement(c),Cn(g,c,o),p.head.appendChild(g);break;case"meta":if(S=Iy("meta","content",p).get(c+(o.content||""))){for(C=0;C<S.length;C++)if(g=S[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(C,1);break e}}g=p.createElement(c),Cn(g,c,o),p.head.appendChild(g);break;default:throw Error(a(468,c))}g[Ke]=e,ze(g),c=g}e.stateNode=c}else xy(p,e.type,e.stateNode);else e.stateNode=Cy(p,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?xy(p,e.type,e.stateNode):Cy(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&rm(e,e.memoizedProps,o.memoizedProps)}break;case 27:Si(i,e),bi(e),c&512&&(We||o===null||qr(o,o.return)),o!==null&&c&4&&rm(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Si(i,e),bi(e),c&512&&(We||o===null||qr(o,o.return)),e.flags&32){p=e.stateNode;try{mn(p,"")}catch(et){be(e,e.return,et)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,rm(e,p,o!==null?o.memoizedProps:p)),c&1024&&(om=!0);break;case 6:if(Si(i,e),bi(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(et){be(e,e.return,et)}}break;case 3:if(Hh=null,p=_r,_r=jh(i.containerInfo),Si(i,e),_r=p,bi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{rc(i.containerInfo)}catch(et){be(e,e.return,et)}om&&(om=!1,Nv(e));break;case 4:c=_r,_r=jh(e.stateNode.containerInfo),Si(i,e),bi(e),_r=c;break;case 12:Si(i,e),bi(e);break;case 13:Si(i,e),bi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(mm=On()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,lm(e,c)));break;case 22:p=e.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,J=As,ot=We;if(As=J||p,We=ot||k,Si(i,e),We=ot,As=J,bi(e),c&8192)t:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||k||As||We||Uo(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){k=o=i;try{if(g=k.stateNode,p)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=k.stateNode;var ct=k.memoizedProps.style,$=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;C.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(et){be(k,k.return,et)}}}else if(i.tag===6){if(o===null){k=i;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(et){be(k,k.return,et)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,lm(e,o))));break;case 19:Si(i,e),bi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,lm(e,c)));break;case 30:break;case 21:break;default:Si(i,e),bi(e)}}function bi(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(Cv(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,g=sm(e);Ih(e,g,p);break;case 5:var S=o.stateNode;o.flags&32&&(mn(S,""),o.flags&=-33);var C=sm(e);Ih(e,C,S);break;case 3:case 4:var k=o.stateNode.containerInfo,J=sm(e);am(e,J,k);break;default:throw Error(a(161))}}catch(ot){be(e,e.return,ot)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Nv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Nv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Sa(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Pv(e,i.alternate,i),i=i.sibling}function Uo(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Aa(4,i,i.return),Uo(i);break;case 1:qr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&bv(i,i.return,o),Uo(i);break;case 27:Wu(i.stateNode);case 26:case 5:qr(i,i.return),Uo(i);break;case 22:i.memoizedState===null&&Uo(i);break;case 30:Uo(i);break;default:Uo(i)}e=e.sibling}}function ba(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=e,g=i,S=g.flags;switch(g.tag){case 0:case 11:case 15:ba(p,g,o),Bu(4,g);break;case 1:if(ba(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){be(c,c.return,J)}if(c=g,p=c.updateQueue,p!==null){var C=c.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)c_(k[p],C)}catch(J){be(c,c.return,J)}}o&&S&64&&Sv(g),ju(g,g.return);break;case 27:Iv(g);case 26:case 5:ba(p,g,o),o&&c===null&&S&4&&Rv(g),ju(g,g.return);break;case 12:ba(p,g,o);break;case 13:ba(p,g,o),o&&S&4&&Mv(p,g);break;case 22:g.memoizedState===null&&ba(p,g,o),ju(g,g.return);break;case 30:break;default:ba(p,g,o)}i=i.sibling}}function um(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Ru(o))}function cm(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ru(e))}function Hr(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kv(e,i,o,c),i=i.sibling}function kv(e,i,o,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Hr(e,i,o,c),p&2048&&Bu(9,i);break;case 1:Hr(e,i,o,c);break;case 3:Hr(e,i,o,c),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ru(e)));break;case 12:if(p&2048){Hr(e,i,o,c),e=i.stateNode;try{var g=i.memoizedProps,S=g.id,C=g.onPostCommit;typeof C=="function"&&C(S,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){be(i,i.return,k)}}else Hr(e,i,o,c);break;case 13:Hr(e,i,o,c);break;case 23:break;case 22:g=i.stateNode,S=i.alternate,i.memoizedState!==null?g._visibility&2?Hr(e,i,o,c):qu(e,i):g._visibility&2?Hr(e,i,o,c):(g._visibility|=2,Ol(e,i,o,c,(i.subtreeFlags&10256)!==0)),p&2048&&um(S,i);break;case 24:Hr(e,i,o,c),p&2048&&cm(i.alternate,i);break;default:Hr(e,i,o,c)}}function Ol(e,i,o,c,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=e,S=i,C=o,k=c,J=S.flags;switch(S.tag){case 0:case 11:case 15:Ol(g,S,C,k,p),Bu(8,S);break;case 23:break;case 22:var ot=S.stateNode;S.memoizedState!==null?ot._visibility&2?Ol(g,S,C,k,p):qu(g,S):(ot._visibility|=2,Ol(g,S,C,k,p)),p&&J&2048&&um(S.alternate,S);break;case 24:Ol(g,S,C,k,p),p&&J&2048&&cm(S.alternate,S);break;default:Ol(g,S,C,k,p)}i=i.sibling}}function qu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,p=c.flags;switch(c.tag){case 22:qu(o,c),p&2048&&um(c.alternate,c);break;case 24:qu(o,c),p&2048&&cm(c.alternate,c);break;default:qu(o,c)}i=i.sibling}}var Hu=8192;function Ll(e){if(e.subtreeFlags&Hu)for(e=e.child;e!==null;)Vv(e),e=e.sibling}function Vv(e){switch(e.tag){case 26:Ll(e),e.flags&Hu&&e.memoizedState!==null&&US(_r,e.memoizedState,e.memoizedProps);break;case 5:Ll(e);break;case 3:case 4:var i=_r;_r=jh(e.stateNode.containerInfo),Ll(e),_r=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Hu,Hu=16777216,Ll(e),Hu=i):Ll(e));break;default:Ll(e)}}function Uv(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Fu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];yn=c,Bv(c,e)}Uv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zv(e),e=e.sibling}function zv(e){switch(e.tag){case 0:case 11:case 15:Fu(e),e.flags&2048&&Aa(9,e,e.return);break;case 3:Fu(e);break;case 12:Fu(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,xh(e)):Fu(e);break;default:Fu(e)}}function xh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];yn=c,Bv(c,e)}Uv(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Aa(8,i,i.return),xh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,xh(i));break;default:xh(i)}e=e.sibling}}function Bv(e,i){for(;yn!==null;){var o=yn;switch(o.tag){case 0:case 11:case 15:Aa(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ru(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,yn=c;else t:for(o=e;yn!==null;){c=yn;var p=c.sibling,g=c.return;if(Ov(c),c===o){yn=null;break t}if(p!==null){p.return=g,yn=p;break t}yn=g}}}var tS={getCacheForType:function(e){var i=Un(un),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o}},eS=typeof WeakMap=="function"?WeakMap:Map,ge=0,Oe=null,Jt=null,oe=0,_e=0,Ri=null,Ra=!1,Ml=!1,hm=!1,bs=0,Ge=0,Ca=0,zo=0,fm=0,Wi=0,Dl=0,Gu=null,ri=null,dm=!1,mm=0,Ph=1/0,Oh=null,Ia=null,Rn=0,xa=null,Nl=null,kl=0,pm=0,gm=null,jv=null,Zu=0,_m=null;function Ci(){if((ge&2)!==0&&oe!==0)return oe&-oe;if(rt.T!==null){var e=Al;return e!==0?e:Sm()}return Ir()}function qv(){Wi===0&&(Wi=(oe&536870912)===0||jt?uo():536870912);var e=Yi.current;return e!==null&&(e.flags|=32),Wi}function Ii(e,i,o){(e===Oe&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(Vl(e,0),Pa(e,oe,Wi,!1)),Di(e,o),((ge&2)===0||e!==Oe)&&(e===Oe&&((ge&2)===0&&(zo|=o),Ge===4&&Pa(e,oe,Wi,!1)),Fr(e))}function Hv(e,i,o){if((ge&6)!==0)throw Error(a(327));var c=!o&&(i&124)===0&&(i&e.expiredLanes)===0||ci(e,i),p=c?rS(e,i):Em(e,i,!0),g=c;do{if(p===0){Ml&&!c&&Pa(e,i,0,!1);break}else{if(o=e.current.alternate,g&&!nS(o)){p=Em(e,i,!1),g=!1;continue}if(p===2){if(g=i,e.errorRecoveryDisabledLanes&g)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;t:{var C=e;p=Gu;var k=C.current.memoizedState.isDehydrated;if(k&&(Vl(C,S).flags|=256),S=Em(C,S,!1),S!==2){if(hm&&!k){C.errorRecoveryDisabledLanes|=g,zo|=g,p=4;break t}g=ri,ri=p,g!==null&&(ri===null?ri=g:ri.push.apply(ri,g))}p=S}if(g=!1,p!==2)continue}}if(p===1){Vl(e,0),Pa(e,i,0,!0);break}t:{switch(c=e,g=p,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Pa(c,i,Wi,!Ra);break t;case 2:ri=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(p=mm+300-On(),10<p)){if(Pa(c,i,Wi,!Ra),Gs(c,0,!0)!==0)break t;c.timeoutHandle=vy(Fv.bind(null,c,o,ri,Oh,dm,i,Wi,zo,Dl,Ra,g,2,-0,0),p);break t}Fv(c,o,ri,Oh,dm,i,Wi,zo,Dl,Ra,g,0,-0,0)}}break}while(!0);Fr(e)}function Fv(e,i,o,c,p,g,S,C,k,J,ot,ct,$,et){if(e.timeoutHandle=-1,ct=i.subtreeFlags,(ct&8192||(ct&16785408)===16785408)&&($u={stylesheets:null,count:0,unsuspend:VS},Vv(i),ct=zS(),ct!==null)){e.cancelPendingCommit=ct(Xv.bind(null,e,i,g,o,c,p,S,C,k,ot,1,$,et)),Pa(e,g,S,!J);return}Xv(e,i,g,o,c,p,S,C,k)}function nS(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!Zn(g(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pa(e,i,o,c){i&=~fm,i&=~zo,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var p=i;0<p;){var g=31-fn(p),S=1<<g;c[g]=-1,p&=~S}o!==0&&Ni(e,o,i)}function Lh(){return(ge&6)===0?(Ku(0),!1):!0}function vm(){if(Jt!==null){if(_e===0)var e=Jt.return;else e=Jt,pr=Qi=null,Nd(e),xl=null,Vu=0,e=Jt;for(;e!==null;)Av(e.alternate,e),e=e.return;Jt=null}}function Vl(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,ES(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),vm(),Oe=e,Jt=o=Ki(e.current,null),oe=i,_e=0,Ri=null,Ra=!1,Ml=ci(e,i),hm=!1,Dl=Wi=fm=zo=Ca=Ge=0,ri=Gu=null,dm=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var p=31-fn(c),g=1<<p;i|=e[p],c&=~g}return bs=i,Co(),o}function Gv(e,i){Qt=null,rt.H=yh,i===Iu||i===uh?(i=l_(),_e=3):i===s_?(i=l_(),_e=4):_e=i===uv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ri=i,Jt===null&&(Ge=1,Sh(e,Qn(i,e.current)))}function Zv(){var e=rt.H;return rt.H=yh,e===null?yh:e}function Kv(){var e=rt.A;return rt.A=tS,e}function ym(){Ge=4,Ra||(oe&4194048)!==oe&&Yi.current!==null||(Ml=!0),(Ca&134217727)===0&&(zo&134217727)===0||Oe===null||Pa(Oe,oe,Wi,!1)}function Em(e,i,o){var c=ge;ge|=2;var p=Zv(),g=Kv();(Oe!==e||oe!==i)&&(Oh=null,Vl(e,i)),i=!1;var S=Ge;t:do try{if(_e!==0&&Jt!==null){var C=Jt,k=Ri;switch(_e){case 8:vm(),S=6;break t;case 3:case 2:case 9:case 6:Yi.current===null&&(i=!0);var J=_e;if(_e=0,Ri=null,Ul(e,C,k,J),o&&Ml){S=0;break t}break;default:J=_e,_e=0,Ri=null,Ul(e,C,k,J)}}iS(),S=Ge;break}catch(ot){Gv(e,ot)}while(!0);return i&&e.shellSuspendCounter++,pr=Qi=null,ge=c,rt.H=p,rt.A=g,Jt===null&&(Oe=null,oe=0,Co()),S}function iS(){for(;Jt!==null;)Qv(Jt)}function rS(e,i){var o=ge;ge|=2;var c=Zv(),p=Kv();Oe!==e||oe!==i?(Oh=null,Ph=On()+500,Vl(e,i)):Ml=ci(e,i);t:do try{if(_e!==0&&Jt!==null){i=Jt;var g=Ri;e:switch(_e){case 1:_e=0,Ri=null,Ul(e,i,g,1);break;case 2:case 9:if(a_(g)){_e=0,Ri=null,Yv(i);break}i=function(){_e!==2&&_e!==9||Oe!==e||(_e=7),Fr(e)},g.then(i,i);break t;case 3:_e=7;break t;case 4:_e=5;break t;case 7:a_(g)?(_e=0,Ri=null,Yv(i)):(_e=0,Ri=null,Ul(e,i,g,7));break;case 5:var S=null;switch(Jt.tag){case 26:S=Jt.memoizedState;case 5:case 27:var C=Jt;if(!S||Py(S)){_e=0,Ri=null;var k=C.sibling;if(k!==null)Jt=k;else{var J=C.return;J!==null?(Jt=J,Mh(J)):Jt=null}break e}}_e=0,Ri=null,Ul(e,i,g,5);break;case 6:_e=0,Ri=null,Ul(e,i,g,6);break;case 8:vm(),Ge=6;break t;default:throw Error(a(462))}}sS();break}catch(ot){Gv(e,ot)}while(!0);return pr=Qi=null,rt.H=c,rt.A=p,ge=o,Jt!==null?0:(Oe=null,oe=0,Co(),Ge)}function sS(){for(;Jt!==null&&!Hs();)Qv(Jt)}function Qv(e){var i=Tv(e.alternate,e,bs);e.memoizedProps=e.pendingProps,i===null?Mh(e):Jt=i}function Yv(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=pv(o,i,i.pendingProps,i.type,void 0,oe);break;case 11:i=pv(o,i,i.pendingProps,i.type.render,i.ref,oe);break;case 5:Nd(i);default:Av(o,i),i=Jt=Su(i,bs),i=Tv(o,i,bs)}e.memoizedProps=e.pendingProps,i===null?Mh(e):Jt=i}function Ul(e,i,o,c){pr=Qi=null,Nd(i),xl=null,Vu=0;var p=i.return;try{if(QA(e,p,i,o,oe)){Ge=1,Sh(e,Qn(o,e.current)),Jt=null;return}}catch(g){if(p!==null)throw Jt=p,g;Ge=1,Sh(e,Qn(o,e.current)),Jt=null;return}i.flags&32768?(jt||c===1?e=!0:Ml||(oe&536870912)!==0?e=!1:(Ra=e=!0,(c===2||c===9||c===3||c===6)&&(c=Yi.current,c!==null&&c.tag===13&&(c.flags|=16384))),Wv(i,e)):Mh(i)}function Mh(e){var i=e;do{if((i.flags&32768)!==0){Wv(i,Ra);return}e=i.return;var o=WA(i.alternate,i,bs);if(o!==null){Jt=o;return}if(i=i.sibling,i!==null){Jt=i;return}Jt=i=e}while(i!==null);Ge===0&&(Ge=5)}function Wv(e,i){do{var o=XA(e.alternate,e);if(o!==null){o.flags&=32767,Jt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){Jt=e;return}Jt=e=o}while(e!==null);Ge=6,Jt=null}function Xv(e,i,o,c,p,g,S,C,k){e.cancelPendingCommit=null;do Dh();while(Rn!==0);if((ge&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(g=i.lanes|i.childLanes,g|=Ai,co(e,o,g,S,C,k),e===Oe&&(Jt=Oe=null,oe=0),Nl=i,xa=e,kl=o,pm=g,gm=p,jv=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uS(er,function(){return ny(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=rt.T,rt.T=null,p=yt.p,yt.p=2,S=ge,ge|=4;try{JA(e,i,o)}finally{ge=S,yt.p=p,rt.T=c}}Rn=1,Jv(),$v(),ty()}}function Jv(){if(Rn===1){Rn=0;var e=xa,i=Nl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=rt.T,rt.T=null;var c=yt.p;yt.p=2;var p=ge;ge|=4;try{Dv(i,e);var g=Lm,S=So(e.containerInfo),C=g.focusedElem,k=g.selectionRange;if(S!==C&&C&&C.ownerDocument&&pl(C.ownerDocument.documentElement,C)){if(k!==null&&bo(C)){var J=k.start,ot=k.end;if(ot===void 0&&(ot=J),"selectionStart"in C)C.selectionStart=J,C.selectionEnd=Math.min(ot,C.value.length);else{var ct=C.ownerDocument||document,$=ct&&ct.defaultView||window;if($.getSelection){var et=$.getSelection(),Bt=C.textContent.length,Nt=Math.min(k.start,Bt),we=k.end===void 0?Nt:Math.min(k.end,Bt);!et.extend&&Nt>we&&(S=we,we=Nt,Nt=S);var Z=wu(C,Nt),q=wu(C,we);if(Z&&q&&(et.rangeCount!==1||et.anchorNode!==Z.node||et.anchorOffset!==Z.offset||et.focusNode!==q.node||et.focusOffset!==q.offset)){var W=ct.createRange();W.setStart(Z.node,Z.offset),et.removeAllRanges(),Nt>we?(et.addRange(W),et.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),et.addRange(W))}}}}for(ct=[],et=C;et=et.parentNode;)et.nodeType===1&&ct.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ct.length;C++){var lt=ct[C];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}Zh=!!Om,Lm=Om=null}finally{ge=p,yt.p=c,rt.T=o}}e.current=i,Rn=2}}function $v(){if(Rn===2){Rn=0;var e=xa,i=Nl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=rt.T,rt.T=null;var c=yt.p;yt.p=2;var p=ge;ge|=4;try{Pv(e,i.alternate,i)}finally{ge=p,yt.p=c,rt.T=o}}Rn=3}}function ty(){if(Rn===4||Rn===3){Rn=0,ro();var e=xa,i=Nl,o=kl,c=jv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Rn=5:(Rn=0,Nl=xa=null,ey(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Ia=null),Ks(o),i=i.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(Re,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=rt.T,p=yt.p,yt.p=2,rt.T=null;try{for(var g=e.onRecoverableError,S=0;S<c.length;S++){var C=c[S];g(C.value,{componentStack:C.stack})}}finally{rt.T=i,yt.p=p}}(kl&3)!==0&&Dh(),Fr(e),p=e.pendingLanes,(o&4194090)!==0&&(p&42)!==0?e===_m?Zu++:(Zu=0,_m=e):Zu=0,Ku(0)}}function ey(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ru(i)))}function Dh(e){return Jv(),$v(),ty(),ny()}function ny(){if(Rn!==5)return!1;var e=xa,i=pm;pm=0;var o=Ks(kl),c=rt.T,p=yt.p;try{yt.p=32>o?32:o,rt.T=null,o=gm,gm=null;var g=xa,S=kl;if(Rn=0,Nl=xa=null,kl=0,(ge&6)!==0)throw Error(a(331));var C=ge;if(ge|=4,zv(g.current),kv(g,g.current,S,o),ge=C,Ku(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(Re,g)}catch{}return!0}finally{yt.p=p,rt.T=c,ey(e,i)}}function iy(e,i,o){i=Qn(o,i),i=Yd(e.stateNode,i,2),e=ya(e,i,2),e!==null&&(Di(e,2),Fr(e))}function be(e,i,o){if(e.tag===3)iy(e,e,o);else for(;i!==null;){if(i.tag===3){iy(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ia===null||!Ia.has(c))){e=Qn(o,e),o=ov(2),c=ya(i,o,2),c!==null&&(lv(o,c,i,e),Di(c,2),Fr(c));break}}i=i.return}}function Tm(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new eS;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(o)||(hm=!0,p.add(o),e=aS.bind(null,e,i,o),i.then(e,e))}function aS(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Oe===e&&(oe&o)===o&&(Ge===4||Ge===3&&(oe&62914560)===oe&&300>On()-mm?(ge&2)===0&&Vl(e,0):fm|=o,Dl===oe&&(Dl=0)),Fr(e)}function ry(e,i){i===0&&(i=Zs()),e=da(e,i),e!==null&&(Di(e,i),Fr(e))}function oS(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),ry(e,o)}function lS(e,i){var o=0;switch(e.tag){case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),ry(e,o)}function uS(e,i){return tr(e,i)}var Nh=null,zl=null,wm=!1,kh=!1,Am=!1,Bo=0;function Fr(e){e!==zl&&e.next===null&&(zl===null?Nh=zl=e:zl=zl.next=e),kh=!0,wm||(wm=!0,hS())}function Ku(e,i){if(!Am&&kh){Am=!0;do for(var o=!1,c=Nh;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var S=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-fn(42|e)+1)-1,g&=p&~(S&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,ly(c,g))}else g=oe,g=Gs(c,c===Oe?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ci(c,g)||(o=!0,ly(c,g));c=c.next}while(o);Am=!1}}function cS(){sy()}function sy(){kh=wm=!1;var e=0;Bo!==0&&(yS()&&(e=Bo),Bo=0);for(var i=On(),o=null,c=Nh;c!==null;){var p=c.next,g=ay(c,i);g===0?(c.next=null,o===null?Nh=p:o.next=p,p===null&&(zl=o)):(o=c,(e!==0||(g&3)!==0)&&(kh=!0)),c=p}Ku(e)}function ay(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var S=31-fn(g),C=1<<S,k=p[S];k===-1?((C&o)===0||(C&c)!==0)&&(p[S]=lo(C,i)):k<=i&&(e.expiredLanes|=C),g&=~C}if(i=Oe,o=oe,o=Gs(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&ts(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||ci(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&ts(c),Ks(o)){case 2:case 8:o=es;break;case 32:o=er;break;case 268435456:o=ns;break;default:o=er}return c=oy.bind(null,e),o=tr(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&ts(c),e.callbackPriority=2,e.callbackNode=null,2}function oy(e,i){if(Rn!==0&&Rn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Dh()&&e.callbackNode!==o)return null;var c=oe;return c=Gs(e,e===Oe?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Hv(e,c,i),ay(e,On()),e.callbackNode!=null&&e.callbackNode===o?oy.bind(null,e):null)}function ly(e,i){if(Dh())return null;Hv(e,i,!0)}function hS(){TS(function(){(ge&6)!==0?tr(so,cS):sy()})}function Sm(){return Bo===0&&(Bo=uo()),Bo}function uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Dr(""+e)}function cy(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function fS(e,i,o,c,p){if(i==="submit"&&o&&o.stateNode===p){var g=uy((p[He]||null).action),S=c.submitter;S&&(i=(i=S[He]||null)?uy(i.formAction):S.getAttribute("formAction"),i!==null&&(g=i,S=null));var C=new us("action","action",null,c,p);e.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Bo!==0){var k=S?cy(p,S):new FormData(p);Fd(o,{pending:!0,data:k,method:p.method,action:g},null,k)}}else typeof g=="function"&&(C.preventDefault(),k=S?cy(p,S):new FormData(p),Fd(o,{pending:!0,data:k,method:p.method,action:g},g,k))},currentTarget:p}]})}}for(var bm=0;bm<ms.length;bm++){var Rm=ms[bm],dS=Rm.toLowerCase(),mS=Rm[0].toUpperCase()+Rm.slice(1);wi(dS,"on"+mS)}wi(th,"onAnimationEnd"),wi(Ti,"onAnimationIteration"),wi(Ro,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(yd,"onTransitionRun"),wi(yl,"onTransitionStart"),wi(Ed,"onTransitionCancel"),wi(Au,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function hy(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],p=c.event;c=c.listeners;t:{var g=void 0;if(i)for(var S=c.length-1;0<=S;S--){var C=c[S],k=C.instance,J=C.currentTarget;if(C=C.listener,k!==g&&p.isPropagationStopped())break t;g=C,p.currentTarget=J;try{g(p)}catch(ot){Ah(ot)}p.currentTarget=null,g=k}else for(S=0;S<c.length;S++){if(C=c[S],k=C.instance,J=C.currentTarget,C=C.listener,k!==g&&p.isPropagationStopped())break t;g=C,p.currentTarget=J;try{g(p)}catch(ot){Ah(ot)}p.currentTarget=null,g=k}}}}function $t(e,i){var o=i[Mn];o===void 0&&(o=i[Mn]=new Set);var c=e+"__bubble";o.has(c)||(fy(i,e,2,!1),o.add(c))}function Cm(e,i,o){var c=0;i&&(c|=4),fy(o,e,c,i)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function Im(e){if(!e[Vh]){e[Vh]=!0,mo.forEach(function(o){o!=="selectionchange"&&(pS.has(o)||Cm(o,!1,e),Cm(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Vh]||(i[Vh]=!0,Cm("selectionchange",!1,i))}}function fy(e,i,o,c){switch(ky(i)){case 2:var p=qS;break;case 8:p=HS;break;default:p=qm}o=p.bind(null,i,o,e),p=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(i,o,{capture:!0,passive:p}):e.addEventListener(i,o,!0):p!==void 0?e.addEventListener(i,o,{passive:p}):e.addEventListener(i,o,!1)}function xm(e,i,o,c,p){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var C=c.stateNode.containerInfo;if(C===p)break;if(S===4)for(S=c.return;S!==null;){var k=S.tag;if((k===3||k===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;C!==null;){if(S=hi(C),S===null)return;if(k=S.tag,k===5||k===6||k===26||k===27){c=g=S;continue t}C=C.parentNode}}c=c.return}Gn(function(){var J=g,ot=Sn(o),ct=[];t:{var $=eh.get(e);if($!==void 0){var et=us,Bt=e;switch(e){case"keypress":if(ye(o)===0)break t;case"keydown":case"keyup":et=ra;break;case"focusin":Bt="focus",et=$s;break;case"focusout":Bt="blur",et=$s;break;case"beforeblur":case"afterblur":et=$s;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=hl;break;case th:case Ti:case Ro:et=ea;break;case Au:et=fl;break;case"scroll":case"scrollend":et=ul;break;case"wheel":et=fs;break;case"copy":case"cut":case"paste":et=Nr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=sa;break;case"toggle":case"beforetoggle":et=Hi}var Nt=(i&4)!==0,we=!Nt&&(e==="scroll"||e==="scrollend"),Z=Nt?$!==null?$+"Capture":null:$;Nt=[];for(var q=J,W;q!==null;){var lt=q;if(W=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||W===null||Z===null||(lt=ae(q,Z),lt!=null&&Nt.push(Yu(q,lt,W))),we)break;q=q.return}0<Nt.length&&($=new et($,Bt,null,o,ot),ct.push({event:$,listeners:Nt}))}}if((i&7)===0){t:{if($=e==="mouseover"||e==="pointerover",et=e==="mouseout"||e==="pointerout",$&&o!==gi&&(Bt=o.relatedTarget||o.fromElement)&&(hi(Bt)||Bt[Jn]))break t;if((et||$)&&($=ot.window===ot?ot:($=ot.ownerDocument)?$.defaultView||$.parentWindow:window,et?(Bt=o.relatedTarget||o.toElement,et=J,Bt=Bt?hi(Bt):null,Bt!==null&&(we=h(Bt),Nt=Bt.tag,Bt!==we||Nt!==5&&Nt!==27&&Nt!==6)&&(Bt=null)):(et=null,Bt=J),et!==Bt)){if(Nt=gn,lt="onMouseLeave",Z="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(Nt=sa,lt="onPointerLeave",Z="onPointerEnter",q="pointer"),we=et==null?$:wn(et),W=Bt==null?$:wn(Bt),$=new Nt(lt,q+"leave",et,o,ot),$.target=we,$.relatedTarget=W,lt=null,hi(ot)===J&&(Nt=new Nt(Z,q+"enter",Bt,o,ot),Nt.target=W,Nt.relatedTarget=we,lt=Nt),we=lt,et&&Bt)e:{for(Nt=et,Z=Bt,q=0,W=Nt;W;W=Bl(W))q++;for(W=0,lt=Z;lt;lt=Bl(lt))W++;for(;0<q-W;)Nt=Bl(Nt),q--;for(;0<W-q;)Z=Bl(Z),W--;for(;q--;){if(Nt===Z||Z!==null&&Nt===Z.alternate)break e;Nt=Bl(Nt),Z=Bl(Z)}Nt=null}else Nt=null;et!==null&&dy(ct,$,et,Nt,!1),Bt!==null&&we!==null&&dy(ct,we,Bt,Nt,!0)}}t:{if($=J?wn(J):window,et=$.nodeName&&$.nodeName.toLowerCase(),et==="select"||et==="input"&&$.type==="file")var It=oa;else if(xe($))if(yu)It=vd;else{It=_d;var Xt=Tu}else et=$.nodeName,!et||et.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?J&&ls(J.elementType)&&(It=oa):It=mr;if(It&&(It=It(e,J))){fr(ct,It,o,ot);break t}Xt&&Xt(e,$,J),e==="focusout"&&J&&$.type==="number"&&J.memoizedProps.value!=null&&mi($,"number",$.value)}switch(Xt=J?wn(J):window,e){case"focusin":(xe(Xt)||Xt.contentEditable==="true")&&(Ei=Xt,ca=J,ds=null);break;case"focusout":ds=ca=Ei=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,Jc(ct,o,ot);break;case"selectionchange":if(gl)break;case"keydown":case"keyup":Jc(ct,o,ot)}var Lt;if(Vn)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else te?it(e,o)&&(kt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(kt="onCompositionStart");kt&&(A&&o.locale!=="ko"&&(te||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&te&&(Lt=lr()):(ti=ot,Nn="value"in ti?ti.value:ti.textContent,te=!0)),Xt=Uh(J,kt),0<Xt.length&&(kt=new kn(kt,e,null,o,ot),ct.push({event:kt,listeners:Xt}),Lt?kt.data=Lt:(Lt=vt(o),Lt!==null&&(kt.data=Lt)))),(Lt=T?Fe(e,o):ee(e,o))&&(kt=Uh(J,"onBeforeInput"),0<kt.length&&(Xt=new kn("onBeforeInput","beforeinput",null,o,ot),ct.push({event:Xt,listeners:kt}),Xt.data=Lt)),fS(ct,e,J,o,ot)}hy(ct,i)})}function Yu(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Uh(e,i){for(var o=i+"Capture",c=[];e!==null;){var p=e,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=ae(e,o),p!=null&&c.unshift(Yu(e,p,g)),p=ae(e,i),p!=null&&c.push(Yu(e,p,g))),e.tag===3)return c;e=e.return}return[]}function Bl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dy(e,i,o,c,p){for(var g=i._reactName,S=[];o!==null&&o!==c;){var C=o,k=C.alternate,J=C.stateNode;if(C=C.tag,k!==null&&k===c)break;C!==5&&C!==26&&C!==27||J===null||(k=J,p?(J=ae(o,g),J!=null&&S.unshift(Yu(o,J,k))):p||(J=ae(o,g),J!=null&&S.push(Yu(o,J,k)))),o=o.return}S.length!==0&&e.push({event:i,listeners:S})}var gS=/\r\n?/g,_S=/\u0000|\uFFFD/g;function my(e){return(typeof e=="string"?e:""+e).replace(gS,`
`).replace(_S,"")}function py(e,i){return i=my(i),my(e)===i}function zh(){}function Te(e,i,o,c,p,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||mn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&mn(e,""+c);break;case"className":Vi(e,"class",c);break;case"tabIndex":Vi(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(e,o,c);break;case"style":ar(e,c,g);break;case"data":if(i!=="object"){Vi(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Dr(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Te(e,i,"name",p.name,p,null),Te(e,i,"formEncType",p.formEncType,p,null),Te(e,i,"formMethod",p.formMethod,p,null),Te(e,i,"formTarget",p.formTarget,p,null)):(Te(e,i,"encType",p.encType,p,null),Te(e,i,"method",p.method,p,null),Te(e,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Dr(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=zh);break;case"onScroll":c!=null&&$t("scroll",e);break;case"onScrollEnd":c!=null&&$t("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=Dr(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":$t("beforetoggle",e),$t("toggle",e),Pr(e,"popover",c);break;case"xlinkActuate":on(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":on(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":on(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":on(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":on(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":on(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":on(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":on(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":on(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Pr(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=go.get(o)||o,Pr(e,o,c))}}function Pm(e,i,o,c,p,g){switch(o){case"style":ar(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof c=="string"?mn(e,c):(typeof c=="number"||typeof c=="bigint")&&mn(e,""+c);break;case"onScroll":c!=null&&$t("scroll",e);break;case"onScrollEnd":c!=null&&$t("scrollend",e);break;case"onClick":c!=null&&(e.onclick=zh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ys.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),g=e[He]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(i,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,p);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Pr(e,o,c)}}}function Cn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",e),$t("load",e);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Te(e,i,g,S,o,null)}}p&&Te(e,i,"srcSet",o.srcSet,o,null),c&&Te(e,i,"src",o.src,o,null);return;case"input":$t("invalid",e);var C=g=S=p=null,k=null,J=null;for(c in o)if(o.hasOwnProperty(c)){var ot=o[c];if(ot!=null)switch(c){case"name":p=ot;break;case"type":S=ot;break;case"checked":k=ot;break;case"defaultChecked":J=ot;break;case"value":g=ot;break;case"defaultValue":C=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(a(137,i));break;default:Te(e,i,c,ot,o,null)}}os(e,g,C,k,J,S,p,!1),Mr(e);return;case"select":$t("invalid",e),c=S=g=null;for(p in o)if(o.hasOwnProperty(p)&&(C=o[p],C!=null))switch(p){case"value":g=C;break;case"defaultValue":S=C;break;case"multiple":c=C;default:Te(e,i,p,C,o,null)}i=g,o=S,e.multiple=!!c,i!=null?An(e,!!c,i,!1):o!=null&&An(e,!!c,o,!0);return;case"textarea":$t("invalid",e),g=p=c=null;for(S in o)if(o.hasOwnProperty(S)&&(C=o[S],C!=null))switch(S){case"value":c=C;break;case"defaultValue":p=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Te(e,i,S,C,o,null)}Fn(e,c,p,g),Mr(e);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Te(e,i,k,c,o,null)}return;case"dialog":$t("beforetoggle",e),$t("toggle",e),$t("cancel",e),$t("close",e);break;case"iframe":case"object":$t("load",e);break;case"video":case"audio":for(c=0;c<Qu.length;c++)$t(Qu[c],e);break;case"image":$t("error",e),$t("load",e);break;case"details":$t("toggle",e);break;case"embed":case"source":case"link":$t("error",e),$t("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(c=o[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Te(e,i,J,c,o,null)}return;default:if(ls(i)){for(ot in o)o.hasOwnProperty(ot)&&(c=o[ot],c!==void 0&&Pm(e,i,ot,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&Te(e,i,C,c,o,null))}function vS(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,S=null,C=null,k=null,J=null,ot=null;for(et in o){var ct=o[et];if(o.hasOwnProperty(et)&&ct!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":k=ct;default:c.hasOwnProperty(et)||Te(e,i,et,null,c,ct)}}for(var $ in c){var et=c[$];if(ct=o[$],c.hasOwnProperty($)&&(et!=null||ct!=null))switch($){case"type":g=et;break;case"name":p=et;break;case"checked":J=et;break;case"defaultChecked":ot=et;break;case"value":S=et;break;case"defaultValue":C=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(a(137,i));break;default:et!==ct&&Te(e,i,$,et,c,ct)}}Ie(e,S,C,k,J,ot,g,p);return;case"select":et=S=C=$=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":et=k;default:c.hasOwnProperty(g)||Te(e,i,g,null,c,k)}for(p in c)if(g=c[p],k=o[p],c.hasOwnProperty(p)&&(g!=null||k!=null))switch(p){case"value":$=g;break;case"defaultValue":C=g;break;case"multiple":S=g;default:g!==k&&Te(e,i,p,g,c,k)}i=C,o=S,c=et,$!=null?An(e,!!o,$,!1):!!c!=!!o&&(i!=null?An(e,!!o,i,!0):An(e,!!o,o?[]:"",!1));return;case"textarea":et=$=null;for(C in o)if(p=o[C],o.hasOwnProperty(C)&&p!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Te(e,i,C,null,c,p)}for(S in c)if(p=c[S],g=o[S],c.hasOwnProperty(S)&&(p!=null||g!=null))switch(S){case"value":$=p;break;case"defaultValue":et=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==g&&Te(e,i,S,p,c,g)}Vt(e,$,et);return;case"option":for(var Bt in o)if($=o[Bt],o.hasOwnProperty(Bt)&&$!=null&&!c.hasOwnProperty(Bt))switch(Bt){case"selected":e.selected=!1;break;default:Te(e,i,Bt,null,c,$)}for(k in c)if($=c[k],et=o[k],c.hasOwnProperty(k)&&$!==et&&($!=null||et!=null))switch(k){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Te(e,i,k,$,c,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in o)$=o[Nt],o.hasOwnProperty(Nt)&&$!=null&&!c.hasOwnProperty(Nt)&&Te(e,i,Nt,null,c,$);for(J in c)if($=c[J],et=o[J],c.hasOwnProperty(J)&&$!==et&&($!=null||et!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:Te(e,i,J,$,c,et)}return;default:if(ls(i)){for(var we in o)$=o[we],o.hasOwnProperty(we)&&$!==void 0&&!c.hasOwnProperty(we)&&Pm(e,i,we,void 0,c,$);for(ot in c)$=c[ot],et=o[ot],!c.hasOwnProperty(ot)||$===et||$===void 0&&et===void 0||Pm(e,i,ot,$,c,et);return}}for(var Z in o)$=o[Z],o.hasOwnProperty(Z)&&$!=null&&!c.hasOwnProperty(Z)&&Te(e,i,Z,null,c,$);for(ct in c)$=c[ct],et=o[ct],!c.hasOwnProperty(ct)||$===et||$==null&&et==null||Te(e,i,ct,$,c,et)}var Om=null,Lm=null;function Bh(e){return e.nodeType===9?e:e.ownerDocument}function gy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _y(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Mm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dm=null;function yS(){var e=window.event;return e&&e.type==="popstate"?e===Dm?!1:(Dm=e,!0):(Dm=null,!1)}var vy=typeof setTimeout=="function"?setTimeout:void 0,ES=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,TS=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(e){return yy.resolve(null).then(e).catch(wS)}:vy;function wS(e){setTimeout(function(){throw e})}function Oa(e){return e==="head"}function Ey(e,i){var o=i,c=0,p=0;do{var g=o.nextSibling;if(e.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var S=e.ownerDocument;if(o&1&&Wu(S.documentElement),o&2&&Wu(S.body),o&4)for(o=S.head,Wu(o),S=o.firstChild;S;){var C=S.nextSibling,k=S.nodeName;S[xr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=C}}if(p===0){e.removeChild(g),rc(i);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);rc(i)}function Nm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Nm(o),rr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function AS(e,i,o,c){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[xr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=vr(e.nextSibling),e===null)break}return null}function SS(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=vr(e.nextSibling),e===null))return null;return e}function km(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function bS(e,i){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function vr(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Vm=null;function Ty(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return e;i--}else o==="/$"&&i++}e=e.previousSibling}return null}function wy(e,i,o){switch(i=Bh(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Wu(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);rr(e)}var Xi=new Map,Ay=new Set;function jh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Rs=yt.d;yt.d={f:RS,r:CS,D:IS,C:xS,L:PS,m:OS,X:MS,S:LS,M:DS};function RS(){var e=Rs.f(),i=Lh();return e||i}function CS(e){var i=fi(e);i!==null&&i.tag===5&&i.type==="form"?H_(i):Rs.r(e)}var jl=typeof document>"u"?null:document;function Sy(e,i,o){var c=jl;if(c&&typeof i=="string"&&i){var p=De(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Ay.has(p)||(Ay.add(p),e={rel:e,crossOrigin:o,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),Cn(i,"link",e),ze(i),c.head.appendChild(i)))}}function IS(e){Rs.D(e),Sy("dns-prefetch",e,null)}function xS(e,i){Rs.C(e,i),Sy("preconnect",e,i)}function PS(e,i,o){Rs.L(e,i,o);var c=jl;if(c&&e&&i){var p='link[rel="preload"][as="'+De(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+De(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+De(o.imageSizes)+'"]')):p+='[href="'+De(e)+'"]';var g=p;switch(i){case"style":g=ql(e);break;case"script":g=Hl(e)}Xi.has(g)||(e=b({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),Xi.set(g,e),c.querySelector(p)!==null||i==="style"&&c.querySelector(Xu(g))||i==="script"&&c.querySelector(Ju(g))||(i=c.createElement("link"),Cn(i,"link",e),ze(i),c.head.appendChild(i)))}}function OS(e,i){Rs.m(e,i);var o=jl;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+De(c)+'"][href="'+De(e)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Hl(e)}if(!Xi.has(g)&&(e=b({rel:"modulepreload",href:e},i),Xi.set(g,e),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ju(g)))return}c=o.createElement("link"),Cn(c,"link",e),ze(c),o.head.appendChild(c)}}}function LS(e,i,o){Rs.S(e,i,o);var c=jl;if(c&&e){var p=dn(c).hoistableStyles,g=ql(e);i=i||"default";var S=p.get(g);if(!S){var C={loading:0,preload:null};if(S=c.querySelector(Xu(g)))C.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":i},o),(o=Xi.get(g))&&Um(e,o);var k=S=c.createElement("link");ze(k),Cn(k,"link",e),k._p=new Promise(function(J,ot){k.onload=J,k.onerror=ot}),k.addEventListener("load",function(){C.loading|=1}),k.addEventListener("error",function(){C.loading|=2}),C.loading|=4,qh(S,i,c)}S={type:"stylesheet",instance:S,count:1,state:C},p.set(g,S)}}}function MS(e,i){Rs.X(e,i);var o=jl;if(o&&e){var c=dn(o).hoistableScripts,p=Hl(e),g=c.get(p);g||(g=o.querySelector(Ju(p)),g||(e=b({src:e,async:!0},i),(i=Xi.get(p))&&zm(e,i),g=o.createElement("script"),ze(g),Cn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function DS(e,i){Rs.M(e,i);var o=jl;if(o&&e){var c=dn(o).hoistableScripts,p=Hl(e),g=c.get(p);g||(g=o.querySelector(Ju(p)),g||(e=b({src:e,async:!0,type:"module"},i),(i=Xi.get(p))&&zm(e,i),g=o.createElement("script"),ze(g),Cn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function by(e,i,o,c){var p=(p=Et.current)?jh(p):null;if(!p)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ql(o.href),o=dn(p).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=ql(o.href);var g=dn(p).hoistableStyles,S=g.get(e);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,S),(g=p.querySelector(Xu(e)))&&!g._p&&(S.instance=g,S.state.loading=5),Xi.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xi.set(e,o),g||NS(p,e,o,S.state))),i&&c===null)throw Error(a(528,""));return S}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Hl(o),o=dn(p).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ql(e){return'href="'+De(e)+'"'}function Xu(e){return'link[rel="stylesheet"]['+e+"]"}function Ry(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function NS(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Cn(i,"link",o),ze(i),e.head.appendChild(i))}function Hl(e){return'[src="'+De(e)+'"]'}function Ju(e){return"script[async]"+e}function Cy(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+De(o.href)+'"]');if(c)return i.instance=c,ze(c),c;var p=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),ze(c),Cn(c,"style",p),qh(c,o.precedence,e),i.instance=c;case"stylesheet":p=ql(o.href);var g=e.querySelector(Xu(p));if(g)return i.state.loading|=4,i.instance=g,ze(g),g;c=Ry(o),(p=Xi.get(p))&&Um(c,p),g=(e.ownerDocument||e).createElement("link"),ze(g);var S=g;return S._p=new Promise(function(C,k){S.onload=C,S.onerror=k}),Cn(g,"link",c),i.state.loading|=4,qh(g,o.precedence,e),i.instance=g;case"script":return g=Hl(o.src),(p=e.querySelector(Ju(g)))?(i.instance=p,ze(p),p):(c=o,(p=Xi.get(g))&&(c=b({},o),zm(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),ze(p),Cn(p,"link",c),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,qh(c,o.precedence,e));return i.instance}function qh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,S=0;S<c.length;S++){var C=c[S];if(C.dataset.precedence===i)g=C;else if(g!==p)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Um(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function zm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Hh=null;function Iy(e,i,o){if(Hh===null){var c=new Map,p=Hh=new Map;p.set(o,c)}else p=Hh,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var g=o[p];if(!(g[xr]||g[Ke]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(i)||"";S=e+S;var C=c.get(S);C?C.push(g):c.set(S,[g])}}return c}function xy(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function kS(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Py(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var $u=null;function VS(){}function US(e,i,o){if($u===null)throw Error(a(475));var c=$u;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=ql(o.href),g=e.querySelector(Xu(p));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=Fh.bind(c),e.then(c,c)),i.state.loading|=4,i.instance=g,ze(g);return}g=e.ownerDocument||e,o=Ry(o),(p=Xi.get(p))&&Um(o,p),g=g.createElement("link"),ze(g);var S=g;S._p=new Promise(function(C,k){S.onload=C,S.onerror=k}),Cn(g,"link",o),i.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Fh.bind(c),e.addEventListener("load",i),e.addEventListener("error",i))}}function zS(){if($u===null)throw Error(a(475));var e=$u;return e.stylesheets&&e.count===0&&Bm(e,e.stylesheets),0<e.count?function(i){var o=setTimeout(function(){if(e.stylesheets&&Bm(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o)}}:null}function Fh(){if(this.count--,this.count===0){if(this.stylesheets)Bm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gh=null;function Bm(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gh=new Map,i.forEach(BS,e),Gh=null,Fh.call(e))}function BS(e,i){if(!(i.state.loading&4)){var o=Gh.get(e);if(o)var c=o.get(null);else{o=new Map,Gh.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var S=p[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),c=S)}c&&o.set(null,c)}p=i.instance,S=p.getAttribute("data-precedence"),g=o.get(S)||c,g===c&&o.set(null,p),o.set(S,p),this.count++,c=Fh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var tc={$$typeof:mt,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function jS(e,i,o,c,p,g,S,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Oy(e,i,o,c,p,g,S,C,k,J,ot,ct){return e=new jS(e,i,o,S,C,k,J,ct),i=1,g===!0&&(i|=24),g=Wn(3,null,null,i),e.current=g,g.stateNode=e,i=Td(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},bd(g),e}function Ly(e){return e?(e=_s,e):_s}function My(e,i,o,c,p,g){p=Ly(p),c.context===null?c.context=p:c.pendingContext=p,c=va(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ya(e,c,i),o!==null&&(Ii(o,e,i),Pu(o,e,i))}function Dy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function jm(e,i){Dy(e,i),(e=e.alternate)&&Dy(e,i)}function Ny(e){if(e.tag===13){var i=da(e,67108864);i!==null&&Ii(i,e,67108864),jm(e,67108864)}}var Zh=!0;function qS(e,i,o,c){var p=rt.T;rt.T=null;var g=yt.p;try{yt.p=2,qm(e,i,o,c)}finally{yt.p=g,rt.T=p}}function HS(e,i,o,c){var p=rt.T;rt.T=null;var g=yt.p;try{yt.p=8,qm(e,i,o,c)}finally{yt.p=g,rt.T=p}}function qm(e,i,o,c){if(Zh){var p=Hm(c);if(p===null)xm(e,i,c,Kh,o),Vy(e,c);else if(GS(p,e,i,o,c))c.stopPropagation();else if(Vy(e,c),i&4&&-1<FS.indexOf(e)){for(;p!==null;){var g=fi(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Xn(g.pendingLanes);if(S!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var k=1<<31-fn(S);C.entanglements[1]|=k,S&=~k}Fr(g),(ge&6)===0&&(Ph=On()+500,Ku(0))}}break;case 13:C=da(g,2),C!==null&&Ii(C,g,2),Lh(),jm(g,2)}if(g=Hm(c),g===null&&xm(e,i,c,Kh,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else xm(e,i,c,null,o)}}function Hm(e){return e=Sn(e),Fm(e)}var Kh=null;function Fm(e){if(Kh=null,e=hi(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=m(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Kh=e,null}function ky(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fs()){case so:return 2;case es:return 8;case er:case rl:return 32;case ns:return 268435456;default:return 32}default:return 32}}var Gm=!1,La=null,Ma=null,Da=null,ec=new Map,nc=new Map,Na=[],FS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vy(e,i){switch(e){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":ec.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(i.pointerId)}}function ic(e,i,o,c,p,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},i!==null&&(i=fi(i),i!==null&&Ny(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function GS(e,i,o,c,p){switch(i){case"focusin":return La=ic(La,e,i,o,c,p),!0;case"dragenter":return Ma=ic(Ma,e,i,o,c,p),!0;case"mouseover":return Da=ic(Da,e,i,o,c,p),!0;case"pointerover":var g=p.pointerId;return ec.set(g,ic(ec.get(g)||null,e,i,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,nc.set(g,ic(nc.get(g)||null,e,i,o,c,p)),!0}return!1}function Uy(e){var i=hi(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=m(o),i!==null){e.blockedOn=i,Qs(e.priority,function(){if(o.tag===13){var c=Ci();c=Cr(c);var p=da(o,c);p!==null&&Ii(p,o,c),jm(o,c)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Hm(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);gi=c,o.target.dispatchEvent(c),gi=null}else return i=fi(o),i!==null&&Ny(i),e.blockedOn=o,!1;i.shift()}return!0}function zy(e,i,o){Qh(e)&&o.delete(i)}function ZS(){Gm=!1,La!==null&&Qh(La)&&(La=null),Ma!==null&&Qh(Ma)&&(Ma=null),Da!==null&&Qh(Da)&&(Da=null),ec.forEach(zy),nc.forEach(zy)}function Yh(e,i){e.blockedOn===i&&(e.blockedOn=null,Gm||(Gm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ZS)))}var Wh=null;function By(e){Wh!==e&&(Wh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wh===e&&(Wh=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],p=e[i+2];if(typeof c!="function"){if(Fm(c||o)===null)continue;break}var g=fi(o);g!==null&&(e.splice(i,3),i-=3,Fd(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function rc(e){function i(k){return Yh(k,e)}La!==null&&Yh(La,e),Ma!==null&&Yh(Ma,e),Da!==null&&Yh(Da,e),ec.forEach(i),nc.forEach(i);for(var o=0;o<Na.length;o++){var c=Na[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Na.length&&(o=Na[0],o.blockedOn===null);)Uy(o),o.blockedOn===null&&Na.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],S=p[He]||null;if(typeof g=="function")S||By(o);else if(S){var C=null;if(g&&g.hasAttribute("formAction")){if(p=g,S=g[He]||null)C=S.formAction;else if(Fm(p)!==null)continue}else C=S.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),By(o)}}}function Zm(e){this._internalRoot=e}Xh.prototype.render=Zm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=Ci();My(o,c,e,i,null,null)},Xh.prototype.unmount=Zm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;My(e.current,2,null,e,null,null),Lh(),i[Jn]=null}};function Xh(e){this._internalRoot=e}Xh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ir();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Na.length&&i!==0&&i<Na[o].priority;o++);Na.splice(o,0,e),o===0&&Uy(e)}};var jy=t.version;if(jy!=="19.1.0")throw Error(a(527,jy,"19.1.0"));yt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var KS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{Re=Jh.inject(KS),ue=Jh}catch{}}return ac.createRoot=function(e,i){if(!l(e))throw Error(a(299));var o=!1,c="",p=iv,g=rv,S=sv,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=Oy(e,1,!1,null,null,o,c,p,g,S,C,null),e[Jn]=i.current,Im(e),new Zm(i)},ac.hydrateRoot=function(e,i,o){if(!l(e))throw Error(a(299));var c=!1,p="",g=iv,S=rv,C=sv,k=null,J=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(J=o.formState)),i=Oy(e,1,!0,i,o??null,c,p,g,S,C,k,J),i.context=Ly(null),o=i.current,c=Ci(),c=Cr(c),p=va(c),p.callback=null,ya(o,p,c),o=c,i.current.lanes=o,Di(i,o),Fr(i),e[Jn]=i.current,Im(e),new Xh(i)},ac.version="19.1.0",ac}var Xy;function nb(){if(Xy)return Ym.exports;Xy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ym.exports=eb(),Ym.exports}var ib=nb();const rb=jp(ib);var oc={},Jy;function sb(){if(Jy)return oc;Jy=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.parse=m,oc.serialize=E;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,h=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function m(x,B){const F=new h,X=x.length;if(X<2)return F;const tt=(B==null?void 0:B.decode)||b;let at=0;do{const ft=x.indexOf("=",at);if(ft===-1)break;const mt=x.indexOf(";",at),Pt=mt===-1?X:mt;if(ft>Pt){at=x.lastIndexOf(";",ft-1)+1;continue}const Rt=v(x,at,ft),qt=y(x,ft,Rt),H=x.slice(Rt,qt);if(F[H]===void 0){let O=v(x,ft+1,Pt),D=y(x,Pt,O);const z=tt(x.slice(O,D));F[H]=z}at=Pt+1}while(at<X);return F}function v(x,B,F){do{const X=x.charCodeAt(B);if(X!==32&&X!==9)return B}while(++B<F);return F}function y(x,B,F){for(;B>F;){const X=x.charCodeAt(--B);if(X!==32&&X!==9)return B+1}return F}function E(x,B,F){const X=(F==null?void 0:F.encode)||encodeURIComponent;if(!r.test(x))throw new TypeError(`argument name is invalid: ${x}`);const tt=X(B);if(!t.test(tt))throw new TypeError(`argument val is invalid: ${B}`);let at=x+"="+tt;if(!F)return at;if(F.maxAge!==void 0){if(!Number.isInteger(F.maxAge))throw new TypeError(`option maxAge is invalid: ${F.maxAge}`);at+="; Max-Age="+F.maxAge}if(F.domain){if(!n.test(F.domain))throw new TypeError(`option domain is invalid: ${F.domain}`);at+="; Domain="+F.domain}if(F.path){if(!a.test(F.path))throw new TypeError(`option path is invalid: ${F.path}`);at+="; Path="+F.path}if(F.expires){if(!I(F.expires)||!Number.isFinite(F.expires.valueOf()))throw new TypeError(`option expires is invalid: ${F.expires}`);at+="; Expires="+F.expires.toUTCString()}if(F.httpOnly&&(at+="; HttpOnly"),F.secure&&(at+="; Secure"),F.partitioned&&(at+="; Partitioned"),F.priority)switch(typeof F.priority=="string"?F.priority.toLowerCase():void 0){case"low":at+="; Priority=Low";break;case"medium":at+="; Priority=Medium";break;case"high":at+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${F.priority}`)}if(F.sameSite)switch(typeof F.sameSite=="string"?F.sameSite.toLowerCase():F.sameSite){case!0:case"strict":at+="; SameSite=Strict";break;case"lax":at+="; SameSite=Lax";break;case"none":at+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${F.sameSite}`)}return at}function b(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function I(x){return l.call(x)==="[object Date]"}return oc}sb();var $y="popstate";function ab(r={}){function t(a,l){let{pathname:h,search:m,hash:v}=a.location;return dp("",{pathname:h,search:m,hash:v},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:Sc(l)}return lb(t,n,null,r)}function Ue(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Ar(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ob(){return Math.random().toString(36).substring(2,10)}function t0(r,t){return{usr:r.state,key:r.key,idx:t}}function dp(r,t,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?au(t):t,state:n,key:t&&t.key||a||ob()}}function Sc({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function au(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function lb(r,t,n,a={}){let{window:l=document.defaultView,v5Compat:h=!1}=a,m=l.history,v="POP",y=null,E=b();E==null&&(E=0,m.replaceState({...m.state,idx:E},""));function b(){return(m.state||{idx:null}).idx}function I(){v="POP";let tt=b(),at=tt==null?null:tt-E;E=tt,y&&y({action:v,location:X.location,delta:at})}function x(tt,at){v="PUSH";let ft=dp(X.location,tt,at);E=b()+1;let mt=t0(ft,E),Pt=X.createHref(ft);try{m.pushState(mt,"",Pt)}catch(Rt){if(Rt instanceof DOMException&&Rt.name==="DataCloneError")throw Rt;l.location.assign(Pt)}h&&y&&y({action:v,location:X.location,delta:1})}function B(tt,at){v="REPLACE";let ft=dp(X.location,tt,at);E=b();let mt=t0(ft,E),Pt=X.createHref(ft);m.replaceState(mt,"",Pt),h&&y&&y({action:v,location:X.location,delta:0})}function F(tt){return ub(tt)}let X={get action(){return v},get location(){return r(l,m)},listen(tt){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener($y,I),y=tt,()=>{l.removeEventListener($y,I),y=null}},createHref(tt){return t(l,tt)},createURL:F,encodeLocation(tt){let at=F(tt);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:x,replace:B,go(tt){return m.go(tt)}};return X}function ub(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Sc(r);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function BE(r,t,n="/"){return cb(r,t,n,!1)}function cb(r,t,n,a){let l=typeof t=="string"?au(t):t,h=Ls(l.pathname||"/",n);if(h==null)return null;let m=jE(r);hb(m);let v=null;for(let y=0;v==null&&y<m.length;++y){let E=wb(h);v=Eb(m[y],E,a)}return v}function jE(r,t=[],n=[],a=""){let l=(h,m,v)=>{let y={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};y.relativePath.startsWith("/")&&(Ue(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length));let E=xs([a,y.relativePath]),b=n.concat(y);h.children&&h.children.length>0&&(Ue(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),jE(h.children,t,b,E)),!(h.path==null&&!h.index)&&t.push({path:E,score:vb(E,h.index),routesMeta:b})};return r.forEach((h,m)=>{var v;if(h.path===""||!((v=h.path)!=null&&v.includes("?")))l(h,m);else for(let y of qE(h.path))l(h,m,y)}),t}function qE(r){let t=r.split("/");if(t.length===0)return[];let[n,...a]=t,l=n.endsWith("?"),h=n.replace(/\?$/,"");if(a.length===0)return l?[h,""]:[h];let m=qE(a.join("/")),v=[];return v.push(...m.map(y=>y===""?h:[h,y].join("/"))),l&&v.push(...m),v.map(y=>r.startsWith("/")&&y===""?"/":y)}function hb(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:yb(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var fb=/^:[\w-]+$/,db=3,mb=2,pb=1,gb=10,_b=-2,e0=r=>r==="*";function vb(r,t){let n=r.split("/"),a=n.length;return n.some(e0)&&(a+=_b),t&&(a+=mb),n.filter(l=>!e0(l)).reduce((l,h)=>l+(fb.test(h)?db:h===""?pb:gb),a)}function yb(r,t){return r.length===t.length&&r.slice(0,-1).every((a,l)=>a===t[l])?r[r.length-1]-t[t.length-1]:0}function Eb(r,t,n=!1){let{routesMeta:a}=r,l={},h="/",m=[];for(let v=0;v<a.length;++v){let y=a[v],E=v===a.length-1,b=h==="/"?t:t.slice(h.length)||"/",I=yf({path:y.relativePath,caseSensitive:y.caseSensitive,end:E},b),x=y.route;if(!I&&E&&n&&!a[a.length-1].route.index&&(I=yf({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!I)return null;Object.assign(l,I.params),m.push({params:l,pathname:xs([h,I.pathname]),pathnameBase:Rb(xs([h,I.pathnameBase])),route:x}),I.pathnameBase!=="/"&&(h=xs([h,I.pathnameBase]))}return m}function yf(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=Tb(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let h=l[0],m=h.replace(/(.)\/+$/,"$1"),v=l.slice(1);return{params:a.reduce((E,{paramName:b,isOptional:I},x)=>{if(b==="*"){let F=v[x]||"";m=h.slice(0,h.length-F.length).replace(/(.)\/+$/,"$1")}const B=v[x];return I&&!B?E[b]=void 0:E[b]=(B||"").replace(/%2F/g,"/"),E},{}),pathname:h,pathnameBase:m,pattern:r}}function Tb(r,t=!1,n=!0){Ar(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,v,y)=>(a.push({paramName:v,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function wb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ar(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Ls(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function Ab(r,t="/"){let{pathname:n,search:a="",hash:l=""}=typeof r=="string"?au(r):r;return{pathname:n?n.startsWith("/")?n:Sb(n,t):t,search:Cb(a),hash:Ib(l)}}function Sb(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function $m(r,t,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Hp(r){let t=bb(r);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function Fp(r,t,n,a=!1){let l;typeof r=="string"?l=au(r):(l={...r},Ue(!l.pathname||!l.pathname.includes("?"),$m("?","pathname","search",l)),Ue(!l.pathname||!l.pathname.includes("#"),$m("#","pathname","hash",l)),Ue(!l.search||!l.search.includes("#"),$m("#","search","hash",l)));let h=r===""||l.pathname==="",m=h?"/":l.pathname,v;if(m==null)v=n;else{let I=t.length-1;if(!a&&m.startsWith("..")){let x=m.split("/");for(;x[0]==="..";)x.shift(),I-=1;l.pathname=x.join("/")}v=I>=0?t[I]:"/"}let y=Ab(l,v),E=m&&m!=="/"&&m.endsWith("/"),b=(h||m===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(E||b)&&(y.pathname+="/"),y}var xs=r=>r.join("/").replace(/\/\/+/g,"/"),Rb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Cb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ib=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function xb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var HE=["POST","PUT","PATCH","DELETE"];new Set(HE);var Pb=["GET",...HE];new Set(Pb);var ou=Y.createContext(null);ou.displayName="DataRouter";var Hf=Y.createContext(null);Hf.displayName="DataRouterState";var FE=Y.createContext({isTransitioning:!1});FE.displayName="ViewTransition";var Ob=Y.createContext(new Map);Ob.displayName="Fetchers";var Lb=Y.createContext(null);Lb.displayName="Await";var br=Y.createContext(null);br.displayName="Navigation";var Nc=Y.createContext(null);Nc.displayName="Location";var $r=Y.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var Gp=Y.createContext(null);Gp.displayName="RouteError";function Mb(r,{relative:t}={}){Ue(lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=Y.useContext(br),{hash:l,pathname:h,search:m}=kc(r,{relative:t}),v=h;return n!=="/"&&(v=h==="/"?n:xs([n,h])),a.createHref({pathname:v,search:m,hash:l})}function lu(){return Y.useContext(Nc)!=null}function Vs(){return Ue(lu(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Nc).location}var GE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZE(r){Y.useContext(br).static||Y.useLayoutEffect(r)}function tl(){let{isDataRoute:r}=Y.useContext($r);return r?Zb():Db()}function Db(){Ue(lu(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(ou),{basename:t,navigator:n}=Y.useContext(br),{matches:a}=Y.useContext($r),{pathname:l}=Vs(),h=JSON.stringify(Hp(a)),m=Y.useRef(!1);return ZE(()=>{m.current=!0}),Y.useCallback((y,E={})=>{if(Ar(m.current,GE),!m.current)return;if(typeof y=="number"){n.go(y);return}let b=Fp(y,JSON.parse(h),l,E.relative==="path");r==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:xs([t,b.pathname])),(E.replace?n.replace:n.push)(b,E.state,E)},[t,n,h,l,r])}Y.createContext(null);function kc(r,{relative:t}={}){let{matches:n}=Y.useContext($r),{pathname:a}=Vs(),l=JSON.stringify(Hp(n));return Y.useMemo(()=>Fp(r,JSON.parse(l),a,t==="path"),[r,l,a,t])}function Nb(r,t){return KE(r,t)}function KE(r,t,n,a){var at;Ue(lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=Y.useContext(br),{matches:h}=Y.useContext($r),m=h[h.length-1],v=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ft=b&&b.path||"";QE(y,!b||ft.endsWith("*")||ft.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ft}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ft}"> to <Route path="${ft==="/"?"*":`${ft}/*`}">.`)}let I=Vs(),x;if(t){let ft=typeof t=="string"?au(t):t;Ue(E==="/"||((at=ft.pathname)==null?void 0:at.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ft.pathname}" was given in the \`location\` prop.`),x=ft}else x=I;let B=x.pathname||"/",F=B;if(E!=="/"){let ft=E.replace(/^\//,"").split("/");F="/"+B.replace(/^\//,"").split("/").slice(ft.length).join("/")}let X=BE(r,{pathname:F});Ar(b||X!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ar(X==null||X[X.length-1].route.element!==void 0||X[X.length-1].route.Component!==void 0||X[X.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let tt=Bb(X&&X.map(ft=>Object.assign({},ft,{params:Object.assign({},v,ft.params),pathname:xs([E,l.encodeLocation?l.encodeLocation(ft.pathname).pathname:ft.pathname]),pathnameBase:ft.pathnameBase==="/"?E:xs([E,l.encodeLocation?l.encodeLocation(ft.pathnameBase).pathname:ft.pathnameBase])})),h,n,a);return t&&tt?Y.createElement(Nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},tt):tt}function kb(){let r=Gb(),t=xb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},h={padding:"2px 4px",backgroundColor:a},m=null;return console.error("Error handled by React Router default ErrorBoundary:",r),m=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:h},"ErrorBoundary")," or"," ",Y.createElement("code",{style:h},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),n?Y.createElement("pre",{style:l},n):null,m)}var Vb=Y.createElement(kb,null),Ub=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?Y.createElement($r.Provider,{value:this.props.routeContext},Y.createElement(Gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zb({routeContext:r,match:t,children:n}){let a=Y.useContext(ou);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement($r.Provider,{value:r},n)}function Bb(r,t=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,h=n==null?void 0:n.errors;if(h!=null){let y=l.findIndex(E=>E.route.id&&(h==null?void 0:h[E.route.id])!==void 0);Ue(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let m=!1,v=-1;if(n)for(let y=0;y<l.length;y++){let E=l[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(v=y),E.route.id){let{loaderData:b,errors:I}=n,x=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||x){m=!0,v>=0?l=l.slice(0,v+1):l=[l[0]];break}}}return l.reduceRight((y,E,b)=>{let I,x=!1,B=null,F=null;n&&(I=h&&E.route.id?h[E.route.id]:void 0,B=E.route.errorElement||Vb,m&&(v<0&&b===0?(QE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,F=null):v===b&&(x=!0,F=E.route.hydrateFallbackElement||null)));let X=t.concat(l.slice(0,b+1)),tt=()=>{let at;return I?at=B:x?at=F:E.route.Component?at=Y.createElement(E.route.Component,null):E.route.element?at=E.route.element:at=y,Y.createElement(zb,{match:E,routeContext:{outlet:y,matches:X,isDataRoute:n!=null},children:at})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?Y.createElement(Ub,{location:n.location,revalidation:n.revalidation,component:B,error:I,children:tt(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):tt()},null)}function Zp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jb(r){let t=Y.useContext(ou);return Ue(t,Zp(r)),t}function qb(r){let t=Y.useContext(Hf);return Ue(t,Zp(r)),t}function Hb(r){let t=Y.useContext($r);return Ue(t,Zp(r)),t}function Kp(r){let t=Hb(r),n=t.matches[t.matches.length-1];return Ue(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Fb(){return Kp("useRouteId")}function Gb(){var a;let r=Y.useContext(Gp),t=qb("useRouteError"),n=Kp("useRouteError");return r!==void 0?r:(a=t.errors)==null?void 0:a[n]}function Zb(){let{router:r}=jb("useNavigate"),t=Kp("useNavigate"),n=Y.useRef(!1);return ZE(()=>{n.current=!0}),Y.useCallback(async(l,h={})=>{Ar(n.current,GE),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...h}))},[r,t])}var n0={};function QE(r,t,n){!t&&!n0[r]&&(n0[r]=!0,Ar(!1,n))}Y.memo(Kb);function Kb({routes:r,future:t,state:n}){return KE(r,void 0,n,t)}function i0({to:r,replace:t,state:n,relative:a}){Ue(lu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=Y.useContext(br);Ar(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=Y.useContext($r),{pathname:m}=Vs(),v=tl(),y=Fp(r,Hp(h),m,a==="path"),E=JSON.stringify(y);return Y.useEffect(()=>{v(JSON.parse(E),{replace:t,state:n,relative:a})},[v,E,a,t,n]),null}function yr(r){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qb({basename:r="/",children:t=null,location:n,navigationType:a="POP",navigator:l,static:h=!1}){Ue(!lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),v=Y.useMemo(()=>({basename:m,navigator:l,static:h,future:{}}),[m,l,h]);typeof n=="string"&&(n=au(n));let{pathname:y="/",search:E="",hash:b="",state:I=null,key:x="default"}=n,B=Y.useMemo(()=>{let F=Ls(y,m);return F==null?null:{location:{pathname:F,search:E,hash:b,state:I,key:x},navigationType:a}},[m,y,E,b,I,x,a]);return Ar(B!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:Y.createElement(br.Provider,{value:v},Y.createElement(Nc.Provider,{children:t,value:B}))}function Yb({children:r,location:t}){return Nb(mp(r),t)}function mp(r,t=[]){let n=[];return Y.Children.forEach(r,(a,l)=>{if(!Y.isValidElement(a))return;let h=[...t,l];if(a.type===Y.Fragment){n.push.apply(n,mp(a.props.children,h));return}Ue(a.type===yr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!a.props.index||!a.props.children,"An index route cannot have child routes.");let m={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(m.children=mp(a.props.children,h)),n.push(m)}),n}var of="get",lf="application/x-www-form-urlencoded";function Ff(r){return r!=null&&typeof r.tagName=="string"}function Wb(r){return Ff(r)&&r.tagName.toLowerCase()==="button"}function Xb(r){return Ff(r)&&r.tagName.toLowerCase()==="form"}function Jb(r){return Ff(r)&&r.tagName.toLowerCase()==="input"}function $b(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function t1(r,t){return r.button===0&&(!t||t==="_self")&&!$b(r)}var $h=null;function e1(){if($h===null)try{new FormData(document.createElement("form"),0),$h=!1}catch{$h=!0}return $h}var n1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tp(r){return r!=null&&!n1.has(r)?(Ar(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lf}"`),null):r}function i1(r,t){let n,a,l,h,m;if(Xb(r)){let v=r.getAttribute("action");a=v?Ls(v,t):null,n=r.getAttribute("method")||of,l=tp(r.getAttribute("enctype"))||lf,h=new FormData(r)}else if(Wb(r)||Jb(r)&&(r.type==="submit"||r.type==="image")){let v=r.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||v.getAttribute("action");if(a=y?Ls(y,t):null,n=r.getAttribute("formmethod")||v.getAttribute("method")||of,l=tp(r.getAttribute("formenctype"))||tp(v.getAttribute("enctype"))||lf,h=new FormData(v,r),!e1()){let{name:E,type:b,value:I}=r;if(b==="image"){let x=E?`${E}.`:"";h.append(`${x}x`,"0"),h.append(`${x}y`,"0")}else E&&h.append(E,I)}}else{if(Ff(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=of,a=null,l=lf,m=r}return h&&l==="text/plain"&&(m=h,h=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:h,body:m}}function Qp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function r1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function a1(r,t,n){let a=await Promise.all(r.map(async l=>{let h=t.routes[l.route.id];if(h){let m=await r1(h,n);return m.links?m.links():[]}return[]}));return c1(a.flat(1).filter(s1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function r0(r,t,n,a,l,h){let m=(y,E)=>n[E]?y.route.id!==n[E].route.id:!0,v=(y,E)=>{var b;return n[E].pathname!==y.pathname||((b=n[E].route.path)==null?void 0:b.endsWith("*"))&&n[E].params["*"]!==y.params["*"]};return h==="assets"?t.filter((y,E)=>m(y,E)||v(y,E)):h==="data"?t.filter((y,E)=>{var I;let b=a.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(m(y,E)||v(y,E))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((I=n[0])==null?void 0:I.params)||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function o1(r,t,{includeHydrateFallback:n}={}){return l1(r.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function l1(r){return[...new Set(r)]}function u1(r){let t={},n=Object.keys(r).sort();for(let a of n)t[a]=r[a];return t}function c1(r,t){let n=new Set;return new Set(t),r.reduce((a,l)=>{let h=JSON.stringify(u1(l));return n.has(h)||(n.add(h),a.push({key:h,link:l})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var h1=new Set([100,101,204,205]);function f1(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&Ls(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function YE(){let r=Y.useContext(ou);return Qp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function d1(){let r=Y.useContext(Hf);return Qp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Yp=Y.createContext(void 0);Yp.displayName="FrameworkContext";function WE(){let r=Y.useContext(Yp);return Qp(r,"You must render this element inside a <HydratedRouter> element"),r}function m1(r,t){let n=Y.useContext(Yp),[a,l]=Y.useState(!1),[h,m]=Y.useState(!1),{onFocus:v,onBlur:y,onMouseEnter:E,onMouseLeave:b,onTouchStart:I}=t,x=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&m(!0),r==="viewport"){let X=at=>{at.forEach(ft=>{m(ft.isIntersecting)})},tt=new IntersectionObserver(X,{threshold:.5});return x.current&&tt.observe(x.current),()=>{tt.disconnect()}}},[r]),Y.useEffect(()=>{if(a){let X=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(X)}}},[a]);let B=()=>{l(!0)},F=()=>{l(!1),m(!1)};return n?r!=="intent"?[h,x,{}]:[h,x,{onFocus:lc(v,B),onBlur:lc(y,F),onMouseEnter:lc(E,B),onMouseLeave:lc(b,F),onTouchStart:lc(I,B)}]:[!1,x,{}]}function lc(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function p1({page:r,...t}){let{router:n}=YE(),a=Y.useMemo(()=>BE(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?Y.createElement(_1,{page:r,matches:a,...t}):null}function g1(r){let{manifest:t,routeModules:n}=WE(),[a,l]=Y.useState([]);return Y.useEffect(()=>{let h=!1;return a1(r,t,n).then(m=>{h||l(m)}),()=>{h=!0}},[r,t,n]),a}function _1({page:r,matches:t,...n}){let a=Vs(),{manifest:l,routeModules:h}=WE(),{basename:m}=YE(),{loaderData:v,matches:y}=d1(),E=Y.useMemo(()=>r0(r,t,y,l,a,"data"),[r,t,y,l,a]),b=Y.useMemo(()=>r0(r,t,y,l,a,"assets"),[r,t,y,l,a]),I=Y.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let F=new Set,X=!1;if(t.forEach(at=>{var mt;let ft=l.routes[at.route.id];!ft||!ft.hasLoader||(!E.some(Pt=>Pt.route.id===at.route.id)&&at.route.id in v&&((mt=h[at.route.id])!=null&&mt.shouldRevalidate)||ft.hasClientLoader?X=!0:F.add(at.route.id))}),F.size===0)return[];let tt=f1(r,m);return X&&F.size>0&&tt.searchParams.set("_routes",t.filter(at=>F.has(at.route.id)).map(at=>at.route.id).join(",")),[tt.pathname+tt.search]},[m,v,a,l,E,t,r,h]),x=Y.useMemo(()=>o1(b,l),[b,l]),B=g1(b);return Y.createElement(Y.Fragment,null,I.map(F=>Y.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),x.map(F=>Y.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),B.map(({key:F,link:X})=>Y.createElement("link",{key:F,...X})))}function v1(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var XE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XE&&(window.__reactRouterVersion="7.6.3")}catch{}function y1({basename:r,children:t,window:n}){let a=Y.useRef();a.current==null&&(a.current=ab({window:n,v5Compat:!0}));let l=a.current,[h,m]=Y.useState({action:l.action,location:l.location}),v=Y.useCallback(y=>{Y.startTransition(()=>m(y))},[m]);return Y.useLayoutEffect(()=>l.listen(v),[l,v]),Y.createElement(Qb,{basename:r,children:t,location:h.location,navigationType:h.action,navigator:l})}var JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ef=Y.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:l,reloadDocument:h,replace:m,state:v,target:y,to:E,preventScrollReset:b,viewTransition:I,...x},B){let{basename:F}=Y.useContext(br),X=typeof E=="string"&&JE.test(E),tt,at=!1;if(typeof E=="string"&&X&&(tt=E,XE))try{let D=new URL(window.location.href),z=E.startsWith("//")?new URL(D.protocol+E):new URL(E),j=Ls(z.pathname,F);z.origin===D.origin&&j!=null?E=j+z.search+z.hash:at=!0}catch{Ar(!1,`<Link to="${E}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ft=Mb(E,{relative:l}),[mt,Pt,Rt]=m1(a,x),qt=w1(E,{replace:m,state:v,target:y,preventScrollReset:b,relative:l,viewTransition:I});function H(D){t&&t(D),D.defaultPrevented||qt(D)}let O=Y.createElement("a",{...x,...Rt,href:tt||ft,onClick:at||h?t:H,ref:v1(B,Pt),target:y,"data-discover":!X&&n==="render"?"true":void 0});return mt&&!X?Y.createElement(Y.Fragment,null,O,Y.createElement(p1,{page:ft})):O});Ef.displayName="Link";var jo=Y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:l=!1,style:h,to:m,viewTransition:v,children:y,...E},b){let I=kc(m,{relative:E.relative}),x=Vs(),B=Y.useContext(Hf),{navigator:F,basename:X}=Y.useContext(br),tt=B!=null&&C1(I)&&v===!0,at=F.encodeLocation?F.encodeLocation(I).pathname:I.pathname,ft=x.pathname,mt=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;n||(ft=ft.toLowerCase(),mt=mt?mt.toLowerCase():null,at=at.toLowerCase()),mt&&X&&(mt=Ls(mt,X)||mt);const Pt=at!=="/"&&at.endsWith("/")?at.length-1:at.length;let Rt=ft===at||!l&&ft.startsWith(at)&&ft.charAt(Pt)==="/",qt=mt!=null&&(mt===at||!l&&mt.startsWith(at)&&mt.charAt(at.length)==="/"),H={isActive:Rt,isPending:qt,isTransitioning:tt},O=Rt?t:void 0,D;typeof a=="function"?D=a(H):D=[a,Rt?"active":null,qt?"pending":null,tt?"transitioning":null].filter(Boolean).join(" ");let z=typeof h=="function"?h(H):h;return Y.createElement(Ef,{...E,"aria-current":O,className:D,ref:b,style:z,to:m,viewTransition:v},typeof y=="function"?y(H):y)});jo.displayName="NavLink";var E1=Y.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:l,state:h,method:m=of,action:v,onSubmit:y,relative:E,preventScrollReset:b,viewTransition:I,...x},B)=>{let F=b1(),X=R1(v,{relative:E}),tt=m.toLowerCase()==="get"?"get":"post",at=typeof v=="string"&&JE.test(v),ft=mt=>{if(y&&y(mt),mt.defaultPrevented)return;mt.preventDefault();let Pt=mt.nativeEvent.submitter,Rt=(Pt==null?void 0:Pt.getAttribute("formmethod"))||m;F(Pt||mt.currentTarget,{fetcherKey:t,method:Rt,navigate:n,replace:l,state:h,relative:E,preventScrollReset:b,viewTransition:I})};return Y.createElement("form",{ref:B,method:tt,action:X,onSubmit:a?y:ft,...x,"data-discover":!at&&r==="render"?"true":void 0})});E1.displayName="Form";function T1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $E(r){let t=Y.useContext(ou);return Ue(t,T1(r)),t}function w1(r,{target:t,replace:n,state:a,preventScrollReset:l,relative:h,viewTransition:m}={}){let v=tl(),y=Vs(),E=kc(r,{relative:h});return Y.useCallback(b=>{if(t1(b,t)){b.preventDefault();let I=n!==void 0?n:Sc(y)===Sc(E);v(r,{replace:I,state:a,preventScrollReset:l,relative:h,viewTransition:m})}},[y,v,E,n,a,t,r,l,h,m])}var A1=0,S1=()=>`__${String(++A1)}__`;function b1(){let{router:r}=$E("useSubmit"),{basename:t}=Y.useContext(br),n=Fb();return Y.useCallback(async(a,l={})=>{let{action:h,method:m,encType:v,formData:y,body:E}=i1(a,t);if(l.navigate===!1){let b=l.fetcherKey||S1();await r.fetch(b,n,l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:E,formMethod:l.method||m,formEncType:l.encType||v,flushSync:l.flushSync})}else await r.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:E,formMethod:l.method||m,formEncType:l.encType||v,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,n])}function R1(r,{relative:t}={}){let{basename:n}=Y.useContext(br),a=Y.useContext($r);Ue(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),h={...kc(r||".",{relative:t})},m=Vs();if(r==null){h.search=m.search;let v=new URLSearchParams(h.search),y=v.getAll("index");if(y.some(b=>b==="")){v.delete("index"),y.filter(I=>I).forEach(I=>v.append("index",I));let b=v.toString();h.search=b?`?${b}`:""}}return(!r||r===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(h.pathname=h.pathname==="/"?n:xs([n,h.pathname])),Sc(h)}function C1(r,t={}){let n=Y.useContext(FE);Ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=$E("useViewTransitionState"),l=kc(r,{relative:t.relative});if(!n.isTransitioning)return!1;let h=Ls(n.currentLocation.pathname,a)||n.currentLocation.pathname,m=Ls(n.nextLocation.pathname,a)||n.nextLocation.pathname;return yf(l.pathname,m)!=null||yf(l.pathname,h)!=null}[...h1];var I1=zE();const x1=()=>{};var s0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},P1=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[n++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[n++],m=r[n++],v=r[n++],y=((l&7)<<18|(h&63)<<12|(m&63)<<6|v&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const h=r[n++],m=r[n++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return t.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],m=l+1<r.length,v=m?r[l+1]:0,y=l+2<r.length,E=y?r[l+2]:0,b=h>>2,I=(h&3)<<4|v>>4;let x=(v&15)<<2|E>>6,B=E&63;y||(B=64,m||(x=64)),a.push(n[b],n[I],n[x],n[B])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(tT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):P1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=n[r.charAt(l++)],v=l<r.length?n[r.charAt(l)]:0;++l;const E=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,h==null||v==null||E==null||I==null)throw new O1;const x=h<<2|v>>4;if(a.push(x),E!==64){const B=v<<4&240|E>>2;if(a.push(B),I!==64){const F=E<<6&192|I;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class O1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L1=function(r){const t=tT(r);return eT.encodeByteArray(t,!0)},Tf=function(r){return L1(r).replace(/\./g,"")},nT=function(r){try{return eT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=()=>M1().__FIREBASE_DEFAULTS__,N1=()=>{if(typeof process>"u"||typeof s0>"u")return;const r=s0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},k1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&nT(r[1]);return t&&JSON.parse(t)},Gf=()=>{try{return x1()||D1()||N1()||k1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},iT=r=>{var t,n;return(n=(t=Gf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},V1=r=>{const t=iT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},rT=()=>{var r;return(r=Gf())===null||r===void 0?void 0:r.config},sT=r=>{var t;return(t=Gf())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Tf(JSON.stringify(n)),Tf(JSON.stringify(m)),""].join(".")}const gc={};function B1(){const r={prod:[],emulator:[]};for(const t of Object.keys(gc))gc[t]?r.emulator.push(t):r.prod.push(t);return r}function j1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let a0=!1;function oT(r,t){if(typeof window>"u"||typeof document>"u"||!uu(window.location.host)||gc[r]===t||gc[r]||a0)return;gc[r]=t;function n(x){return`__firebase__banner__${x}`}const a="__firebase__banner",h=B1().prod.length>0;function m(){const x=document.getElementById(a);x&&x.remove()}function v(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,B){x.setAttribute("width","24"),x.setAttribute("id",B),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function E(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{a0=!0,m()},x}function b(x,B){x.setAttribute("id",B),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function I(){const x=j1(a),B=n("text"),F=document.getElementById(B)||document.createElement("span"),X=n("learnmore"),tt=document.getElementById(X)||document.createElement("a"),at=n("preprendIcon"),ft=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const mt=x.element;v(mt),b(tt,X);const Pt=E();y(ft,at),mt.append(ft,F,tt,Pt),document.body.appendChild(mt)}h?(F.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function H1(){var r;const t=(r=Gf())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function G1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Z1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K1(){const r=Hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Q1(){return!H1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y1(){try{return typeof indexedDB=="object"}catch{return!1}}function W1(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var h;t(((h=l.error)===null||h===void 0?void 0:h.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="FirebaseError";class Us extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=X1,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vc.prototype.create)}}class Vc{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],m=h?J1(h,a):"Error",v=`${this.serviceName}: ${m} (${l}).`;return new Us(l,v,a)}}function J1(r,t){return r.replace($1,(n,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const $1=/\{\$([^}]+)}/g;function tR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Qo(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const l of n){if(!a.includes(l))return!1;const h=r[l],m=t[l];if(o0(h)&&o0(m)){if(!Qo(h,m))return!1}else if(h!==m)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function o0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function uc(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,h]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(h)}}),t}function cc(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function eR(r,t){const n=new nR(r,t);return n.subscribe.bind(n)}class nR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let l;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");iR(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:a},l.next===void 0&&(l.next=ep),l.error===void 0&&(l.error=ep),l.complete===void 0&&(l.complete=ep);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(r){return r&&r._delegate?r._delegate:r}class Yo{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new U1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(l)return null;throw h}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(aR(t))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=qo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qo){return this.instances.has(t)}getOptions(t=qo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[h,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(h);a===v&&m.resolve(l)}return l}onInit(t,n){var a;const l=this.normalizeInstanceIdentifier(n),h=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;h.add(t),this.onInitCallbacks.set(l,h);const m=this.instances.get(l);return m&&t(m,l),()=>{h.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:sR(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=qo){return this.component?this.component.multipleInstances?t:qo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sR(r){return r===qo?void 0:r}function aR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new rR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ne||(ne={}));const lR={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},uR=ne.INFO,cR={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},hR=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=cR[t];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Wp{constructor(t){this.name=t,this._logLevel=uR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}const fR=(r,t)=>t.some(n=>r instanceof n);let l0,u0;function dR(){return l0||(l0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mR(){return u0||(u0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,pp=new WeakMap,uT=new WeakMap,np=new WeakMap,Xp=new WeakMap;function pR(r){const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",m)},h=()=>{n(Ha(r.result)),l()},m=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",m)});return t.then(n=>{n instanceof IDBCursor&&lT.set(n,r)}).catch(()=>{}),Xp.set(t,r),t}function gR(r){if(pp.has(r))return;const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",m),r.removeEventListener("abort",m)},h=()=>{n(),l()},m=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",m),r.addEventListener("abort",m)});pp.set(r,t)}let gp={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return pp.get(r);if(t==="objectStoreNames")return r.objectStoreNames||uT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ha(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function _R(r){gp=r(gp)}function vR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(ip(this),t,...n);return uT.set(a,t.sort?t.sort():[t]),Ha(a)}:mR().includes(r)?function(...t){return r.apply(ip(this),t),Ha(lT.get(this))}:function(...t){return Ha(r.apply(ip(this),t))}}function yR(r){return typeof r=="function"?vR(r):(r instanceof IDBTransaction&&gR(r),fR(r,dR())?new Proxy(r,gp):r)}function Ha(r){if(r instanceof IDBRequest)return pR(r);if(np.has(r))return np.get(r);const t=yR(r);return t!==r&&(np.set(r,t),Xp.set(t,r)),t}const ip=r=>Xp.get(r);function ER(r,t,{blocked:n,upgrade:a,blocking:l,terminated:h}={}){const m=indexedDB.open(r,t),v=Ha(m);return a&&m.addEventListener("upgradeneeded",y=>{a(Ha(m.result),y.oldVersion,y.newVersion,Ha(m.transaction),y)}),n&&m.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),v.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),v}const TR=["get","getKey","getAll","getAllKeys","count"],wR=["put","add","delete","clear"],rp=new Map;function c0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(rp.get(t))return rp.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,l=wR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||TR.includes(n)))return;const h=async function(m,...v){const y=this.transaction(m,l?"readwrite":"readonly");let E=y.store;return a&&(E=E.index(v.shift())),(await Promise.all([E[n](...v),l&&y.done]))[0]};return rp.set(t,h),h}_R(r=>({...r,get:(t,n,a)=>c0(t,n)||r.get(t,n,a),has:(t,n)=>!!c0(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function SR(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _p="@firebase/app",h0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Wp("@firebase/app"),bR="@firebase/app-compat",RR="@firebase/analytics-compat",CR="@firebase/analytics",IR="@firebase/app-check-compat",xR="@firebase/app-check",PR="@firebase/auth",OR="@firebase/auth-compat",LR="@firebase/database",MR="@firebase/data-connect",DR="@firebase/database-compat",NR="@firebase/functions",kR="@firebase/functions-compat",VR="@firebase/installations",UR="@firebase/installations-compat",zR="@firebase/messaging",BR="@firebase/messaging-compat",jR="@firebase/performance",qR="@firebase/performance-compat",HR="@firebase/remote-config",FR="@firebase/remote-config-compat",GR="@firebase/storage",ZR="@firebase/storage-compat",KR="@firebase/firestore",QR="@firebase/ai",YR="@firebase/firestore-compat",WR="firebase",XR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]",JR={[_p]:"fire-core",[bR]:"fire-core-compat",[CR]:"fire-analytics",[RR]:"fire-analytics-compat",[xR]:"fire-app-check",[IR]:"fire-app-check-compat",[PR]:"fire-auth",[OR]:"fire-auth-compat",[LR]:"fire-rtdb",[MR]:"fire-data-connect",[DR]:"fire-rtdb-compat",[NR]:"fire-fn",[kR]:"fire-fn-compat",[VR]:"fire-iid",[UR]:"fire-iid-compat",[zR]:"fire-fcm",[BR]:"fire-fcm-compat",[jR]:"fire-perf",[qR]:"fire-perf-compat",[HR]:"fire-rc",[FR]:"fire-rc-compat",[GR]:"fire-gcs",[ZR]:"fire-gcs-compat",[KR]:"fire-fst",[YR]:"fire-fst-compat",[QR]:"fire-vertex","fire-js":"fire-js",[WR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new Map,$R=new Map,yp=new Map;function f0(r,t){try{r.container.addComponent(t)}catch(n){Ms.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function tu(r){const t=r.name;if(yp.has(t))return Ms.debug(`There were multiple attempts to register component ${t}.`),!1;yp.set(t,r);for(const n of wf.values())f0(n,r);for(const n of $R.values())f0(n,r);return!0}function Jp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function xi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fa=new Vc("app","Firebase",tC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t,n,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=XR;function cT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:vp,automaticDataCollectionEnabled:!0},t),l=a.name;if(typeof l!="string"||!l)throw Fa.create("bad-app-name",{appName:String(l)});if(n||(n=rT()),!n)throw Fa.create("no-options");const h=wf.get(l);if(h){if(Qo(n,h.options)&&Qo(a,h.config))return h;throw Fa.create("duplicate-app",{appName:l})}const m=new oR(l);for(const y of yp.values())m.addComponent(y);const v=new eC(n,a,m);return wf.set(l,v),v}function hT(r=vp){const t=wf.get(r);if(!t&&r===vp&&rT())return cT();if(!t)throw Fa.create("no-app",{appName:r});return t}function Ga(r,t,n){var a;let l=(a=JR[r])!==null&&a!==void 0?a:r;n&&(l+=`-${n}`);const h=l.match(/\s|\//),m=t.match(/\s|\//);if(h||m){const v=[`Unable to register library "${l}" with version "${t}":`];h&&v.push(`library name "${l}" contains illegal characters (whitespace or "/")`),h&&m&&v.push("and"),m&&v.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ms.warn(v.join(" "));return}tu(new Yo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="firebase-heartbeat-database",iC=1,bc="firebase-heartbeat-store";let sp=null;function fT(){return sp||(sp=ER(nC,iC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(bc)}catch(n){console.warn(n)}}}}).catch(r=>{throw Fa.create("idb-open",{originalErrorMessage:r.message})})),sp}async function rC(r){try{const n=(await fT()).transaction(bc),a=await n.objectStore(bc).get(dT(r));return await n.done,a}catch(t){if(t instanceof Us)Ms.warn(t.message);else{const n=Fa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ms.warn(n.message)}}}async function d0(r,t){try{const a=(await fT()).transaction(bc,"readwrite");await a.objectStore(bc).put(t,dT(r)),await a.done}catch(n){if(n instanceof Us)Ms.warn(n.message);else{const a=Fa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ms.warn(a.message)}}}function dT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=1024,aC=30;class oC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=m0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(m=>m.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:l}),this._heartbeatsCache.heartbeats.length>aC){const m=cC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ms.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=m0(),{heartbeatsToSend:a,unsentEntries:l}=lC(this._heartbeatsCache.heartbeats),h=Tf(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(n){return Ms.warn(n),""}}}function m0(){return new Date().toISOString().substring(0,10)}function lC(r,t=sC){const n=[];let a=r.slice();for(const l of r){const h=n.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),p0(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),p0(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class uC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y1()?W1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return d0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return d0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function p0(r){return Tf(JSON.stringify({version:2,heartbeats:r})).length}function cC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r){tu(new Yo("platform-logger",t=>new AR(t),"PRIVATE")),tu(new Yo("heartbeat",t=>new oC(t),"PRIVATE")),Ga(_p,h0,r),Ga(_p,h0,"esm2017"),Ga("fire-js","")}hC("");function $p(r,t){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(n[a[l]]=r[a[l]]);return n}function mT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fC=mT,pT=new Vc("auth","Firebase",mT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Wp("@firebase/auth");function dC(r,...t){Af.logLevel<=ne.WARN&&Af.warn(`Auth (${cu}): ${r}`,...t)}function uf(r,...t){Af.logLevel<=ne.ERROR&&Af.error(`Auth (${cu}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(r,...t){throw eg(r,...t)}function Tr(r,...t){return eg(r,...t)}function tg(r,t,n){const a=Object.assign(Object.assign({},fC()),{[t]:n});return new Vc("auth","Firebase",a).create(t,{appName:r.name})}function Ps(r){return tg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mC(r,t,n){const a=n;if(!(t instanceof a))throw a.name!==t.constructor.name&&$i(r,"argument-error"),tg(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eg(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return pT.create(r,...t)}function Ut(r,t,...n){if(!r)throw eg(t,...n)}function Cs(r){const t="INTERNAL ASSERTION FAILED: "+r;throw uf(t),new Error(t)}function Ds(r,t){r||Cs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function pC(){return g0()==="http:"||g0()==="https:"}function g0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pC()||G1()||"connection"in navigator)?navigator.onLine:!0}function _C(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ds(n>t,"Short delay should be less than long delay!"),this.isMobile=q1()||Z1()}get(){return gC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(r,t){Ds(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EC=new zc(3e4,6e4);function zs(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Bs(r,t,n,a,l={}){return _T(r,l,async()=>{let h={},m={};a&&(t==="GET"?m=a:h={body:JSON.stringify(a)});const v=Uc(Object.assign({key:r.config.apiKey},m)).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const E=Object.assign({method:t,headers:y},h);return F1()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&uu(r.emulatorConfig.host)&&(E.credentials="include"),gT.fetch()(await vT(r,r.config.apiHost,n,v),E)})}async function _T(r,t,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},vC),t);try{const l=new wC(r),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw tf(r,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const v=h.ok?m.errorMessage:m.error.message,[y,E]=v.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(r,"credential-already-in-use",m);if(y==="EMAIL_EXISTS")throw tf(r,"email-already-in-use",m);if(y==="USER_DISABLED")throw tf(r,"user-disabled",m);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw tg(r,b,E);$i(r,b)}}catch(l){if(l instanceof Us)throw l;$i(r,"network-request-failed",{message:String(l)})}}async function Bc(r,t,n,a,l={}){const h=await Bs(r,t,n,a,l);return"mfaPendingCredential"in h&&$i(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function vT(r,t,n,a){const l=`${t}${n}?${a}`,h=r,m=h.config.emulator?ng(r.config,l):`${r.config.apiScheme}://${l}`;return yC.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}function TC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Tr(this.auth,"network-request-failed")),EC.get())})}}function tf(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Tr(r,t,a);return l.customData._tokenResponse=n,l}function _0(r){return r!==void 0&&r.enterprise!==void 0}class AC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return TC(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SC(r,t){return Bs(r,"GET","/v2/recaptchaConfig",zs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(r,t){return Bs(r,"POST","/v1/accounts:delete",t)}async function Sf(r,t){return Bs(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function RC(r,t=!1){const n=an(r),a=await n.getIdToken(t),l=ig(a);Ut(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,m=h==null?void 0:h.sign_in_provider;return{claims:l,token:a,authTime:_c(ap(l.auth_time)),issuedAtTime:_c(ap(l.iat)),expirationTime:_c(ap(l.exp)),signInProvider:m||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function ap(r){return Number(r)*1e3}function ig(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return uf("JWT malformed, contained fewer than 3 sections"),null;try{const l=nT(n);return l?JSON.parse(l):(uf("Failed to decode base64 JWT payload"),null)}catch(l){return uf("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function v0(r){const t=ig(r);return Ut(t,"internal-error"),Ut(typeof t.exp<"u","internal-error"),Ut(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof Us&&CC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function CC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(r){var t;const n=r.auth,a=await r.getIdToken(),l=await Rc(r,Sf(n,{idToken:a}));Ut(l==null?void 0:l.users.length,n,"internal-error");const h=l.users[0];r._notifyReloadListener(h);const m=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?yT(h.providerUserInfo):[],v=PC(r.providerData,m),y=r.isAnonymous,E=!(r.email&&h.passwordHash)&&!(v!=null&&v.length),b=y?E:!1,I={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:v,metadata:new Tp(h.createdAt,h.lastLoginAt),isAnonymous:b};Object.assign(r,I)}async function xC(r){const t=an(r);await bf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function PC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function yT(r){return r.map(t=>{var{providerId:n}=t,a=$p(t,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(r,t){const n=await _T(r,{},async()=>{const a=Uc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,m=await vT(r,l,"/v1/token",`key=${h}`),v=await r._getAdditionalHeaders();v["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:v,body:a};return r.emulatorConfig&&uu(r.emulatorConfig.host)&&(y.credentials="include"),gT.fetch()(m,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LC(r,t){return Bs(r,"POST","/v2/accounts:revokeToken",zs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ut(t.idToken,"internal-error"),Ut(typeof t.idToken<"u","internal-error"),Ut(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):v0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ut(t.length!==0,"internal-error");const n=v0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:l,expiresIn:h}=await OC(t,n);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:l,expirationTime:h}=n,m=new Yl;return a&&(Ut(typeof a=="string","internal-error",{appName:t}),m.refreshToken=a),l&&(Ut(typeof l=="string","internal-error",{appName:t}),m.accessToken=l),h&&(Ut(typeof h=="number","internal-error",{appName:t}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Yl,this.toJSON())}_performRefresh(){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(r,t){Ut(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Er{constructor(t){var{uid:n,auth:a,stsTokenManager:l}=t,h=$p(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new Tp(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const n=await Rc(this,this.stsTokenManager.getToken(this.auth,t));return Ut(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return RC(this,t)}reload(){return xC(this)}_assign(t){this!==t&&(Ut(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Er(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await bf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(Ps(this.auth));const t=await this.getIdToken();return await Rc(this,bC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var a,l,h,m,v,y,E,b;const I=(a=n.displayName)!==null&&a!==void 0?a:void 0,x=(l=n.email)!==null&&l!==void 0?l:void 0,B=(h=n.phoneNumber)!==null&&h!==void 0?h:void 0,F=(m=n.photoURL)!==null&&m!==void 0?m:void 0,X=(v=n.tenantId)!==null&&v!==void 0?v:void 0,tt=(y=n._redirectEventId)!==null&&y!==void 0?y:void 0,at=(E=n.createdAt)!==null&&E!==void 0?E:void 0,ft=(b=n.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:mt,emailVerified:Pt,isAnonymous:Rt,providerData:qt,stsTokenManager:H}=n;Ut(mt&&H,t,"internal-error");const O=Yl.fromJSON(this.name,H);Ut(typeof mt=="string",t,"internal-error"),Va(I,t.name),Va(x,t.name),Ut(typeof Pt=="boolean",t,"internal-error"),Ut(typeof Rt=="boolean",t,"internal-error"),Va(B,t.name),Va(F,t.name),Va(X,t.name),Va(tt,t.name),Va(at,t.name),Va(ft,t.name);const D=new Er({uid:mt,auth:t,email:x,emailVerified:Pt,displayName:I,isAnonymous:Rt,photoURL:F,phoneNumber:B,tenantId:X,stsTokenManager:O,createdAt:at,lastLoginAt:ft});return qt&&Array.isArray(qt)&&(D.providerData=qt.map(z=>Object.assign({},z))),tt&&(D._redirectEventId=tt),D}static async _fromIdTokenResponse(t,n,a=!1){const l=new Yl;l.updateFromServerResponse(n);const h=new Er({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await bf(h),h}static async _fromGetAccountInfoResponse(t,n,a){const l=n.users[0];Ut(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?yT(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!(h!=null&&h.length),v=new Yl;v.updateFromIdToken(a);const y=new Er({uid:l.localId,auth:t,stsTokenManager:v,isAnonymous:m}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Tp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(h!=null&&h.length)};return Object.assign(y,E),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;function Is(r){Ds(r instanceof Function,"Expected a class definition");let t=y0.get(r);return t?(Ds(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,y0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ET.type="NONE";const E0=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(r,t,n){return`firebase:${r}:${t}:${n}`}class Wl{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=cf(this.userKey,l.apiKey,h),this.fullPersistenceKey=cf("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Sf(this.auth,{idToken:t}).catch(()=>{});return n?Er._fromGetAccountInfoResponse(this.auth,n,t):null}return Er._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new Wl(Is(E0),t,a);const l=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let h=l[0]||Is(E0);const m=cf(a,t.config.apiKey,t.name);let v=null;for(const E of n)try{const b=await E._get(m);if(b){let I;if(typeof b=="string"){const x=await Sf(t,{idToken:b}).catch(()=>{});if(!x)break;I=await Er._fromGetAccountInfoResponse(t,x,b)}else I=Er._fromJSON(t,b);E!==h&&(v=I),h=E;break}}catch{}const y=l.filter(E=>E._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Wl(h,t,a):(h=y[0],v&&await h._set(m,v.toJSON()),await Promise.all(n.map(async E=>{if(E!==h)try{await E._remove(m)}catch{}})),new Wl(h,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ST(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RT(t))return"Blackberry";if(CT(t))return"Webos";if(wT(t))return"Safari";if((t.includes("chrome/")||AT(t))&&!t.includes("edge/"))return"Chrome";if(bT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function TT(r=Hn()){return/firefox\//i.test(r)}function wT(r=Hn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AT(r=Hn()){return/crios\//i.test(r)}function ST(r=Hn()){return/iemobile/i.test(r)}function bT(r=Hn()){return/android/i.test(r)}function RT(r=Hn()){return/blackberry/i.test(r)}function CT(r=Hn()){return/webos/i.test(r)}function rg(r=Hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function MC(r=Hn()){var t;return rg(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function DC(){return K1()&&document.documentMode===10}function IT(r=Hn()){return rg(r)||bT(r)||CT(r)||RT(r)||/windows phone/i.test(r)||ST(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(r,t=[]){let n;switch(r){case"Browser":n=T0(Hn());break;case"Worker":n=`${T0(Hn())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${cu}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=h=>new Promise((m,v)=>{try{const y=t(h);m(y)}catch(y){v(y)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r,t={}){return Bs(r,"GET","/v2/passwordPolicy",zs(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=6;class UC{constructor(t){var n,a,l,h;const m=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=m.minPasswordLength)!==null&&n!==void 0?n:VC,m.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=m.maxPasswordLength),m.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=m.containsLowercaseCharacter),m.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=m.containsUppercaseCharacter),m.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=m.containsNumericCharacter),m.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=m.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(h=t.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,a,l,h,m,v;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,y),this.validatePasswordCharacterOptions(t,y),y.isValid&&(y.isValid=(n=y.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),y.isValid&&(y.isValid=(a=y.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(h=y.containsUppercaseLetter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(m=y.containsNumericCharacter)!==null&&m!==void 0?m:!0),y.isValid&&(y.isValid=(v=y.containsNonAlphanumericCharacter)!==null&&v!==void 0?v:!0),y}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t,n,a,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w0(this),this.idTokenSubscription=new w0(this),this.beforeStateQueue=new NC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Is(n)),this._initializationPromise=this.queue(async()=>{var a,l,h;if(!this._deleted&&(this.persistenceManager=await Wl.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Sf(this,{idToken:t}),a=await Er._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(xi(this.app)){const m=this.app.settings.authIdToken;return m?new Promise(v=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(m).then(v,v))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const m=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,v=l==null?void 0:l._redirectEventId,y=await this.tryRedirectSignIn(t);(!m||m===v)&&(y!=null&&y.user)&&(l=y.user,h=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(l)}catch(m){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(m))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await bf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_C()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(xi(this.app))return Promise.reject(Ps(this));const n=t?an(t):null;return n&&Ut(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ut(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return xi(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await kC(this),n=new UC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vc("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await LC(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Is(t)||this._popupRedirectResolver;Ut(n,this,"argument-error"),this.redirectPersistenceManager=await Wl.create(this,[Is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let m=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(v,this,"internal-error"),v.then(()=>{m||h(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,a,l);return()=>{m=!0,y()}}else{const y=t.addObserver(n);return()=>{m=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&dC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function js(r){return an(r)}class w0{constructor(t){this.auth=t,this.observer=null,this.addObserver=eR(n=>this.observer=n)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BC(r){Zf=r}function PT(r){return Zf.loadJS(r)}function jC(){return Zf.recaptchaEnterpriseScript}function qC(){return Zf.gapiScript}function HC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class FC{constructor(){this.enterprise=new GC}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class GC{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const ZC="recaptcha-enterprise",OT="NO_RECAPTCHA";class KC{constructor(t){this.type=ZC,this.auth=js(t)}async verify(t="verify",n=!1){async function a(h){if(!n){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(m,v)=>{SC(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)v(new Error("recaptcha Enterprise site key undefined"));else{const E=new AC(y);return h.tenantId==null?h._agentRecaptchaConfig=E:h._tenantRecaptchaConfigs[h.tenantId]=E,m(E.siteKey)}}).catch(y=>{v(y)})})}function l(h,m,v){const y=window.grecaptcha;_0(y)?y.enterprise.ready(()=>{y.enterprise.execute(h,{action:t}).then(E=>{m(E)}).catch(()=>{m(OT)})}):v(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FC().execute("siteKey",{action:"verify"}):new Promise((h,m)=>{a(this.auth).then(v=>{if(!n&&_0(window.grecaptcha))l(v,h,m);else{if(typeof window>"u"){m(new Error("RecaptchaVerifier is only supported in browser"));return}let y=jC();y.length!==0&&(y+=v),PT(y).then(()=>{l(v,h,m)}).catch(E=>{m(E)})}}).catch(v=>{m(v)})})}}async function A0(r,t,n,a=!1,l=!1){const h=new KC(r);let m;if(l)m=OT;else try{m=await h.verify(n)}catch{m=await h.verify(n,!0)}const v=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in v){const y=v.phoneEnrollmentInfo.phoneNumber,E=v.phoneEnrollmentInfo.recaptchaToken;Object.assign(v,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:E,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in v){const y=v.phoneSignInInfo.recaptchaToken;Object.assign(v,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return v}return a?Object.assign(v,{captchaResp:m}):Object.assign(v,{captchaResponse:m}),Object.assign(v,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(v,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),v}async function Rf(r,t,n,a,l){var h;if(!((h=r._getRecaptchaConfig())===null||h===void 0)&&h.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const m=await A0(r,t,n,n==="getOobCode");return a(r,m)}else return a(r,t).catch(async m=>{if(m.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const v=await A0(r,t,n,n==="getOobCode");return a(r,v)}else return Promise.reject(m)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(r,t){const n=Jp(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(Qo(h,t??{}))return l;$i(l,"already-initialized")}return n.initialize({options:t})}function YC(r,t){const n=(t==null?void 0:t.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Is);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function WC(r,t,n){const a=js(r);Ut(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=LT(t),{host:m,port:v}=XC(t),y=v===null?"":`:${v}`,E={url:`${h}//${m}${y}/`},b=Object.freeze({host:m,port:v,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ut(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ut(Qo(E,a.config.emulator)&&Qo(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=E,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,uu(m)?(aT(`${h}//${m}${y}`),oT("Auth",!0)):JC()}function LT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function XC(r){const t=LT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:S0(a.substr(h.length+1))}}else{const[h,m]=a.split(":");return{host:h,port:S0(m)}}}function S0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function JC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(t){return Cs("not implemented")}_linkToIdToken(t,n){return Cs("not implemented")}_getReauthenticationResolver(t){return Cs("not implemented")}}async function $C(r,t){return Bs(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(r,t){return Bc(r,"POST","/v1/accounts:signInWithPassword",zs(r,t))}async function eI(r,t){return Bs(r,"POST","/v1/accounts:sendOobCode",zs(r,t))}async function nI(r,t){return eI(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(r,t){return Bc(r,"POST","/v1/accounts:signInWithEmailLink",zs(r,t))}async function rI(r,t){return Bc(r,"POST","/v1/accounts:signInWithEmailLink",zs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends sg{constructor(t,n,a,l=null){super("password",a),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Cc(t,n,"password")}static _fromEmailAndCode(t,n,a=null){return new Cc(t,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rf(t,n,"signInWithPassword",tI);case"emailLink":return iI(t,{email:this._email,oobCode:this._password});default:$i(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rf(t,a,"signUpPassword",$C);case"emailLink":return rI(t,{idToken:n,email:this._email,oobCode:this._password});default:$i(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(r,t){return Bc(r,"POST","/v1/accounts:signInWithIdp",zs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="http://localhost";class Wo extends sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Wo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=n,h=$p(n,["providerId","signInMethod"]);if(!a||!l)return null;const m=new Wo(a,l);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(t){const n=this.buildRequest();return Xl(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,Xl(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Xl(t,n)}buildRequest(){const t={requestUri:sI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Uc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oI(r){const t=uc(cc(r)).link,n=t?uc(cc(t)).deep_link_id:null,a=uc(cc(r)).deep_link_id;return(a?uc(cc(a)).link:null)||a||n||t||r}class ag{constructor(t){var n,a,l,h,m,v;const y=uc(cc(t)),E=(n=y.apiKey)!==null&&n!==void 0?n:null,b=(a=y.oobCode)!==null&&a!==void 0?a:null,I=aI((l=y.mode)!==null&&l!==void 0?l:null);Ut(E&&b&&I,"argument-error"),this.apiKey=E,this.operation=I,this.code=b,this.continueUrl=(h=y.continueUrl)!==null&&h!==void 0?h:null,this.languageCode=(m=y.lang)!==null&&m!==void 0?m:null,this.tenantId=(v=y.tenantId)!==null&&v!==void 0?v:null}static parseLink(t){const n=oI(t);try{return new ag(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.providerId=hu.PROVIDER_ID}static credential(t,n){return Cc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const a=ag.parseLink(n);return Ut(a,"argument-error"),Cc._fromEmailAndCode(t,a.code,a.tenantId)}}hu.PROVIDER_ID="password";hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends og{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends jc{constructor(){super("facebook.com")}static credential(t){return Wo._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ua.credentialFromTaggedObject(t)}static credentialFromError(t){return Ua.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ua.credential(t.oauthAccessToken)}catch{return null}}}Ua.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ua.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Wo._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Zr.credential(n,a)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends jc{constructor(){super("github.com")}static credential(t){return Wo._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return za.credentialFromTaggedObject(t)}static credentialFromError(t){return za.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return za.credential(t.oauthAccessToken)}catch{return null}}}za.GITHUB_SIGN_IN_METHOD="github.com";za.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends jc{constructor(){super("twitter.com")}static credential(t,n){return Wo._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ba.credentialFromTaggedObject(t)}static credentialFromError(t){return Ba.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return Ba.credential(n,a)}catch{return null}}}Ba.TWITTER_SIGN_IN_METHOD="twitter.com";Ba.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(r,t){return Bc(r,"POST","/v1/accounts:signUp",zs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,l=!1){const h=await Er._fromIdTokenResponse(t,a,l),m=b0(a);return new Xo({user:h,providerId:m,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const l=b0(a);return new Xo({user:t,providerId:l,_tokenResponse:a,operationType:n})}}function b0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends Us{constructor(t,n,a,l){var h;super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Cf.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,l){return new Cf(t,n,a,l)}}function MT(r,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Cf._fromErrorAndOperation(r,h,t,a):h})}async function uI(r,t,n=!1){const a=await Rc(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Xo._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(r,t,n=!1){const{auth:a}=r;if(xi(a.app))return Promise.reject(Ps(a));const l="reauthenticate";try{const h=await Rc(r,MT(a,l,t,r),n);Ut(h.idToken,a,"internal-error");const m=ig(h.idToken);Ut(m,a,"internal-error");const{sub:v}=m;return Ut(r.uid===v,a,"user-mismatch"),Xo._forOperation(r,l,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&$i(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DT(r,t,n=!1){if(xi(r.app))return Promise.reject(Ps(r));const a="signIn",l=await MT(r,a,t),h=await Xo._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(h.user),h}async function hI(r,t){return DT(js(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NT(r){const t=js(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function fI(r,t,n){const a=js(r);await Rf(a,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",nI)}async function dI(r,t,n){if(xi(r.app))return Promise.reject(Ps(r));const a=js(r),m=await Rf(a,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lI).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&NT(r),y}),v=await Xo._fromIdTokenResponse(a,"signIn",m);return await a._updateCurrentUser(v.user),v}function mI(r,t,n){return xi(r.app)?Promise.reject(Ps(r)):hI(an(r),hu.credential(t,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&NT(r),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(r,t){return an(r).setPersistence(t)}function gI(r,t,n,a){return an(r).onIdTokenChanged(t,n,a)}function _I(r,t,n){return an(r).beforeAuthStateChanged(t,n)}function vI(r,t,n,a){return an(r).onAuthStateChanged(t,n,a)}function yI(r){return an(r).signOut()}const If="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(If,"1"),this.storage.removeItem(If),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=1e3,TI=10;class VT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&t(n,l,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((m,v,y)=>{this.notifyListeners(m,y)});return}const a=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(a);!n&&this.localCache[a]===m||this.notifyListeners(a,m)},h=this.storage.getItem(a);DC()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,TI):l()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},EI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}VT.type="LOCAL";const UT=VT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}zT.type="SESSION";const BT=zT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const a=new Kf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:l,data:h}=n.data,m=this.handlersMap[l];if(!(m!=null&&m.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const v=Array.from(m).map(async E=>E(n.origin,h)),y=await wI(v);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,m;return new Promise((v,y)=>{const E=lg("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);m={messageChannel:l,onMessage(I){const x=I;if(x.data.eventId===E)switch(x.data.status){case"ack":clearTimeout(b),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),v(x.data.response);break;default:clearTimeout(b),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:t,eventId:E,data:n},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function SI(r){Kr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function bI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function CI(){return jT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebaseLocalStorageDb",II=1,xf="firebaseLocalStorage",HT="fbase_key";class qc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qf(r,t){return r.transaction([xf],t?"readwrite":"readonly").objectStore(xf)}function xI(){const r=indexedDB.deleteDatabase(qT);return new qc(r).toPromise()}function wp(){const r=indexedDB.open(qT,II);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(xf,{keyPath:HT})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(xf)?t(a):(a.close(),await xI(),t(await wp()))})})}async function R0(r,t,n){const a=Qf(r,!0).put({[HT]:t,value:n});return new qc(a).toPromise()}async function PI(r,t){const n=Qf(r,!1).get(t),a=await new qc(n).toPromise();return a===void 0?null:a.value}function C0(r,t){const n=Qf(r,!0).delete(t);return new qc(n).toPromise()}const OI=800,LI=3;class FT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>LI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(CI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await bI(),!this.activeServiceWorker)return;this.sender=new AI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||RI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wp();return await R0(t,If,"1"),await C0(t,If),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>R0(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>PI(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>C0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Qf(l,!1).getAll();return new qc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FT.type="LOCAL";const MI=FT;new zc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r,t){return t?Is(t):(Ut(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug extends sg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Xl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Xl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function DI(r){return DT(r.auth,new ug(r),r.bypassAuthState)}function NI(r){const{auth:t,user:n}=r;return Ut(n,t,"internal-error"),cI(n,new ug(r),r.bypassAuthState)}async function kI(r){const{auth:t,user:n}=r;return Ut(n,t,"internal-error"),uI(n,new ug(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t,n,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:l,tenantId:h,error:m,type:v}=t;if(m){this.reject(m);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(v)(y))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return DI;case"linkViaPopup":case"linkViaRedirect":return kI;case"reauthViaPopup":case"reauthViaRedirect":return NI;default:$i(this.auth,"internal-error")}}resolve(t){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new zc(2e3,1e4);async function UI(r,t,n){if(xi(r.app))return Promise.reject(Tr(r,"operation-not-supported-in-this-environment"));const a=js(r);mC(r,t,og);const l=GT(a,n);return new Fo(a,"signInViaPopup",t,l).executeNotNull()}class Fo extends ZT{constructor(t,n,a,l,h){super(t,n,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ut(t,this.auth,"internal-error"),t}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const t=lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,VI.get())};t()}}Fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="pendingRedirect",hf=new Map;class BI extends ZT{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=hf.get(this.auth._key());if(!t){try{const a=await jI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}hf.set(this.auth._key(),t)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jI(r,t){const n=FI(t),a=HI(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function qI(r,t){hf.set(r._key(),t)}function HI(r){return Is(r._redirectPersistence)}function FI(r){return cf(zI,r.config.apiKey,r.name)}async function GI(r,t,n=!1){if(xi(r.app))return Promise.reject(Ps(r));const a=js(r),l=GT(a,t),m=await new BI(a,l,n).execute();return m&&!n&&(delete m.user._redirectEventId,await a._persistUserIfCurrent(m.user),await a._setRedirectUser(null,t)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=10*60*1e3;class KI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!QI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var a;if(t.error&&!KT(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Tr(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ZI&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(t))}saveEventToCache(t){this.cachedEventUids.add(I0(t)),this.lastProcessedEventTime=Date.now()}}function I0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function KT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function QI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(r,t={}){return Bs(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XI=/^https?/;async function JI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await YI(r);for(const n of t)try{if($I(n))return}catch{}$i(r,"unauthorized-domain")}function $I(r){const t=Ep(),{protocol:n,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const m=new URL(r);return m.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&m.hostname===a}if(!XI.test(n))return!1;if(WI.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new zc(3e4,6e4);function x0(){const r=Kr().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function ex(r){return new Promise((t,n)=>{var a,l,h;function m(){x0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{x0(),n(Tr(r,"network-request-failed"))},timeout:tx.get()})}if(!((l=(a=Kr().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((h=Kr().gapi)===null||h===void 0)&&h.load)m();else{const v=HC("iframefcb");return Kr()[v]=()=>{gapi.load?m():n(Tr(r,"network-request-failed"))},PT(`${qC()}?onload=${v}`).catch(y=>n(y))}}).catch(t=>{throw ff=null,t})}let ff=null;function nx(r){return ff=ff||ex(r),ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new zc(5e3,15e3),rx="__/auth/iframe",sx="emulator/auth/iframe",ax={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ox=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lx(r){const t=r.config;Ut(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?ng(t,sx):`https://${r.config.authDomain}/${rx}`,a={apiKey:t.apiKey,appName:r.name,v:cu},l=ox.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${n}?${Uc(a).slice(1)}`}async function ux(r){const t=await nx(r),n=Kr().gapi;return Ut(n,r,"internal-error"),t.open({where:document.body,url:lx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ax,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const m=Tr(r,"network-request-failed"),v=Kr().setTimeout(()=>{h(m)},ix.get());function y(){Kr().clearTimeout(v),l(a)}a.ping(y).then(y,()=>{h(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hx=500,fx=600,dx="_blank",mx="http://localhost";class P0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function px(r,t,n,a=hx,l=fx){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-a)/2,0).toString();let v="";const y=Object.assign(Object.assign({},cx),{width:a.toString(),height:l.toString(),top:h,left:m}),E=Hn().toLowerCase();n&&(v=AT(E)?dx:n),TT(E)&&(t=t||mx,y.scrollbars="yes");const b=Object.entries(y).reduce((x,[B,F])=>`${x}${B}=${F},`,"");if(MC(E)&&v!=="_self")return gx(t||"",v),new P0(null);const I=window.open(t||"",v,b);Ut(I,r,"popup-blocked");try{I.focus()}catch{}return new P0(I)}function gx(r,t){const n=document.createElement("a");n.href=r,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="__/auth/handler",vx="emulator/auth/handler",yx=encodeURIComponent("fac");async function O0(r,t,n,a,l,h){Ut(r.config.authDomain,r,"auth-domain-config-required"),Ut(r.config.apiKey,r,"invalid-api-key");const m={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:cu,eventId:l};if(t instanceof og){t.setDefaultLanguage(r.languageCode),m.providerId=t.providerId||"",tR(t.getCustomParameters())||(m.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,I]of Object.entries({}))m[b]=I}if(t instanceof jc){const b=t.getScopes().filter(I=>I!=="");b.length>0&&(m.scopes=b.join(","))}r.tenantId&&(m.tid=r.tenantId);const v=m;for(const b of Object.keys(v))v[b]===void 0&&delete v[b];const y=await r._getAppCheckToken(),E=y?`#${yx}=${encodeURIComponent(y)}`:"";return`${Ex(r)}?${Uc(v).slice(1)}${E}`}function Ex({config:r}){return r.emulator?ng(r,vx):`https://${r.authDomain}/${_x}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class Tx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BT,this._completeRedirectFn=GI,this._overrideRedirectResult=qI}async _openPopup(t,n,a,l){var h;Ds((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const m=await O0(t,n,a,Ep(),l);return px(t,m,lg())}async _openRedirect(t,n,a,l){await this._originValidation(t);const h=await O0(t,n,a,Ep(),l);return SI(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(Ds(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await ux(t),a=new KI(t);return n.register("authEvent",l=>(Ut(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(op,{type:op},l=>{var h;const m=(h=l==null?void 0:l[0])===null||h===void 0?void 0:h[op];m!==void 0&&n(!!m),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return IT()||wT()||rg()}}const wx=Tx;var L0="@firebase/auth",M0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bx(r){tu(new Yo("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:m,authDomain:v}=a.options;Ut(m&&!m.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:m,authDomain:v,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xT(r)},E=new zC(a,l,h,y);return YC(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),tu(new Yo("auth-internal",t=>{const n=js(t.getProvider("auth").getImmediate());return(a=>new Ax(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ga(L0,M0,Sx(r)),Ga(L0,M0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=5*60,Cx=sT("authIdTokenMaxAge")||Rx;let D0=null;const Ix=r=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>Cx)return;const l=n==null?void 0:n.token;D0!==l&&(D0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function xx(r=hT()){const t=Jp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=QC(r,{popupRedirectResolver:wx,persistence:[MI,UT,BT]}),a=sT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const m=Ix(h.toString());_I(n,m,()=>m(n.currentUser)),gI(n,v=>m(v))}}const l=iT("auth");return l&&WC(n,`http://${l}`),n}function Px(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}BC({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const h=Tr("internal-error");h.customData=l,n(h)},a.type="text/javascript",a.charset="UTF-8",Px().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bx("Browser");var N0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,QT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(H,O){function D(){}D.prototype=O.prototype,H.D=O.prototype,H.prototype=new D,H.prototype.constructor=H,H.C=function(z,j,G){for(var V=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)V[Ae-2]=arguments[Ae];return O.prototype[j].apply(z,V)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(H,O,D){D||(D=0);var z=Array(16);if(typeof O=="string")for(var j=0;16>j;++j)z[j]=O.charCodeAt(D++)|O.charCodeAt(D++)<<8|O.charCodeAt(D++)<<16|O.charCodeAt(D++)<<24;else for(j=0;16>j;++j)z[j]=O[D++]|O[D++]<<8|O[D++]<<16|O[D++]<<24;O=H.g[0],D=H.g[1],j=H.g[2];var G=H.g[3],V=O+(G^D&(j^G))+z[0]+3614090360&4294967295;O=D+(V<<7&4294967295|V>>>25),V=G+(j^O&(D^j))+z[1]+3905402710&4294967295,G=O+(V<<12&4294967295|V>>>20),V=j+(D^G&(O^D))+z[2]+606105819&4294967295,j=G+(V<<17&4294967295|V>>>15),V=D+(O^j&(G^O))+z[3]+3250441966&4294967295,D=j+(V<<22&4294967295|V>>>10),V=O+(G^D&(j^G))+z[4]+4118548399&4294967295,O=D+(V<<7&4294967295|V>>>25),V=G+(j^O&(D^j))+z[5]+1200080426&4294967295,G=O+(V<<12&4294967295|V>>>20),V=j+(D^G&(O^D))+z[6]+2821735955&4294967295,j=G+(V<<17&4294967295|V>>>15),V=D+(O^j&(G^O))+z[7]+4249261313&4294967295,D=j+(V<<22&4294967295|V>>>10),V=O+(G^D&(j^G))+z[8]+1770035416&4294967295,O=D+(V<<7&4294967295|V>>>25),V=G+(j^O&(D^j))+z[9]+2336552879&4294967295,G=O+(V<<12&4294967295|V>>>20),V=j+(D^G&(O^D))+z[10]+4294925233&4294967295,j=G+(V<<17&4294967295|V>>>15),V=D+(O^j&(G^O))+z[11]+2304563134&4294967295,D=j+(V<<22&4294967295|V>>>10),V=O+(G^D&(j^G))+z[12]+1804603682&4294967295,O=D+(V<<7&4294967295|V>>>25),V=G+(j^O&(D^j))+z[13]+4254626195&4294967295,G=O+(V<<12&4294967295|V>>>20),V=j+(D^G&(O^D))+z[14]+2792965006&4294967295,j=G+(V<<17&4294967295|V>>>15),V=D+(O^j&(G^O))+z[15]+1236535329&4294967295,D=j+(V<<22&4294967295|V>>>10),V=O+(j^G&(D^j))+z[1]+4129170786&4294967295,O=D+(V<<5&4294967295|V>>>27),V=G+(D^j&(O^D))+z[6]+3225465664&4294967295,G=O+(V<<9&4294967295|V>>>23),V=j+(O^D&(G^O))+z[11]+643717713&4294967295,j=G+(V<<14&4294967295|V>>>18),V=D+(G^O&(j^G))+z[0]+3921069994&4294967295,D=j+(V<<20&4294967295|V>>>12),V=O+(j^G&(D^j))+z[5]+3593408605&4294967295,O=D+(V<<5&4294967295|V>>>27),V=G+(D^j&(O^D))+z[10]+38016083&4294967295,G=O+(V<<9&4294967295|V>>>23),V=j+(O^D&(G^O))+z[15]+3634488961&4294967295,j=G+(V<<14&4294967295|V>>>18),V=D+(G^O&(j^G))+z[4]+3889429448&4294967295,D=j+(V<<20&4294967295|V>>>12),V=O+(j^G&(D^j))+z[9]+568446438&4294967295,O=D+(V<<5&4294967295|V>>>27),V=G+(D^j&(O^D))+z[14]+3275163606&4294967295,G=O+(V<<9&4294967295|V>>>23),V=j+(O^D&(G^O))+z[3]+4107603335&4294967295,j=G+(V<<14&4294967295|V>>>18),V=D+(G^O&(j^G))+z[8]+1163531501&4294967295,D=j+(V<<20&4294967295|V>>>12),V=O+(j^G&(D^j))+z[13]+2850285829&4294967295,O=D+(V<<5&4294967295|V>>>27),V=G+(D^j&(O^D))+z[2]+4243563512&4294967295,G=O+(V<<9&4294967295|V>>>23),V=j+(O^D&(G^O))+z[7]+1735328473&4294967295,j=G+(V<<14&4294967295|V>>>18),V=D+(G^O&(j^G))+z[12]+2368359562&4294967295,D=j+(V<<20&4294967295|V>>>12),V=O+(D^j^G)+z[5]+4294588738&4294967295,O=D+(V<<4&4294967295|V>>>28),V=G+(O^D^j)+z[8]+2272392833&4294967295,G=O+(V<<11&4294967295|V>>>21),V=j+(G^O^D)+z[11]+1839030562&4294967295,j=G+(V<<16&4294967295|V>>>16),V=D+(j^G^O)+z[14]+4259657740&4294967295,D=j+(V<<23&4294967295|V>>>9),V=O+(D^j^G)+z[1]+2763975236&4294967295,O=D+(V<<4&4294967295|V>>>28),V=G+(O^D^j)+z[4]+1272893353&4294967295,G=O+(V<<11&4294967295|V>>>21),V=j+(G^O^D)+z[7]+4139469664&4294967295,j=G+(V<<16&4294967295|V>>>16),V=D+(j^G^O)+z[10]+3200236656&4294967295,D=j+(V<<23&4294967295|V>>>9),V=O+(D^j^G)+z[13]+681279174&4294967295,O=D+(V<<4&4294967295|V>>>28),V=G+(O^D^j)+z[0]+3936430074&4294967295,G=O+(V<<11&4294967295|V>>>21),V=j+(G^O^D)+z[3]+3572445317&4294967295,j=G+(V<<16&4294967295|V>>>16),V=D+(j^G^O)+z[6]+76029189&4294967295,D=j+(V<<23&4294967295|V>>>9),V=O+(D^j^G)+z[9]+3654602809&4294967295,O=D+(V<<4&4294967295|V>>>28),V=G+(O^D^j)+z[12]+3873151461&4294967295,G=O+(V<<11&4294967295|V>>>21),V=j+(G^O^D)+z[15]+530742520&4294967295,j=G+(V<<16&4294967295|V>>>16),V=D+(j^G^O)+z[2]+3299628645&4294967295,D=j+(V<<23&4294967295|V>>>9),V=O+(j^(D|~G))+z[0]+4096336452&4294967295,O=D+(V<<6&4294967295|V>>>26),V=G+(D^(O|~j))+z[7]+1126891415&4294967295,G=O+(V<<10&4294967295|V>>>22),V=j+(O^(G|~D))+z[14]+2878612391&4294967295,j=G+(V<<15&4294967295|V>>>17),V=D+(G^(j|~O))+z[5]+4237533241&4294967295,D=j+(V<<21&4294967295|V>>>11),V=O+(j^(D|~G))+z[12]+1700485571&4294967295,O=D+(V<<6&4294967295|V>>>26),V=G+(D^(O|~j))+z[3]+2399980690&4294967295,G=O+(V<<10&4294967295|V>>>22),V=j+(O^(G|~D))+z[10]+4293915773&4294967295,j=G+(V<<15&4294967295|V>>>17),V=D+(G^(j|~O))+z[1]+2240044497&4294967295,D=j+(V<<21&4294967295|V>>>11),V=O+(j^(D|~G))+z[8]+1873313359&4294967295,O=D+(V<<6&4294967295|V>>>26),V=G+(D^(O|~j))+z[15]+4264355552&4294967295,G=O+(V<<10&4294967295|V>>>22),V=j+(O^(G|~D))+z[6]+2734768916&4294967295,j=G+(V<<15&4294967295|V>>>17),V=D+(G^(j|~O))+z[13]+1309151649&4294967295,D=j+(V<<21&4294967295|V>>>11),V=O+(j^(D|~G))+z[4]+4149444226&4294967295,O=D+(V<<6&4294967295|V>>>26),V=G+(D^(O|~j))+z[11]+3174756917&4294967295,G=O+(V<<10&4294967295|V>>>22),V=j+(O^(G|~D))+z[2]+718787259&4294967295,j=G+(V<<15&4294967295|V>>>17),V=D+(G^(j|~O))+z[9]+3951481745&4294967295,H.g[0]=H.g[0]+O&4294967295,H.g[1]=H.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,H.g[2]=H.g[2]+j&4294967295,H.g[3]=H.g[3]+G&4294967295}a.prototype.u=function(H,O){O===void 0&&(O=H.length);for(var D=O-this.blockSize,z=this.B,j=this.h,G=0;G<O;){if(j==0)for(;G<=D;)l(this,H,G),G+=this.blockSize;if(typeof H=="string"){for(;G<O;)if(z[j++]=H.charCodeAt(G++),j==this.blockSize){l(this,z),j=0;break}}else for(;G<O;)if(z[j++]=H[G++],j==this.blockSize){l(this,z),j=0;break}}this.h=j,this.o+=O},a.prototype.v=function(){var H=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);H[0]=128;for(var O=1;O<H.length-8;++O)H[O]=0;var D=8*this.o;for(O=H.length-8;O<H.length;++O)H[O]=D&255,D/=256;for(this.u(H),H=Array(16),O=D=0;4>O;++O)for(var z=0;32>z;z+=8)H[D++]=this.g[O]>>>z&255;return H};function h(H,O){var D=v;return Object.prototype.hasOwnProperty.call(D,H)?D[H]:D[H]=O(H)}function m(H,O){this.h=O;for(var D=[],z=!0,j=H.length-1;0<=j;j--){var G=H[j]|0;z&&G==O||(D[j]=G,z=!1)}this.g=D}var v={};function y(H){return-128<=H&&128>H?h(H,function(O){return new m([O|0],0>O?-1:0)}):new m([H|0],0>H?-1:0)}function E(H){if(isNaN(H)||!isFinite(H))return I;if(0>H)return tt(E(-H));for(var O=[],D=1,z=0;H>=D;z++)O[z]=H/D|0,D*=4294967296;return new m(O,0)}function b(H,O){if(H.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(H.charAt(0)=="-")return tt(b(H.substring(1),O));if(0<=H.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=E(Math.pow(O,8)),z=I,j=0;j<H.length;j+=8){var G=Math.min(8,H.length-j),V=parseInt(H.substring(j,j+G),O);8>G?(G=E(Math.pow(O,G)),z=z.j(G).add(E(V))):(z=z.j(D),z=z.add(E(V)))}return z}var I=y(0),x=y(1),B=y(16777216);r=m.prototype,r.m=function(){if(X(this))return-tt(this).m();for(var H=0,O=1,D=0;D<this.g.length;D++){var z=this.i(D);H+=(0<=z?z:4294967296+z)*O,O*=4294967296}return H},r.toString=function(H){if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(F(this))return"0";if(X(this))return"-"+tt(this).toString(H);for(var O=E(Math.pow(H,6)),D=this,z="";;){var j=Pt(D,O).g;D=at(D,j.j(O));var G=((0<D.g.length?D.g[0]:D.h)>>>0).toString(H);if(D=j,F(D))return G+z;for(;6>G.length;)G="0"+G;z=G+z}},r.i=function(H){return 0>H?0:H<this.g.length?this.g[H]:this.h};function F(H){if(H.h!=0)return!1;for(var O=0;O<H.g.length;O++)if(H.g[O]!=0)return!1;return!0}function X(H){return H.h==-1}r.l=function(H){return H=at(this,H),X(H)?-1:F(H)?0:1};function tt(H){for(var O=H.g.length,D=[],z=0;z<O;z++)D[z]=~H.g[z];return new m(D,~H.h).add(x)}r.abs=function(){return X(this)?tt(this):this},r.add=function(H){for(var O=Math.max(this.g.length,H.g.length),D=[],z=0,j=0;j<=O;j++){var G=z+(this.i(j)&65535)+(H.i(j)&65535),V=(G>>>16)+(this.i(j)>>>16)+(H.i(j)>>>16);z=V>>>16,G&=65535,V&=65535,D[j]=V<<16|G}return new m(D,D[D.length-1]&-2147483648?-1:0)};function at(H,O){return H.add(tt(O))}r.j=function(H){if(F(this)||F(H))return I;if(X(this))return X(H)?tt(this).j(tt(H)):tt(tt(this).j(H));if(X(H))return tt(this.j(tt(H)));if(0>this.l(B)&&0>H.l(B))return E(this.m()*H.m());for(var O=this.g.length+H.g.length,D=[],z=0;z<2*O;z++)D[z]=0;for(z=0;z<this.g.length;z++)for(var j=0;j<H.g.length;j++){var G=this.i(z)>>>16,V=this.i(z)&65535,Ae=H.i(j)>>>16,Ne=H.i(j)&65535;D[2*z+2*j]+=V*Ne,ft(D,2*z+2*j),D[2*z+2*j+1]+=G*Ne,ft(D,2*z+2*j+1),D[2*z+2*j+1]+=V*Ae,ft(D,2*z+2*j+1),D[2*z+2*j+2]+=G*Ae,ft(D,2*z+2*j+2)}for(z=0;z<O;z++)D[z]=D[2*z+1]<<16|D[2*z];for(z=O;z<2*O;z++)D[z]=0;return new m(D,0)};function ft(H,O){for(;(H[O]&65535)!=H[O];)H[O+1]+=H[O]>>>16,H[O]&=65535,O++}function mt(H,O){this.g=H,this.h=O}function Pt(H,O){if(F(O))throw Error("division by zero");if(F(H))return new mt(I,I);if(X(H))return O=Pt(tt(H),O),new mt(tt(O.g),tt(O.h));if(X(O))return O=Pt(H,tt(O)),new mt(tt(O.g),O.h);if(30<H.g.length){if(X(H)||X(O))throw Error("slowDivide_ only works with positive integers.");for(var D=x,z=O;0>=z.l(H);)D=Rt(D),z=Rt(z);var j=qt(D,1),G=qt(z,1);for(z=qt(z,2),D=qt(D,2);!F(z);){var V=G.add(z);0>=V.l(H)&&(j=j.add(D),G=V),z=qt(z,1),D=qt(D,1)}return O=at(H,j.j(O)),new mt(j,O)}for(j=I;0<=H.l(O);){for(D=Math.max(1,Math.floor(H.m()/O.m())),z=Math.ceil(Math.log(D)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),G=E(D),V=G.j(O);X(V)||0<V.l(H);)D-=z,G=E(D),V=G.j(O);F(G)&&(G=x),j=j.add(G),H=at(H,V)}return new mt(j,H)}r.A=function(H){return Pt(this,H).h},r.and=function(H){for(var O=Math.max(this.g.length,H.g.length),D=[],z=0;z<O;z++)D[z]=this.i(z)&H.i(z);return new m(D,this.h&H.h)},r.or=function(H){for(var O=Math.max(this.g.length,H.g.length),D=[],z=0;z<O;z++)D[z]=this.i(z)|H.i(z);return new m(D,this.h|H.h)},r.xor=function(H){for(var O=Math.max(this.g.length,H.g.length),D=[],z=0;z<O;z++)D[z]=this.i(z)^H.i(z);return new m(D,this.h^H.h)};function Rt(H){for(var O=H.g.length+1,D=[],z=0;z<O;z++)D[z]=H.i(z)<<1|H.i(z-1)>>>31;return new m(D,H.h)}function qt(H,O){var D=O>>5;O%=32;for(var z=H.g.length-D,j=[],G=0;G<z;G++)j[G]=0<O?H.i(G+D)>>>O|H.i(G+D+1)<<32-O:H.i(G+D);return new m(j,H.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,QT=a,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=E,m.fromString=b,Za=m}).apply(typeof N0<"u"?N0:typeof self<"u"?self:typeof window<"u"?window:{});var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YT,hc,WT,df,Ap,XT,JT,$T;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,T,A){return f==Array.prototype||f==Object.prototype||(f[T]=A.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof ef=="object"&&ef];for(var T=0;T<f.length;++T){var A=f[T];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=n(this);function l(f,T){if(T)t:{var A=a;f=f.split(".");for(var P=0;P<f.length-1;P++){var K=f[P];if(!(K in A))break t;A=A[K]}f=f[f.length-1],P=A[f],T=T(P),T!=P&&T!=null&&t(A,f,{configurable:!0,writable:!0,value:T})}}function h(f,T){f instanceof String&&(f+="");var A=0,P=!1,K={next:function(){if(!P&&A<f.length){var it=A++;return{value:T(it,f[it]),done:!1}}return P=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}l("Array.prototype.values",function(f){return f||function(){return h(this,function(T,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},v=this||self;function y(f){var T=typeof f;return T=T!="object"?T:f?Array.isArray(f)?"array":T:"null",T=="array"||T=="object"&&typeof f.length=="number"}function E(f){var T=typeof f;return T=="object"&&f!=null||T=="function"}function b(f,T,A){return f.call.apply(f.bind,arguments)}function I(f,T,A){if(!f)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,P),f.apply(T,K)}}return function(){return f.apply(T,arguments)}}function x(f,T,A){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:I,x.apply(null,arguments)}function B(f,T){var A=Array.prototype.slice.call(arguments,1);return function(){var P=A.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function F(f,T){function A(){}A.prototype=T.prototype,f.aa=T.prototype,f.prototype=new A,f.prototype.constructor=f,f.Qb=function(P,K,it){for(var vt=Array(arguments.length-2),te=2;te<arguments.length;te++)vt[te-2]=arguments[te];return T.prototype[K].apply(P,vt)}}function X(f){const T=f.length;if(0<T){const A=Array(T);for(let P=0;P<T;P++)A[P]=f[P];return A}return[]}function tt(f,T){for(let A=1;A<arguments.length;A++){const P=arguments[A];if(y(P)){const K=f.length||0,it=P.length||0;f.length=K+it;for(let vt=0;vt<it;vt++)f[K+vt]=P[vt]}else f.push(P)}}class at{constructor(T,A){this.i=T,this.j=A,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function ft(f){return/^[\s\xa0]*$/.test(f)}function mt(){var f=v.navigator;return f&&(f=f.userAgent)?f:""}function Pt(f){return Pt[" "](f),f}Pt[" "]=function(){};var Rt=mt().indexOf("Gecko")!=-1&&!(mt().toLowerCase().indexOf("webkit")!=-1&&mt().indexOf("Edge")==-1)&&!(mt().indexOf("Trident")!=-1||mt().indexOf("MSIE")!=-1)&&mt().indexOf("Edge")==-1;function qt(f,T,A){for(const P in f)T.call(A,f[P],P,f)}function H(f,T){for(const A in f)T.call(void 0,f[A],A,f)}function O(f){const T={};for(const A in f)T[A]=f[A];return T}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(f,T){let A,P;for(let K=1;K<arguments.length;K++){P=arguments[K];for(A in P)f[A]=P[A];for(let it=0;it<D.length;it++)A=D[it],Object.prototype.hasOwnProperty.call(P,A)&&(f[A]=P[A])}}function j(f){var T=1;f=f.split(":");const A=[];for(;0<T&&f.length;)A.push(f.shift()),T--;return f.length&&A.push(f.join(":")),A}function G(f){v.setTimeout(()=>{throw f},0)}function V(){var f=se;let T=null;return f.g&&(T=f.g,f.g=f.g.next,f.g||(f.h=null),T.next=null),T}class Ae{constructor(){this.h=this.g=null}add(T,A){const P=Ne.get();P.set(T,A),this.h?this.h.next=P:this.g=P,this.h=P}}var Ne=new at(()=>new rt,f=>f.reset());class rt{constructor(){this.next=this.g=this.h=null}set(T,A){this.h=T,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,gt=!1,se=new Ae,M=()=>{const f=v.Promise.resolve(void 0);yt=()=>{f.then(st)}};var st=()=>{for(var f;f=V();){try{f.h.call(f.g)}catch(A){G(A)}var T=Ne;T.j(f),100>T.h&&(T.h++,f.next=T.g,T.g=f)}gt=!1};function _t(){this.s=this.s,this.C=this.C}_t.prototype.s=!1,_t.prototype.ma=function(){this.s||(this.s=!0,this.N())},_t.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(f,T){this.type=f,this.g=this.target=T,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var Tt=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var f=!1,T=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};v.addEventListener("test",A,T),v.removeEventListener("test",A,T)}catch{}return f}();function bt(f,T){if(pt.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var A=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=T,T=f.relatedTarget){if(Rt){t:{try{Pt(T.nodeName);var K=!0;break t}catch{}K=!1}K||(T=null)}}else A=="mouseover"?T=f.fromElement:A=="mouseout"&&(T=f.toElement);this.relatedTarget=T,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Et[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&bt.aa.h.call(this)}}F(bt,pt);var Et={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),re=0;function oi(f,T,A,P,K){this.listener=f,this.proxy=null,this.src=T,this.type=A,this.capture=!!P,this.ha=K,this.key=++re,this.da=this.fa=!1}function Li(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function li(f){this.src=f,this.g={},this.h=0}li.prototype.add=function(f,T,A,P,K){var it=f.toString();f=this.g[it],f||(f=this.g[it]=[],this.h++);var vt=tr(f,T,P,K);return-1<vt?(T=f[vt],A||(T.fa=!1)):(T=new oi(T,this.src,it,!!P,K),T.fa=A,f.push(T)),T};function ui(f,T){var A=T.type;if(A in f.g){var P=f.g[A],K=Array.prototype.indexOf.call(P,T,void 0),it;(it=0<=K)&&Array.prototype.splice.call(P,K,1),it&&(Li(T),f.g[A].length==0&&(delete f.g[A],f.h--))}}function tr(f,T,A,P){for(var K=0;K<f.length;++K){var it=f[K];if(!it.da&&it.listener==T&&it.capture==!!A&&it.ha==P)return K}return-1}var ts="closure_lm_"+(1e6*Math.random()|0),Hs={};function ro(f,T,A,P,K){if(Array.isArray(T)){for(var it=0;it<T.length;it++)ro(f,T[it],A,P,K);return null}return A=sl(A),f&&f[ve]?f.K(T,A,E(P)?!!P.capture:!1,K):On(f,T,A,!1,P,K)}function On(f,T,A,P,K,it){if(!T)throw Error("Invalid event type");var vt=E(K)?!!K.capture:!!K,te=ns(f);if(te||(f[ts]=te=new li(f)),A=te.add(T,A,P,vt,it),A.proxy)return A;if(P=Fs(),A.proxy=P,P.src=f,P.listener=A,f.addEventListener)Tt||(K=vt),K===void 0&&(K=!1),f.addEventListener(T.toString(),P,K);else if(f.attachEvent)f.attachEvent(er(T.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Fs(){function f(A){return T.call(f.src,f.listener,A)}const T=rl;return f}function so(f,T,A,P,K){if(Array.isArray(T))for(var it=0;it<T.length;it++)so(f,T[it],A,P,K);else P=E(P)?!!P.capture:!!P,A=sl(A),f&&f[ve]?(f=f.i,T=String(T).toString(),T in f.g&&(it=f.g[T],A=tr(it,A,P,K),-1<A&&(Li(it[A]),Array.prototype.splice.call(it,A,1),it.length==0&&(delete f.g[T],f.h--)))):f&&(f=ns(f))&&(T=f.g[T.toString()],f=-1,T&&(f=tr(T,A,P,K)),(A=-1<f?T[f]:null)&&es(A))}function es(f){if(typeof f!="number"&&f&&!f.da){var T=f.src;if(T&&T[ve])ui(T.i,f);else{var A=f.type,P=f.proxy;T.removeEventListener?T.removeEventListener(A,P,f.capture):T.detachEvent?T.detachEvent(er(A),P):T.addListener&&T.removeListener&&T.removeListener(P),(A=ns(T))?(ui(A,f),A.h==0&&(A.src=null,T[ts]=null)):Li(f)}}}function er(f){return f in Hs?Hs[f]:Hs[f]="on"+f}function rl(f,T){if(f.da)f=!0;else{T=new bt(T,this);var A=f.listener,P=f.ha||f.src;f.fa&&es(f),f=A.call(P,T)}return f}function ns(f){return f=f[ts],f instanceof li?f:null}var ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function sl(f){return typeof f=="function"?f:(f[ao]||(f[ao]=function(T){return f.handleEvent(T)}),f[ao])}function Re(){_t.call(this),this.i=new li(this),this.M=this,this.F=null}F(Re,_t),Re.prototype[ve]=!0,Re.prototype.removeEventListener=function(f,T,A,P){so(this,f,T,A,P)};function ue(f,T){var A,P=f.F;if(P)for(A=[];P;P=P.F)A.push(P);if(f=f.M,P=T.type||T,typeof T=="string")T=new pt(T,f);else if(T instanceof pt)T.target=T.target||f;else{var K=T;T=new pt(P,f),z(T,K)}if(K=!0,A)for(var it=A.length-1;0<=it;it--){var vt=T.g=A[it];K=Ln(vt,P,!0,T)&&K}if(vt=T.g=f,K=Ln(vt,P,!0,T)&&K,K=Ln(vt,P,!1,T)&&K,A)for(it=0;it<A.length;it++)vt=T.g=A[it],K=Ln(vt,P,!1,T)&&K}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var f=this.i,T;for(T in f.g){for(var A=f.g[T],P=0;P<A.length;P++)Li(A[P]);delete f.g[T],f.h--}}this.F=null},Re.prototype.K=function(f,T,A,P){return this.i.add(String(f),T,!1,A,P)},Re.prototype.L=function(f,T,A,P){return this.i.add(String(f),T,!0,A,P)};function Ln(f,T,A,P){if(T=f.i.g[String(T)],!T)return!0;T=T.concat();for(var K=!0,it=0;it<T.length;++it){var vt=T[it];if(vt&&!vt.da&&vt.capture==A){var te=vt.listener,Fe=vt.ha||vt.src;vt.fa&&ui(f.i,vt),K=te.call(Fe,P)!==!1&&K}}return K&&!P.defaultPrevented}function fn(f,T,A){if(typeof f=="function")A&&(f=x(f,A));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:v.setTimeout(f,T||0)}function oo(f){f.g=fn(()=>{f.g=null,f.i&&(f.i=!1,oo(f))},f.l);const T=f.h;f.h=null,f.m.apply(null,T)}class al extends _t{constructor(T,A){super(),this.m=T,this.l=A,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:oo(this)}N(){super.N(),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(f){_t.call(this),this.h=f,this.g={}}F(is,_t);var Rr=[];function nr(f){qt(f.g,function(T,A){this.g.hasOwnProperty(A)&&es(T)},f),f.g={}}is.prototype.N=function(){is.aa.N.call(this),nr(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=v.JSON.stringify,Gs=v.JSON.parse,ci=class{stringify(f){return v.JSON.stringify(f,void 0)}parse(f){return v.JSON.parse(f,void 0)}};function lo(){}lo.prototype.h=null;function uo(f){return f.h||(f.h=f.i())}function Zs(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){pt.call(this,"d")}F(Di,pt);function co(){pt.call(this,"c")}F(co,pt);var Ni={},ho=null;function Cr(){return ho=ho||new Re}Ni.La="serverreachability";function Ks(f){pt.call(this,Ni.La,f)}F(Ks,pt);function Ir(f){const T=Cr();ue(T,new Ks(T))}Ni.STAT_EVENT="statevent";function Qs(f,T){pt.call(this,Ni.STAT_EVENT,f),this.stat=T}F(Qs,pt);function Ce(f){const T=Cr();ue(T,new Qs(T,f))}Ni.Ma="timingevent";function Ke(f,T){pt.call(this,Ni.Ma,f),this.size=T}F(Ke,pt);function He(f,T){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return v.setTimeout(function(){f()},T)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function Mn(f,T,A,P,K,it){f.info(function(){if(f.g)if(it)for(var vt="",te=it.split("&"),Fe=0;Fe<te.length;Fe++){var ee=te[Fe].split("=");if(1<ee.length){var de=ee[0];ee=ee[1];var xe=de.split("_");vt=2<=xe.length&&xe[1]=="type"?vt+(de+"="+ee+"&"):vt+(de+"=redacted&")}}else vt=null;else vt=it;return"XMLHTTP REQ ("+P+") [attempt "+K+"]: "+T+`
`+A+`
`+vt})}function Ot(f,T,A,P,K,it,vt){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+K+"]: "+T+`
`+A+`
`+it+" "+vt})}function ir(f,T,A,P){f.info(function(){return"XMLHTTP TEXT ("+T+"): "+xr(f,A)+(P?" "+P:"")})}function fo(f,T){f.info(function(){return"TIMEOUT: "+T})}Jn.prototype.info=function(){};function xr(f,T){if(!f.g)return T;if(!T)return null;try{var A=JSON.parse(T);if(A){for(f=0;f<A.length;f++)if(Array.isArray(A[f])){var P=A[f];if(!(2>P.length)){var K=P[1];if(Array.isArray(K)&&!(1>K.length)){var it=K[0];if(it!="noop"&&it!="stop"&&it!="close")for(var vt=1;vt<K.length;vt++)K[vt]=""}}}}return Xn(A)}catch{return T}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fi;function wn(){}F(wn,lo),wn.prototype.g=function(){return new XMLHttpRequest},wn.prototype.i=function(){return{}},fi=new wn;function dn(f,T,A,P){this.j=f,this.i=T,this.l=A,this.R=P||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ze}function ze(){this.i=null,this.g="",this.h=!1}var mo={},Ys={};function di(f,T,A){f.L=1,f.v=Fn(Ie(T)),f.m=A,f.P=!0,ki(f,null)}function ki(f,T){f.F=Date.now(),ss(f),f.A=Ie(f.v);var A=f.A,P=f.R;Array.isArray(P)||(P=[String(P)]),_o(A.i,"t",P),f.C=0,A=f.j.J,f.h=new ze,f.g=fl(f.j,A?T:null,!f.m),0<f.O&&(f.M=new al(x(f.Y,f,f.g),f.O)),T=f.U,A=f.g,P=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(Rr[0]=K.toString()),K=Rr);for(var it=0;it<K.length;it++){var vt=ro(A,K[it],P||T.handleEvent,!1,T.h||T);if(!vt)break;T.g[vt.key]=vt}T=f.H?O(f.H):{},f.m?(f.u||(f.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,T)):(f.u="GET",f.g.ea(f.A,f.u,null,T)),Ir(),Mn(f.i,f.u,f.A,f.l,f.R,f.m)}dn.prototype.ca=function(f){f=f.target;const T=this.M;T&&gn(f)==3?T.j():this.Y(f)},dn.prototype.Y=function(f){try{if(f==this.g)t:{const xe=gn(this.g);var T=this.g.Ba();const fr=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||vo(this.g)))){this.J||xe!=4||T==7||(T==8||0>=fr?Ir(3):Ir(2)),Pr(this);var A=this.g.Z();this.X=A;e:if(ol(this)){var P=vo(this.g);f="";var K=P.length,it=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),Vi(this);var vt="";break e}this.h.i=new v.TextDecoder}for(T=0;T<K;T++)this.h.h=!0,f+=this.h.i.decode(P[T],{stream:!(it&&T==K-1)});P.length=0,this.h.g+=f,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=A==200,Ot(this.i,this.u,this.A,this.l,this.R,xe,A),this.o){if(this.T&&!this.K){e:{if(this.g){var te,Fe=this.g;if((te=Fe.g?Fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ft(te)){var ee=te;break e}}ee=null}if(A=ee)ir(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sr(this,A);else{this.o=!1,this.s=3,Ce(12),on(this),Vi(this);break t}}if(this.P){A=!0;let Se;for(;!this.J&&this.C<vt.length;)if(Se=rs(this,vt),Se==Ys){xe==4&&(this.s=4,Ce(14),A=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Se==mo){this.s=4,Ce(15),ir(this.i,this.l,vt,"[Invalid Chunk]"),A=!1;break}else ir(this.i,this.l,Se,null),sr(this,Se);if(ol(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||vt.length!=0||this.h.h||(this.s=1,Ce(16),A=!1),this.o=this.o&&A,!A)ir(this.i,this.l,vt,"[Invalid Chunked Response]"),on(this),Vi(this);else if(0<vt.length&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.ba&&!de.M&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),kr(de),de.M=!0,Ce(11))}}else ir(this.i,this.l,vt,null),sr(this,vt);xe==4&&on(this),this.o&&!this.J&&(xe==4?Eo(this.j,this):(this.o=!1,ss(this)))}else _u(this.g),A==400&&0<vt.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),on(this),Vi(this)}}}catch{}finally{}};function ol(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function rs(f,T){var A=f.C,P=T.indexOf(`
`,A);return P==-1?Ys:(A=Number(T.substring(A,P)),isNaN(A)?mo:(P+=1,P+A>T.length?Ys:(T=T.slice(P,P+A),f.C=P+A,T)))}dn.prototype.cancel=function(){this.J=!0,on(this)};function ss(f){f.S=Date.now()+f.I,ll(f,f.I)}function ll(f,T){if(f.B!=null)throw Error("WatchDog timer not null");f.B=He(x(f.ba,f),T)}function Pr(f){f.B&&(v.clearTimeout(f.B),f.B=null)}dn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(fo(this.i,this.A),this.L!=2&&(Ir(),Ce(17)),on(this),this.s=2,Vi(this)):ll(this,this.S-f)};function Vi(f){f.j.G==0||f.J||Eo(f.j,f)}function on(f){Pr(f);var T=f.M;T&&typeof T.ma=="function"&&T.ma(),f.M=null,nr(f.U),f.g&&(T=f.g,f.g=null,T.abort(),T.ma())}function sr(f,T){try{var A=f.j;if(A.G!=0&&(A.g==f||Wt(A.h,f))){if(!f.K&&Wt(A.h,f)&&A.G==3){try{var P=A.Da.g.parse(T)}catch{P=null}if(Array.isArray(P)&&P.length==3){var K=P;if(K[0]==0){t:if(!A.u){if(A.g)if(A.g.F+3e3<f.F)ra(A),ea(A);else break t;na(A),Ce(18)}}else A.za=K[1],0<A.za-A.T&&37500>K[2]&&A.F&&A.v==0&&!A.C&&(A.C=He(x(A.Za,A),6e3));if(1>=zi(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else hr(A,11)}else if((f.K||A.g==f)&&ra(A),!ft(T))for(K=A.Da.g.parse(T),T=0;T<K.length;T++){let ee=K[T];if(A.T=ee[0],ee=ee[1],A.G==2)if(ee[0]=="c"){A.K=ee[1],A.ia=ee[2];const de=ee[3];de!=null&&(A.la=de,A.j.info("VER="+A.la));const xe=ee[4];xe!=null&&(A.Aa=xe,A.j.info("SVER="+A.Aa));const fr=ee[5];fr!=null&&typeof fr=="number"&&0<fr&&(P=1.5*fr,A.L=P,A.j.info("backChannelRequestTimeoutMs_="+P)),P=A;const Se=f.g;if(Se){const Fi=Se.g?Se.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var it=P.h;it.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(fe(it,it.h),it.h=null))}if(P.D){const Gi=Se.g?Se.g.getResponseHeader("X-HTTP-Session-Id"):null;Gi&&(P.ya=Gi,Vt(P.I,P.D,Gi))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-f.F,A.j.info("Handshake RTT: "+A.R+"ms")),P=A;var vt=f;if(P.qa=aa(P,P.J?P.ia:null,P.W),vt.K){Je(P.h,vt);var te=vt,Fe=P.L;Fe&&(te.I=Fe),te.B&&(Pr(te),ss(te)),P.g=vt}else yi(P);0<A.i.length&&Nr(A)}else ee[0]!="stop"&&ee[0]!="close"||hr(A,7);else A.G==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?hr(A,7):ta(A):ee[0]!="noop"&&A.l&&A.l.ta(ee),A.v=0)}}Ir(4)}catch{}}var Or=class{constructor(f,T){this.g=f,this.map=T}};function Ui(f){this.l=f||10,v.PerformanceNavigationTiming?(f=v.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(v.chrome&&v.chrome.loadTimes&&v.chrome.loadTimes()&&v.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function as(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function zi(f){return f.h?1:f.g?f.g.size:0}function Wt(f,T){return f.h?f.h==T:f.g?f.g.has(T):!1}function fe(f,T){f.g?f.g.add(T):f.h=T}function Je(f,T){f.h&&f.h==T?f.h=null:f.g&&f.g.has(T)&&f.g.delete(T)}Ui.prototype.cancel=function(){if(this.i=Bi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Bi(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let T=f.i;for(const A of f.g.values())T=T.concat(A.D);return T}return X(f.i)}function Lr(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(y(f)){for(var T=[],A=f.length,P=0;P<A;P++)T.push(f[P]);return T}T=[],A=0;for(P in f)T[A++]=f[P];return T}function Mr(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(y(f)||typeof f=="string"){var T=[];f=f.length;for(var A=0;A<f;A++)T.push(A);return T}T=[],A=0;for(const P in f)T[A++]=P;return T}}}function Ht(f,T){if(f.forEach&&typeof f.forEach=="function")f.forEach(T,void 0);else if(y(f)||typeof f=="string")Array.prototype.forEach.call(f,T,void 0);else for(var A=Mr(f),P=Lr(f),K=P.length,it=0;it<K;it++)T.call(void 0,P[it],A&&A[it],f)}var pe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function po(f,T){if(f){f=f.split("&");for(var A=0;A<f.length;A++){var P=f[A].indexOf("="),K=null;if(0<=P){var it=f[A].substring(0,P);K=f[A].substring(P+1)}else it=f[A];T(it,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function De(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof De){this.h=f.h,os(this,f.j),this.o=f.o,this.g=f.g,mi(this,f.s),this.l=f.l;var T=f.i,A=new gi;A.i=T.i,T.g&&(A.g=new Map(T.g),A.h=T.h),An(this,A),this.m=f.m}else f&&(T=String(f).match(pe))?(this.h=!1,os(this,T[1]||"",!0),this.o=mn(T[2]||""),this.g=mn(T[3]||"",!0),mi(this,T[4]),this.l=mn(T[5]||"",!0),An(this,T[6]||"",!0),this.m=mn(T[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}De.prototype.toString=function(){var f=[],T=this.j;T&&f.push(pi(T,ar,!0),":");var A=this.g;return(A||T=="file")&&(f.push("//"),(T=this.o)&&f.push(pi(T,ar,!0),"@"),f.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&f.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(pi(A,A.charAt(0)=="/"?go:ls,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",pi(A,Dr)),f.join("")};function Ie(f){return new De(f)}function os(f,T,A){f.j=A?mn(T,!0):T,f.j&&(f.j=f.j.replace(/:$/,""))}function mi(f,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);f.s=T}else f.s=null}function An(f,T,A){T instanceof gi?(f.i=T,Gn(f.i,f.h)):(A||(T=pi(T,Xs)),f.i=new gi(T,f.h))}function Vt(f,T,A){f.i.set(T,A)}function Fn(f){return Vt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function mn(f,T){return f?T?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function pi(f,T,A){return typeof f=="string"?(f=encodeURI(f).replace(T,Ws),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ws(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ar=/[#\/\?@]/g,ls=/[#\?:]/g,go=/[#\?]/g,Xs=/[#\?@]/g,Dr=/#/g;function gi(f,T){this.h=this.g=null,this.i=f||null,this.j=!!T}function Sn(f){f.g||(f.g=new Map,f.h=0,f.i&&po(f.i,function(T,A){f.add(decodeURIComponent(T.replace(/\+/g," ")),A)}))}r=gi.prototype,r.add=function(f,T){Sn(this),this.i=null,f=Dt(this,f);var A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(T),this.h+=1,this};function ji(f,T){Sn(f),T=Dt(f,T),f.g.has(T)&&(f.i=null,f.h-=f.g.get(T).length,f.g.delete(T))}function _i(f,T){return Sn(f),T=Dt(f,T),f.g.has(T)}r.forEach=function(f,T){Sn(this),this.g.forEach(function(A,P){A.forEach(function(K){f.call(T,K,P,this)},this)},this)},r.na=function(){Sn(this);const f=Array.from(this.g.values()),T=Array.from(this.g.keys()),A=[];for(let P=0;P<T.length;P++){const K=f[P];for(let it=0;it<K.length;it++)A.push(T[P])}return A},r.V=function(f){Sn(this);let T=[];if(typeof f=="string")_i(this,f)&&(T=T.concat(this.g.get(Dt(this,f))));else{f=Array.from(this.g.values());for(let A=0;A<f.length;A++)T=T.concat(f[A])}return T},r.set=function(f,T){return Sn(this),this.i=null,f=Dt(this,f),_i(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[T]),this.h+=1,this},r.get=function(f,T){return f?(f=this.V(f),0<f.length?String(f[0]):T):T};function _o(f,T,A){ji(f,T),0<A.length&&(f.i=null,f.g.set(Dt(f,T),X(A)),f.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],T=Array.from(this.g.keys());for(var A=0;A<T.length;A++){var P=T[A];const it=encodeURIComponent(String(P)),vt=this.V(P);for(P=0;P<vt.length;P++){var K=it;vt[P]!==""&&(K+="="+encodeURIComponent(String(vt[P]))),f.push(K)}}return this.i=f.join("&")};function Dt(f,T){return T=String(T),f.j&&(T=T.toLowerCase()),T}function Gn(f,T){T&&!f.j&&(Sn(f),f.i=null,f.g.forEach(function(A,P){var K=P.toLowerCase();P!=K&&(ji(this,P),_o(this,K,A))},f)),f.j=T}function ae(f,T){const A=new Jn;if(v.Image){const P=new Image;P.onload=B(Dn,A,"TestLoadImage: loaded",!0,T,P),P.onerror=B(Dn,A,"TestLoadImage: error",!1,T,P),P.onabort=B(Dn,A,"TestLoadImage: abort",!1,T,P),P.ontimeout=B(Dn,A,"TestLoadImage: timeout",!1,T,P),v.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else T(!1)}function $n(f,T){const A=new Jn,P=new AbortController,K=setTimeout(()=>{P.abort(),Dn(A,"TestPingServer: timeout",!1,T)},1e4);fetch(f,{signal:P.signal}).then(it=>{clearTimeout(K),it.ok?Dn(A,"TestPingServer: ok",!0,T):Dn(A,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(K),Dn(A,"TestPingServer: error",!1,T)})}function Dn(f,T,A,P,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),P(A)}catch{}}function or(){this.g=new ci}function ti(f,T,A){const P=A||"";try{Ht(f,function(K,it){let vt=K;E(K)&&(vt=Xn(K)),T.push(P+it+"="+encodeURIComponent(vt))})}catch(K){throw T.push(P+"type="+encodeURIComponent("_badmap")),K}}function Nn(f){this.l=f.Ub||null,this.j=f.eb||!1}F(Nn,lo),Nn.prototype.g=function(){return new vi(this.l,this.j)},Nn.prototype.i=function(f){return function(){return f}}({});function vi(f,T){Re.call(this),this.D=f,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(vi,Re),r=vi.prototype,r.open=function(f,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=T,this.readyState=1,pn(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(T.body=f),(this.D||v).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ye(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,pn(this)),this.g&&(this.readyState=3,pn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof v.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lr(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function lr(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var T=f.value?f.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!f.done}))&&(this.response=this.responseText+=T)}f.done?ye(this):pn(this),this.readyState==3&&lr(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,ye(this))},r.Qa=function(f){this.g&&(this.response=f,ye(this))},r.ga=function(){this.g&&ye(this)};function ye(f){f.readyState=4,f.l=null,f.j=null,f.v=null,pn(f)}r.setRequestHeader=function(f,T){this.u.append(f,T)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],T=this.h.entries();for(var A=T.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=T.next();return f.join(`\r
`)};function pn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Js(f){let T="";return qt(f,function(A,P){T+=P,T+=":",T+=A,T+=`\r
`}),T}function Qe(f,T,A){t:{for(P in A){var P=!1;break t}P=!0}P||(A=Js(A),typeof f=="string"?A!=null&&encodeURIComponent(String(A)):Vt(f,T,A))}function ce(f){Re.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(ce,Re);var us=/^https?$/i,ur=["POST","PUT"];r=ce.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,T,A,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);T=T?T.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fi.g(),this.v=this.o?uo(this.o):uo(fi),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(T,String(f),!0),this.B=!1}catch(it){ul(this,it);return}if(f=A||"",A=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var K in P)A.set(K,P[K]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const it of P.keys())A.set(it,P.get(it));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(A.keys()).find(it=>it.toLowerCase()=="content-type"),K=v.FormData&&f instanceof v.FormData,!(0<=Array.prototype.indexOf.call(ur,T,void 0))||P||K||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,vt]of A)this.g.setRequestHeader(it,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ln(this),this.u=!0,this.g.send(f),this.u=!1}catch(it){ul(this,it)}};function ul(f,T){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=T,f.m=5,cs(f),qi(f)}function cs(f){f.A||(f.A=!0,ue(f,"complete"),ue(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ue(this,"complete"),ue(this,"abort"),qi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),ce.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Zt(this):this.bb())},r.bb=function(){Zt(this)};function Zt(f){if(f.h&&typeof m<"u"&&(!f.v[1]||gn(f)!=4||f.Z()!=2)){if(f.u&&gn(f)==4)fn(f.Ea,0,f);else if(ue(f,"readystatechange"),gn(f)==4){f.h=!1;try{const vt=f.Z();t:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break t;default:T=!1}var A;if(!(A=T)){var P;if(P=vt===0){var K=String(f.D).match(pe)[1]||null;!K&&v.self&&v.self.location&&(K=v.self.location.protocol.slice(0,-1)),P=!us.test(K?K.toLowerCase():"")}A=P}if(A)ue(f,"complete"),ue(f,"success");else{f.m=6;try{var it=2<gn(f)?f.g.statusText:""}catch{it=""}f.l=it+" ["+f.Z()+"]",cs(f)}}finally{qi(f)}}}}function qi(f,T){if(f.g){ln(f);const A=f.g,P=f.v[0]?()=>{}:null;f.g=null,f.v=null,T||ue(f,"ready");try{A.onreadystatechange=P}catch{}}}function ln(f){f.I&&(v.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function gn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var T=this.g.responseText;return f&&T.indexOf(f)==0&&(T=T.substring(f.length)),Gs(T)}};function vo(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function _u(f){const T={};f=(f.g&&2<=gn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(ft(f[P]))continue;var A=j(f[P]);const K=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const it=T[K]||[];T[K]=it,it.push(A)}H(T,function(P){return P.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(f,T,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||T}function $s(f){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cr("baseRetryDelayMs",5e3,f),this.cb=cr("retryDelaySeedMs",1e4,f),this.Wa=cr("forwardChannelMaxRetries",2,f),this.wa=cr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(f&&f.concurrentRequestLimit),this.Da=new or,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=$s.prototype,r.la=8,r.G=1,r.connect=function(f,T,A,P){Ce(0),this.W=f,this.H=T||{},A&&P!==void 0&&(this.H.OSID=A,this.H.OAID=P),this.F=this.X,this.I=aa(this,null,this.W),Nr(this)};function ta(f){if(cl(f),f.G==3){var T=f.U++,A=Ie(f.I);if(Vt(A,"SID",f.K),Vt(A,"RID",T),Vt(A,"TYPE","terminate"),hs(f,A),T=new dn(f,f.j,T),T.L=2,T.v=Fn(Ie(A)),A=!1,v.navigator&&v.navigator.sendBeacon)try{A=v.navigator.sendBeacon(T.v.toString(),"")}catch{}!A&&v.Image&&(new Image().src=T.v,A=!0),A||(T.g=fl(T.j,null),T.g.ea(T.v)),T.F=Date.now(),ss(T)}hl(f)}function ea(f){f.g&&(kr(f),f.g.cancel(),f.g=null)}function cl(f){ea(f),f.u&&(v.clearTimeout(f.u),f.u=null),ra(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&v.clearTimeout(f.s),f.s=null)}function Nr(f){if(!as(f.h)&&!f.s){f.s=!0;var T=f.Ga;yt||M(),gt||(yt(),gt=!0),se.add(T,f),f.B=0}}function vu(f,T){return zi(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=T.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=He(x(f.Ga,f,T),sa(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new dn(this,this.j,f);let it=this.o;if(this.S&&(it?(it=O(it),z(it,this.S)):it=this.S),this.m!==null||this.O||(K.H=it,it=null),this.P)t:{for(var T=0,A=0;A<this.i.length;A++){e:{var P=this.i[A];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break e}P=void 0}if(P===void 0)break;if(T+=P,4096<T){T=A;break t}if(T===4096||A===this.i.length-1){T=A+1;break t}}T=1e3}else T=1e3;T=yo(this,K,T),A=Ie(this.I),Vt(A,"RID",f),Vt(A,"CVER",22),this.D&&Vt(A,"X-HTTP-Session-Id",this.D),hs(this,A),it&&(this.O?T="headers="+encodeURIComponent(String(Js(it)))+"&"+T:this.m&&Qe(A,this.m,it)),fe(this.h,K),this.Ua&&Vt(A,"TYPE","init"),this.P?(Vt(A,"$req",T),Vt(A,"SID","null"),K.T=!0,di(K,A,null)):di(K,A,T),this.G=2}}else this.G==3&&(f?kn(this,f):this.i.length==0||as(this.h)||kn(this))};function kn(f,T){var A;T?A=T.l:A=f.U++;const P=Ie(f.I);Vt(P,"SID",f.K),Vt(P,"RID",A),Vt(P,"AID",f.T),hs(f,P),f.m&&f.o&&Qe(P,f.m,f.o),A=new dn(f,f.j,A,f.B+1),f.m===null&&(A.H=f.o),T&&(f.i=T.D.concat(f.i)),T=yo(f,A,1e3),A.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),fe(f.h,A),di(A,P,T)}function hs(f,T){f.H&&qt(f.H,function(A,P){Vt(T,P,A)}),f.l&&Ht({},function(A,P){Vt(T,P,A)})}function yo(f,T,A){A=Math.min(f.i.length,A);var P=f.l?x(f.l.Na,f.l,f):null;t:{var K=f.i;let it=-1;for(;;){const vt=["count="+A];it==-1?0<A?(it=K[0].g,vt.push("ofs="+it)):it=0:vt.push("ofs="+it);let te=!0;for(let Fe=0;Fe<A;Fe++){let ee=K[Fe].g;const de=K[Fe].map;if(ee-=it,0>ee)it=Math.max(0,K[Fe].g-100),te=!1;else try{ti(de,vt,"req"+ee+"_")}catch{P&&P(de)}}if(te){P=vt.join("&");break t}}}return f=f.i.splice(0,A),T.D=f,P}function yi(f){if(!f.g&&!f.u){f.Y=1;var T=f.Fa;yt||M(),gt||(yt(),gt=!0),se.add(T,f),f.v=0}}function na(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=He(x(f.Fa,f),sa(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,ia(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=He(x(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),ea(this),ia(this))};function kr(f){f.A!=null&&(v.clearTimeout(f.A),f.A=null)}function ia(f){f.g=new dn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var T=Ie(f.qa);Vt(T,"RID","rpc"),Vt(T,"SID",f.K),Vt(T,"AID",f.T),Vt(T,"CI",f.F?"0":"1"),!f.F&&f.ja&&Vt(T,"TO",f.ja),Vt(T,"TYPE","xmlhttp"),hs(f,T),f.m&&f.o&&Qe(T,f.m,f.o),f.L&&(f.g.I=f.L);var A=f.g;f=f.ia,A.L=1,A.v=Fn(Ie(T)),A.m=null,A.P=!0,ki(A,f)}r.Za=function(){this.C!=null&&(this.C=null,ea(this),na(this),Ce(19))};function ra(f){f.C!=null&&(v.clearTimeout(f.C),f.C=null)}function Eo(f,T){var A=null;if(f.g==T){ra(f),kr(f),f.g=null;var P=2}else if(Wt(f.h,T))A=T.D,Je(f.h,T),P=1;else return;if(f.G!=0){if(T.o)if(P==1){A=T.m?T.m.length:0,T=Date.now()-T.F;var K=f.B;P=Cr(),ue(P,new Ke(P,A)),Nr(f)}else yi(f);else if(K=T.s,K==3||K==0&&0<T.X||!(P==1&&vu(f,T)||P==2&&na(f)))switch(A&&0<A.length&&(T=f.h,T.i=T.i.concat(A)),K){case 1:hr(f,5);break;case 4:hr(f,10);break;case 3:hr(f,6);break;default:hr(f,2)}}}function sa(f,T){let A=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(A*=2),A*T}function hr(f,T){if(f.j.info("Error code "+T),T==2){var A=x(f.fb,f),P=f.Xa;const K=!P;P=new De(P||"//www.google.com/images/cleardot.gif"),v.location&&v.location.protocol=="http"||os(P,"https"),Fn(P),K?ae(P.toString(),A):$n(P.toString(),A)}else Ce(2);f.G=0,f.l&&f.l.sa(T),hl(f),cl(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function hl(f){if(f.G=0,f.ka=[],f.l){const T=Bi(f.h);(T.length!=0||f.i.length!=0)&&(tt(f.ka,T),tt(f.ka,f.i),f.h.i.length=0,X(f.i),f.i.length=0),f.l.ra()}}function aa(f,T,A){var P=A instanceof De?Ie(A):new De(A);if(P.g!="")T&&(P.g=T+"."+P.g),mi(P,P.s);else{var K=v.location;P=K.protocol,T=T?T+"."+K.hostname:K.hostname,K=+K.port;var it=new De(null);P&&os(it,P),T&&(it.g=T),K&&mi(it,K),A&&(it.l=A),P=it}return A=f.D,T=f.ya,A&&T&&Vt(P,A,T),Vt(P,"VER",f.la),hs(f,P),P}function fl(f,T,A){if(T&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=f.Ca&&!f.pa?new ce(new Nn({eb:A})):new ce(f.pa),T.Ha(f.J),T}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function To(){}r=To.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function fs(){}fs.prototype.g=function(f,T){return new $e(f,T)};function $e(f,T){Re.call(this),this.g=new $s(T),this.l=f,this.h=T&&T.messageUrlParams||null,f=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(f?f["X-WebChannel-Content-Type"]=T.messageContentType:f={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(f?f["X-WebChannel-Client-Profile"]=T.va:f={"X-WebChannel-Client-Profile":T.va}),this.g.S=f,(f=T&&T.Sb)&&!ft(f)&&(this.g.m=f),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!ft(T)&&(this.g.D=T,f=this.h,f!==null&&T in f&&(f=this.h,T in f&&delete f[T])),this.j=new Vn(this)}F($e,Re),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){ta(this.g)},$e.prototype.o=function(f){var T=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.u&&(A={},A.__data__=Xn(f),f=A);T.i.push(new Or(T.Ya++,f)),T.G==3&&Nr(T)},$e.prototype.N=function(){this.g.l=null,delete this.j,ta(this.g),delete this.g,$e.aa.N.call(this)};function Hi(f){Di.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var T=f.__sm__;if(T){t:{for(const A in T){f=A;break t}f=void 0}(this.i=f)&&(f=this.i,T=T!==null&&f in T?T[f]:void 0),this.data=T}else this.data=f}F(Hi,Di);function dl(){co.call(this),this.status=1}F(dl,co);function Vn(f){this.g=f}F(Vn,To),Vn.prototype.ua=function(){ue(this.g,"a")},Vn.prototype.ta=function(f){ue(this.g,new Hi(f))},Vn.prototype.sa=function(f){ue(this.g,new dl)},Vn.prototype.ra=function(){ue(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,$T=function(){return new fs},JT=function(){return Cr()},XT=Ni,Ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,df=rr,hi.COMPLETE="complete",WT=hi,Zs.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",Re.prototype.listen=Re.prototype.K,hc=Zs,ce.prototype.listenOnce=ce.prototype.L,ce.prototype.getLastError=ce.prototype.Ka,ce.prototype.getLastErrorCode=ce.prototype.Ba,ce.prototype.getStatus=ce.prototype.Z,ce.prototype.getResponseJson=ce.prototype.Oa,ce.prototype.getResponseText=ce.prototype.oa,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Ha,YT=ce}).apply(typeof ef<"u"?ef:typeof self<"u"?self:typeof window<"u"?window:{});const k0="@firebase/firestore",V0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Wp("@firebase/firestore");function Fl(){return Jo.logLevel}function St(r,...t){if(Jo.logLevel<=ne.DEBUG){const n=t.map(cg);Jo.debug(`Firestore (${fu}): ${r}`,...n)}}function Ns(r,...t){if(Jo.logLevel<=ne.ERROR){const n=t.map(cg);Jo.error(`Firestore (${fu}): ${r}`,...n)}}function Qa(r,...t){if(Jo.logLevel<=ne.WARN){const n=t.map(cg);Jo.warn(`Firestore (${fu}): ${r}`,...n)}}function cg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(r,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,tw(r,a,n)}function tw(r,t,n){let a=`FIRESTORE (${fu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ns(a),new Error(a)}function me(r,t,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||tw(t,l,a)}function Gt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends Us{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ox{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(jn.UNAUTHENTICATED))}shutdown(){}}class Lx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Mx{constructor(t){this.t=t,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){me(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let h=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Os,t.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const y=h;t.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},v=y=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(y=>v(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?v(y):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Os)}},0),m()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(me(typeof a.accessToken=="string",31837,{l:a}),new ew(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return me(t===null||typeof t=="string",2055,{h:t}),new jn(t)}}class Dx{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nx{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new Dx(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kx{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){me(this.o===void 0,3512);const a=h=>{h.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,St("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>a(h))};const l=h=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new U0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new U0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Vx(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<n&&(a+=t.charAt(l[h]%62))}return a}}function Yt(r,t){return r<t?-1:r>t?1:0}function Sp(r,t){let n=0;for(;n<r.length&&n<t.length;){const a=r.codePointAt(n),l=t.codePointAt(n);if(a!==l){if(a<128&&l<128)return Yt(a,l);{const h=nw(),m=Ux(h.encode(z0(r,n)),h.encode(z0(t,n)));return m!==0?m:Yt(a,l)}}n+=a>65535?2:1}return Yt(r.length,t.length)}function z0(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function Ux(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Yt(r[n],t[n]);return Yt(r.length,t.length)}function eu(r,t,n){return r.length===t.length&&r.every((a,l)=>n(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__name__";class Gr{constructor(t,n,a){n===void 0?n=0:n>t.length&&zt(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&zt(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return Gr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Gr?t.forEach(a=>{n.push(a)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let l=0;l<a;l++){const h=Gr.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return Yt(t.length,n.length)}static compareSegments(t,n){const a=Gr.isNumericId(t),l=Gr.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Gr.extractNumericId(t).compare(Gr.extractNumericId(n)):Sp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Za.fromString(t.substring(4,t.length-2))}}class Le extends Gr{construct(t,n,a){return new Le(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new At(ut.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(l=>l.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const zx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends Gr{construct(t,n,a){return new xn(t,n,a)}static isValidIdentifier(t){return zx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new xn([B0])}static fromServerFormat(t){const n=[];let a="",l=0;const h=()=>{if(a.length===0)throw new At(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let m=!1;for(;l<t.length;){const v=t[l];if(v==="\\"){if(l+1===t.length)throw new At(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new At(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else v==="`"?(m=!m,l++):v!=="."||m?(a+=v,l++):(h(),l++)}if(h(),m)throw new At(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.path=t}static fromPath(t){return new Mt(Le.fromString(t))}static fromName(t){return new Mt(Le.fromString(t).popFirst(5))}static empty(){return new Mt(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mt(new Le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(r,t,n){if(!n)throw new At(ut.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Bx(r,t,n,a){if(t===!0&&a===!0)throw new At(ut.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function j0(r){if(!Mt.isDocumentKey(r))throw new At(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function q0(r){if(Mt.isDocumentKey(r))throw new At(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function rw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Yf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":zt(12329,{type:typeof r})}function Oi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new At(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yf(r);throw new At(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(r,t){const n={typeString:r};return t&&(n.value=t),n}function Hc(r,t){if(!rw(r))throw new At(ut.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const m=r[a];if(l&&typeof m!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&m!==h.value){n=`Expected '${a}' field to equal '${h.value}'`;break}}if(n)throw new At(ut.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=-62135596800,F0=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(t){return Me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*F0);return new Me(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new At(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new At(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<H0)throw new At(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F0}_compareTo(t){return this.seconds===t.seconds?Yt(this.nanoseconds,t.nanoseconds):Yt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hc(t,Me._jsonSchema))return new Me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-H0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Me._jsonSchemaVersion="firestore/timestamp/1.0",Me._jsonSchema={type:sn("string",Me._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static fromTimestamp(t){return new Ft(t)}static min(){return new Ft(new Me(0,0))}static max(){return new Ft(new Me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=-1;function jx(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ft.fromTimestamp(a===1e9?new Me(n+1,0):new Me(n,a));return new Ya(l,Mt.empty(),t)}function qx(r){return new Ya(r.readTime,r.key,Ic)}class Ya{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new Ya(Ft.min(),Mt.empty(),Ic)}static max(){return new Ya(Ft.max(),Mt.empty(),Ic)}}function Hx(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Mt.comparator(r.documentKey,t.documentKey),n!==0?n:Yt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(r){if(r.code!==ut.FAILED_PRECONDITION||r.message!==Fx)throw r;St("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&zt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ht((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(a,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ht?n:ht.resolve(n)}catch(n){return ht.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ht.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ht.reject(n)}static resolve(t){return new ht((n,a)=>{n(t)})}static reject(t){return new ht((n,a)=>{a(t)})}static waitFor(t){return new ht((n,a)=>{let l=0,h=0,m=!1;t.forEach(v=>{++l,v.next(()=>{++h,m&&h===l&&n()},y=>a(y))}),m=!0,h===l&&n()})}static or(t){let n=ht.resolve(!1);for(const a of t)n=n.next(l=>l?ht.resolve(l):a());return n}static forEach(t,n){const a=[];return t.forEach((l,h)=>{a.push(n.call(this,l,h))}),this.waitFor(a)}static mapArray(t,n){return new ht((a,l)=>{const h=t.length,m=new Array(h);let v=0;for(let y=0;y<h;y++){const E=y;n(t[E]).next(b=>{m[E]=b,++v,v===h&&a(m)},b=>l(b))}})}static doWhile(t,n){return new ht((a,l)=>{const h=()=>{t()===!0?n().next(()=>{h()},l):a()};h()})}}function Zx(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this._e(a),this.ae=a=>n.writeSequenceNumber(a))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Wf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=-1;function Xf(r){return r==null}function Pf(r){return r===0&&1/r==-1/0}function Kx(r){return typeof r=="number"&&Number.isInteger(r)&&!Pf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="";function Qx(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=G0(t)),t=Yx(r.get(n),t);return G0(t)}function Yx(r,t){let n=t;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":n+="";break;case sw:n+="";break;default:n+=h}}return n}function G0(r){return r+sw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function no(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function aw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t,n){this.comparator=t,this.root=n||In.EMPTY}insert(t,n){return new qe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(t){return new qe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,In.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,a)=>(t(n,a),!1))}toString(){const t=[];return this.inorderTraversal((n,a)=>(t.push(`${n}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nf(this.root,t,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nf(this.root,t,this.comparator,!0)}}class nf{constructor(t,n,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?a(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class In{constructor(t,n,a,l,h){this.key=t,this.value=n,this.color=a??In.RED,this.left=l??In.EMPTY,this.right=h??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,l,h){return new In(t??this.key,n??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,a),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return In.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw zt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw zt(27949);return t+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw zt(57766)}get value(){throw zt(16141)}get color(){throw zt(16727)}get left(){throw zt(29726)}get right(){throw zt(36894)}copy(t,n,a,l,h){return this}insert(t,n,a){return new In(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.comparator=t,this.data=new qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,a)=>(t(n),!1))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new K0(this.data.getIterator())}getIteratorFrom(t){return new K0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(a=>{n=n.add(a)}),n}isEqual(t){if(!(t instanceof hn)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new hn(this.comparator);return n.data=t,n}}class K0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this.fields=t,t.sort(xn.comparator)}static empty(){return new Pi([])}unionWith(t){let n=new hn(xn.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new Pi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return eu(this.fields,t.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new ow("Invalid base64 string: "+h):h}}(t);return new Pn(n)}static fromUint8Array(t){const n=function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(t);return new Pn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const Wx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(r){if(me(!!r,39018),typeof r=="string"){let t=0;const n=Wx.exec(r);if(me(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Xe(r.seconds),nanos:Xe(r.nanos)}}function Xe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xa(r){return typeof r=="string"?Pn.fromBase64String(r):Pn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="server_timestamp",uw="__type__",cw="__previous_value__",hw="__local_write_time__";function dg(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[uw])===null||n===void 0?void 0:n.stringValue)===lw}function Jf(r){const t=r.mapValue.fields[cw];return dg(t)?Jf(t):t}function xc(r){const t=Wa(r.mapValue.fields[hw].timestampValue);return new Me(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,n,a,l,h,m,v,y,E,b){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.longPollingOptions=y,this.useFetchStreams=E,this.isUsingEmulator=b}}const Of="(default)";class Pc{constructor(t,n){this.projectId=t,this.database=n||Of}static empty(){return new Pc("","")}get isDefaultDatabase(){return this.database===Of}isEqual(t){return t instanceof Pc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="__type__",Jx="__max__",rf={mapValue:{}},dw="__vector__",Lf="value";function Ja(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dg(r)?4:tP(r)?9007199254740991:$x(r)?10:11:zt(28295,{value:r})}function Jr(r,t){if(r===t)return!0;const n=Ja(r);if(n!==Ja(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return xc(r).isEqual(xc(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=Wa(l.timestampValue),v=Wa(h.timestampValue);return m.seconds===v.seconds&&m.nanos===v.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,h){return Xa(l.bytesValue).isEqual(Xa(h.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,h){return Xe(l.geoPointValue.latitude)===Xe(h.geoPointValue.latitude)&&Xe(l.geoPointValue.longitude)===Xe(h.geoPointValue.longitude)}(r,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return Xe(l.integerValue)===Xe(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=Xe(l.doubleValue),v=Xe(h.doubleValue);return m===v?Pf(m)===Pf(v):isNaN(m)&&isNaN(v)}return!1}(r,t);case 9:return eu(r.arrayValue.values||[],t.arrayValue.values||[],Jr);case 10:case 11:return function(l,h){const m=l.mapValue.fields||{},v=h.mapValue.fields||{};if(Z0(m)!==Z0(v))return!1;for(const y in m)if(m.hasOwnProperty(y)&&(v[y]===void 0||!Jr(m[y],v[y])))return!1;return!0}(r,t);default:return zt(52216,{left:r})}}function Oc(r,t){return(r.values||[]).find(n=>Jr(n,t))!==void 0}function nu(r,t){if(r===t)return 0;const n=Ja(r),a=Ja(t);if(n!==a)return Yt(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yt(r.booleanValue,t.booleanValue);case 2:return function(h,m){const v=Xe(h.integerValue||h.doubleValue),y=Xe(m.integerValue||m.doubleValue);return v<y?-1:v>y?1:v===y?0:isNaN(v)?isNaN(y)?0:-1:1}(r,t);case 3:return Q0(r.timestampValue,t.timestampValue);case 4:return Q0(xc(r),xc(t));case 5:return Sp(r.stringValue,t.stringValue);case 6:return function(h,m){const v=Xa(h),y=Xa(m);return v.compareTo(y)}(r.bytesValue,t.bytesValue);case 7:return function(h,m){const v=h.split("/"),y=m.split("/");for(let E=0;E<v.length&&E<y.length;E++){const b=Yt(v[E],y[E]);if(b!==0)return b}return Yt(v.length,y.length)}(r.referenceValue,t.referenceValue);case 8:return function(h,m){const v=Yt(Xe(h.latitude),Xe(m.latitude));return v!==0?v:Yt(Xe(h.longitude),Xe(m.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Y0(r.arrayValue,t.arrayValue);case 10:return function(h,m){var v,y,E,b;const I=h.fields||{},x=m.fields||{},B=(v=I[Lf])===null||v===void 0?void 0:v.arrayValue,F=(y=x[Lf])===null||y===void 0?void 0:y.arrayValue,X=Yt(((E=B==null?void 0:B.values)===null||E===void 0?void 0:E.length)||0,((b=F==null?void 0:F.values)===null||b===void 0?void 0:b.length)||0);return X!==0?X:Y0(B,F)}(r.mapValue,t.mapValue);case 11:return function(h,m){if(h===rf.mapValue&&m===rf.mapValue)return 0;if(h===rf.mapValue)return 1;if(m===rf.mapValue)return-1;const v=h.fields||{},y=Object.keys(v),E=m.fields||{},b=Object.keys(E);y.sort(),b.sort();for(let I=0;I<y.length&&I<b.length;++I){const x=Sp(y[I],b[I]);if(x!==0)return x;const B=nu(v[y[I]],E[b[I]]);if(B!==0)return B}return Yt(y.length,b.length)}(r.mapValue,t.mapValue);default:throw zt(23264,{le:n})}}function Q0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Yt(r,t);const n=Wa(r),a=Wa(t),l=Yt(n.seconds,a.seconds);return l!==0?l:Yt(n.nanos,a.nanos)}function Y0(r,t){const n=r.values||[],a=t.values||[];for(let l=0;l<n.length&&l<a.length;++l){const h=nu(n[l],a[l]);if(h)return h}return Yt(n.length,a.length)}function iu(r){return bp(r)}function bp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=Wa(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Xa(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Mt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",l=!0;for(const h of n.values||[])l?l=!1:a+=",",a+=bp(h);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const m of a)h?h=!1:l+=",",l+=`${m}:${bp(n.fields[m])}`;return l+"}"}(r.mapValue):zt(61005,{value:r})}function mf(r){switch(Ja(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jf(r);return t?16+mf(t):16;case 5:return 2*r.stringValue.length;case 6:return Xa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,h)=>l+mf(h),0)}(r.arrayValue);case 10:case 11:return function(a){let l=0;return no(a.fields,(h,m)=>{l+=h.length+mf(m)}),l}(r.mapValue);default:throw zt(13486,{value:r})}}function W0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Rp(r){return!!r&&"integerValue"in r}function mg(r){return!!r&&"arrayValue"in r}function X0(r){return!!r&&"nullValue"in r}function J0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function pf(r){return!!r&&"mapValue"in r}function $x(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[fw])===null||n===void 0?void 0:n.stringValue)===dw}function vc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return no(r.mapValue.fields,(n,a)=>t.mapValue.fields[n]=vc(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vc(r.arrayValue.values[n]);return t}return Object.assign({},r)}function tP(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Jx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this.value=t}static empty(){return new ai({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!pf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vc(n)}setAll(t){let n=xn.emptyPath(),a={},l=[];t.forEach((m,v)=>{if(!n.isImmediateParentOf(v)){const y=this.getFieldsMap(n);this.applyChanges(y,a,l),a={},l=[],n=v.popLast()}m?a[v.lastSegment()]=vc(m):l.push(v.lastSegment())});const h=this.getFieldsMap(n);this.applyChanges(h,a,l)}delete(t){const n=this.field(t.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Jr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=n.mapValue.fields[t.get(a)];pf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,a){no(n,(l,h)=>t[l]=h);for(const l of a)delete t[l]}clone(){return new ai(vc(this.value))}}function mw(r){const t=[];return no(r.fields,(n,a)=>{const l=new xn([n]);if(pf(a)){const h=mw(a.mapValue).fields;if(h.length===0)t.push(l);else for(const m of h)t.push(l.child(m))}else t.push(l)}),new Pi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,n,a,l,h,m,v){this.key=t,this.documentType=n,this.version=a,this.readTime=l,this.createTime=h,this.data=m,this.documentState=v}static newInvalidDocument(t){return new qn(t,0,Ft.min(),Ft.min(),Ft.min(),ai.empty(),0)}static newFoundDocument(t,n,a,l){return new qn(t,1,n,Ft.min(),a,l,0)}static newNoDocument(t,n){return new qn(t,2,n,Ft.min(),Ft.min(),ai.empty(),0)}static newUnknownDocument(t,n){return new qn(t,3,n,Ft.min(),Ft.min(),ai.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof qn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(t,n){this.position=t,this.inclusive=n}}function $0(r,t,n){let a=0;for(let l=0;l<r.position.length;l++){const h=t[l],m=r.position[l];if(h.field.isKeyField()?a=Mt.comparator(Mt.fromName(m.referenceValue),n.key):a=nu(m,n.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function tE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Jr(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,n="asc"){this.field=t,this.dir=n}}function eP(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{}class rn extends pw{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new iP(t,n,a):n==="array-contains"?new aP(t,a):n==="in"?new oP(t,a):n==="not-in"?new lP(t,a):n==="array-contains-any"?new uP(t,a):new rn(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new rP(t,a):new sP(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nu(n,this.value)):n!==null&&Ja(this.value)===Ja(n)&&this.matchesComparison(nu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return zt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends pw{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new Sr(t,n)}matches(t){return gw(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function gw(r){return r.op==="and"}function _w(r){return nP(r)&&gw(r)}function nP(r){for(const t of r.filters)if(t instanceof Sr)return!1;return!0}function Cp(r){if(r instanceof rn)return r.field.canonicalString()+r.op.toString()+iu(r.value);if(_w(r))return r.filters.map(t=>Cp(t)).join(",");{const t=r.filters.map(n=>Cp(n)).join(",");return`${r.op}(${t})`}}function vw(r,t){return r instanceof rn?function(a,l){return l instanceof rn&&a.op===l.op&&a.field.isEqual(l.field)&&Jr(a.value,l.value)}(r,t):r instanceof Sr?function(a,l){return l instanceof Sr&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((h,m,v)=>h&&vw(m,l.filters[v]),!0):!1}(r,t):void zt(19439)}function yw(r){return r instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${iu(n.value)}`}(r):r instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(yw).join(" ,")+"}"}(r):"Filter"}class iP extends rn{constructor(t,n,a){super(t,n,a),this.key=Mt.fromName(a.referenceValue)}matches(t){const n=Mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class rP extends rn{constructor(t,n){super(t,"in",n),this.keys=Ew("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class sP extends rn{constructor(t,n){super(t,"not-in",n),this.keys=Ew("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Ew(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Mt.fromName(a.referenceValue))}class aP extends rn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return mg(n)&&Oc(n.arrayValue,this.value)}}class oP extends rn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Oc(this.value.arrayValue,n)}}class lP extends rn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Oc(this.value.arrayValue,n)}}class uP extends rn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Oc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(t,n=null,a=[],l=[],h=null,m=null,v=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=m,this.endAt=v,this.Pe=null}}function eE(r,t=null,n=[],a=[],l=null,h=null,m=null){return new cP(r,t,n,a,l,h,m)}function pg(r){const t=Gt(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(a=>Cp(a)).join(","),n+="|ob:",n+=t.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Xf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>iu(a)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>iu(a)).join(",")),t.Pe=n}return t.Pe}function gg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!eP(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!vw(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!tE(r.startAt,t.startAt)&&tE(r.endAt,t.endAt)}function Ip(r){return Mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,n=null,a=[],l=[],h=null,m="F",v=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=m,this.startAt=v,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function hP(r,t,n,a,l,h,m,v){return new pu(r,t,n,a,l,h,m,v)}function $f(r){return new pu(r)}function nE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Tw(r){return r.collectionGroup!==null}function yc(r){const t=Gt(r);if(t.Te===null){t.Te=[];const n=new Set;for(const h of t.explicitOrderBy)t.Te.push(h),n.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let v=new hn(xn.comparator);return m.filters.forEach(y=>{y.getFlattenedFilters().forEach(E=>{E.isInequality()&&(v=v.add(E.field))})}),v})(t).forEach(h=>{n.has(h.canonicalString())||h.isKeyField()||t.Te.push(new Lc(h,a))}),n.has(xn.keyField().canonicalString())||t.Te.push(new Lc(xn.keyField(),a))}return t.Te}function Qr(r){const t=Gt(r);return t.Ie||(t.Ie=fP(t,yc(r))),t.Ie}function fP(r,t){if(r.limitType==="F")return eE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new Lc(l.field,h)});const n=r.endAt?new Mf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Mf(r.startAt.position,r.startAt.inclusive):null;return eE(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function xp(r,t){const n=r.filters.concat([t]);return new pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Df(r,t,n){return new pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function td(r,t){return gg(Qr(r),Qr(t))&&r.limitType===t.limitType}function ww(r){return`${pg(Qr(r))}|lt:${r.limitType}`}function Gl(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(l=>yw(l)).join(", ")}]`),Xf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(l=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(l)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(l=>iu(l)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(l=>iu(l)).join(",")),`Target(${a})`}(Qr(r))}; limitType=${r.limitType})`}function ed(r,t){return t.isFoundDocument()&&function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Mt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(r,t)&&function(a,l){for(const h of yc(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(r,t)&&function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0}(r,t)&&function(a,l){return!(a.startAt&&!function(m,v,y){const E=$0(m,v,y);return m.inclusive?E<=0:E<0}(a.startAt,yc(a),l)||a.endAt&&!function(m,v,y){const E=$0(m,v,y);return m.inclusive?E>=0:E>0}(a.endAt,yc(a),l))}(r,t)}function dP(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Aw(r){return(t,n)=>{let a=!1;for(const l of yc(r)){const h=mP(l,t,n);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function mP(r,t,n){const a=r.field.isKeyField()?Mt.comparator(t.key,n.key):function(h,m,v){const y=m.data.field(h),E=v.data.field(h);return y!==null&&E!==null?nu(y,E):zt(42886)}(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return zt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){no(this.inner,(n,a)=>{for(const[l,h]of a)t(l,h)})}isEmpty(){return aw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new qe(Mt.comparator);function ks(){return pP}const Sw=new qe(Mt.comparator);function fc(...r){let t=Sw;for(const n of r)t=t.insert(n.key,n);return t}function bw(r){let t=Sw;return r.forEach((n,a)=>t=t.insert(n,a.overlayedDocument)),t}function Go(){return Ec()}function Rw(){return Ec()}function Ec(){return new el(r=>r.toString(),(r,t)=>r.isEqual(t))}const gP=new qe(Mt.comparator),_P=new hn(Mt.comparator);function ie(...r){let t=_P;for(const n of r)t=t.add(n);return t}const vP=new hn(Yt);function yP(){return vP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(t)?"-0":t}}function Cw(r){return{integerValue:""+r}}function EP(r,t){return Kx(t)?Cw(t):_g(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this._=void 0}}function TP(r,t,n){return r instanceof Nf?function(l,h){const m={fields:{[uw]:{stringValue:lw},[hw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&dg(h)&&(h=Jf(h)),h&&(m.fields[cw]=h),{mapValue:m}}(n,t):r instanceof Mc?xw(r,t):r instanceof Dc?Pw(r,t):function(l,h){const m=Iw(l,h),v=iE(m)+iE(l.Ee);return Rp(m)&&Rp(l.Ee)?Cw(v):_g(l.serializer,v)}(r,t)}function wP(r,t,n){return r instanceof Mc?xw(r,t):r instanceof Dc?Pw(r,t):n}function Iw(r,t){return r instanceof kf?function(a){return Rp(a)||function(h){return!!h&&"doubleValue"in h}(a)}(t)?t:{integerValue:0}:null}class Nf extends nd{}class Mc extends nd{constructor(t){super(),this.elements=t}}function xw(r,t){const n=Ow(t);for(const a of r.elements)n.some(l=>Jr(l,a))||n.push(a);return{arrayValue:{values:n}}}class Dc extends nd{constructor(t){super(),this.elements=t}}function Pw(r,t){let n=Ow(t);for(const a of r.elements)n=n.filter(l=>!Jr(l,a));return{arrayValue:{values:n}}}class kf extends nd{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function iE(r){return Xe(r.integerValue||r.doubleValue)}function Ow(r){return mg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function AP(r,t){return r.field.isEqual(t.field)&&function(a,l){return a instanceof Mc&&l instanceof Mc||a instanceof Dc&&l instanceof Dc?eu(a.elements,l.elements,Jr):a instanceof kf&&l instanceof kf?Jr(a.Ee,l.Ee):a instanceof Nf&&l instanceof Nf}(r.transform,t.transform)}class SP{constructor(t,n){this.version=t,this.transformResults=n}}class wr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new wr}static exists(t){return new wr(void 0,t)}static updateTime(t){return new wr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gf(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class id{}function Lw(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Dw(r.key,wr.none()):new Fc(r.key,r.data,wr.none());{const n=r.data,a=ai.empty();let l=new hn(xn.comparator);for(let h of t.fields)if(!l.has(h)){let m=n.field(h);m===null&&h.length>1&&(h=h.popLast(),m=n.field(h)),m===null?a.delete(h):a.set(h,m),l=l.add(h)}return new io(r.key,a,new Pi(l.toArray()),wr.none())}}function bP(r,t,n){r instanceof Fc?function(l,h,m){const v=l.value.clone(),y=sE(l.fieldTransforms,h,m.transformResults);v.setAll(y),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()}(r,t,n):r instanceof io?function(l,h,m){if(!gf(l.precondition,h))return void h.convertToUnknownDocument(m.version);const v=sE(l.fieldTransforms,h,m.transformResults),y=h.data;y.setAll(Mw(l)),y.setAll(v),h.convertToFoundDocument(m.version,y).setHasCommittedMutations()}(r,t,n):function(l,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()}(0,t,n)}function Tc(r,t,n,a){return r instanceof Fc?function(h,m,v,y){if(!gf(h.precondition,m))return v;const E=h.value.clone(),b=aE(h.fieldTransforms,y,m);return E.setAll(b),m.convertToFoundDocument(m.version,E).setHasLocalMutations(),null}(r,t,n,a):r instanceof io?function(h,m,v,y){if(!gf(h.precondition,m))return v;const E=aE(h.fieldTransforms,y,m),b=m.data;return b.setAll(Mw(h)),b.setAll(E),m.convertToFoundDocument(m.version,b).setHasLocalMutations(),v===null?null:v.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(r,t,n,a):function(h,m,v){return gf(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):v}(r,t,n)}function RP(r,t){let n=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),h=Iw(a.transform,l||null);h!=null&&(n===null&&(n=ai.empty()),n.set(a.field,h))}return n||null}function rE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&eu(a,l,(h,m)=>AP(h,m))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fc extends id{constructor(t,n,a,l=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class io extends id{constructor(t,n,a,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Mw(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}}),t}function sE(r,t,n){const a=new Map;me(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let l=0;l<n.length;l++){const h=r[l],m=h.transform,v=t.data.field(h.field);a.set(h.field,wP(m,v,n[l]))}return a}function aE(r,t,n){const a=new Map;for(const l of r){const h=l.transform,m=n.data.field(l.field);a.set(l.field,TP(h,m,t))}return a}class Dw extends id{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CP extends id{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(t,n,a,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&bP(h,t,a[l])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=Tc(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=Tc(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=Rw();return this.mutations.forEach(l=>{const h=t.get(l.key),m=h.overlayedDocument;let v=this.applyToLocalView(m,h.mutatedFields);v=n.has(l.key)?null:v;const y=Lw(m,v);y!==null&&a.set(l.key,y),m.isValidDocument()||m.convertToNoDocument(Ft.min())}),a}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ie())}isEqual(t){return this.batchId===t.batchId&&eu(this.mutations,t.mutations,(n,a)=>rE(n,a))&&eu(this.baseMutations,t.baseMutations,(n,a)=>rE(n,a))}}class vg{constructor(t,n,a,l){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(t,n,a){me(t.mutations.length===a.length,58842,{Ve:t.mutations.length,me:a.length});let l=function(){return gP}();const h=t.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,a[m].version);return new vg(t,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,le;function OP(r){switch(r){case ut.OK:return zt(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return zt(15467,{code:r})}}function Nw(r){if(r===void 0)return Ns("GRPC error has no .code"),ut.UNKNOWN;switch(r){case nn.OK:return ut.OK;case nn.CANCELLED:return ut.CANCELLED;case nn.UNKNOWN:return ut.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ut.INTERNAL;case nn.UNAVAILABLE:return ut.UNAVAILABLE;case nn.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case nn.NOT_FOUND:return ut.NOT_FOUND;case nn.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case nn.ABORTED:return ut.ABORTED;case nn.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case nn.DATA_LOSS:return ut.DATA_LOSS;default:return zt(39323,{code:r})}}(le=nn||(nn={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new Za([4294967295,4294967295],0);function oE(r){const t=nw().encode(r),n=new QT;return n.update(t),new Uint8Array(n.digest())}function lE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Za([n,a],0),new Za([l,h],0)]}class yg{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new dc(`Invalid padding: ${n}`);if(a<0)throw new dc(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new dc(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new dc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Za.fromNumber(this.fe)}pe(t,n,a){let l=t.add(n.multiply(Za.fromNumber(a)));return l.compare(LP)===1&&(l=new Za([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=oE(t),[a,l]=lE(n);for(let h=0;h<this.hashCount;h++){const m=this.pe(a,l,h);if(!this.ye(m))return!1}return!0}static create(t,n,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),m=new yg(h,l,n);return a.forEach(v=>m.insert(v)),m}insert(t){if(this.fe===0)return;const n=oE(t),[a,l]=lE(n);for(let h=0;h<this.hashCount;h++){const m=this.pe(a,l,h);this.we(m)}}we(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t,n,a,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const l=new Map;return l.set(t,Gc.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new rd(Ft.min(),l,new qe(Yt),ks(),ie())}}class Gc{constructor(t,n,a,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Gc(a,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n,a,l){this.Se=t,this.removedTargetIds=n,this.key=a,this.be=l}}class kw{constructor(t,n){this.targetId=t,this.De=n}}class Vw{constructor(t,n,a=Pn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=l}}class uE{constructor(){this.ve=0,this.Ce=cE(),this.Fe=Pn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=ie(),n=ie(),a=ie();return this.Ce.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:zt(38017,{changeType:h})}}),new Gc(this.Fe,this.Me,t,n,a)}ke(){this.xe=!1,this.Ce=cE()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class MP{constructor(t){this.We=t,this.Ge=new Map,this.ze=ks(),this.je=sf(),this.Je=sf(),this.He=new qe(Yt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const a=this.tt(n);switch(t.state){case 0:this.nt(n)&&a.Be(t.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(t.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(a.Ke(),a.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),a.Be(t.resumeToken));break;default:zt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((a,l)=>{this.nt(l)&&n(l)})}it(t){const n=t.targetId,a=t.De.count,l=this.st(n);if(l){const h=l.target;if(Ip(h))if(a===0){const m=new Mt(h.path);this.Xe(n,m,qn.newNoDocument(m,Ft.min()))}else me(a===1,20013,{expectedCount:a});else{const m=this.ot(n);if(m!==a){const v=this._t(t),y=v?this.ut(v,t,m):1;if(y!==0){this.rt(n);const E=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,E)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=n;let m,v;try{m=Xa(a).toUint8Array()}catch(y){if(y instanceof ow)return Qa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{v=new yg(m,l,h)}catch(y){return Qa(y instanceof dc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return v.fe===0?null:v}ut(t,n,a){return n.De.count===a-this.ht(t,n.targetId)?0:2}ht(t,n){const a=this.We.getRemoteKeysForTarget(n);let l=0;return a.forEach(h=>{const m=this.We.lt(),v=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;t.mightContain(v)||(this.Xe(n,h,null),l++)}),l}Pt(t){const n=new Map;this.Ge.forEach((h,m)=>{const v=this.st(m);if(v){if(h.current&&Ip(v.target)){const y=new Mt(v.target.path);this.Tt(y).has(m)||this.It(m,y)||this.Xe(m,y,qn.newNoDocument(y,t))}h.Ne&&(n.set(m,h.Le()),h.ke())}});let a=ie();this.Je.forEach((h,m)=>{let v=!0;m.forEachWhile(y=>{const E=this.st(y);return!E||E.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)}),v&&(a=a.add(h))}),this.ze.forEach((h,m)=>m.setReadTime(t));const l=new rd(t,n,this.He,this.ze,a);return this.ze=ks(),this.je=sf(),this.Je=sf(),this.He=new qe(Yt),l}Ze(t,n){if(!this.nt(t))return;const a=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,a),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,a){if(!this.nt(t))return;const l=this.tt(t);this.It(t,n)?l.qe(n,1):l.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),a&&(this.ze=this.ze.insert(n,a))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new uE,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new hn(Yt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new hn(Yt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||St("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new uE),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function sf(){return new qe(Mt.comparator)}function cE(){return new qe(Mt.comparator)}const DP={asc:"ASCENDING",desc:"DESCENDING"},NP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kP={and:"AND",or:"OR"};class VP{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Pp(r,t){return r.useProto3Json||Xf(t)?t:{value:t}}function Vf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Uw(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function UP(r,t){return Vf(r,t.toTimestamp())}function Yr(r){return me(!!r,49232),Ft.fromTimestamp(function(n){const a=Wa(n);return new Me(a.seconds,a.nanos)}(r))}function Eg(r,t){return Op(r,t).canonicalString()}function Op(r,t){const n=function(l){return new Le(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function zw(r){const t=Le.fromString(r);return me(Fw(t),10190,{key:t.toString()}),t}function Lp(r,t){return Eg(r.databaseId,t.path)}function lp(r,t){const n=zw(t);if(n.get(1)!==r.databaseId.projectId)throw new At(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new At(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Mt(jw(n))}function Bw(r,t){return Eg(r.databaseId,t)}function zP(r){const t=zw(r);return t.length===4?Le.emptyPath():jw(t)}function Mp(r){return new Le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function jw(r){return me(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function hE(r,t,n){return{name:Lp(r,t),fields:n.value.mapValue.fields}}function BP(r,t){let n;if("targetChange"in t){t.targetChange;const a=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:zt(39313,{state:E})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(E,b){return E.useProto3Json?(me(b===void 0||typeof b=="string",58123),Pn.fromBase64String(b||"")):(me(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Pn.fromUint8Array(b||new Uint8Array))}(r,t.targetChange.resumeToken),m=t.targetChange.cause,v=m&&function(E){const b=E.code===void 0?ut.UNKNOWN:Nw(E.code);return new At(b,E.message||"")}(m);n=new Vw(a,l,h,v||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=lp(r,a.document.name),h=Yr(a.document.updateTime),m=a.document.createTime?Yr(a.document.createTime):Ft.min(),v=new ai({mapValue:{fields:a.document.fields}}),y=qn.newFoundDocument(l,h,m,v),E=a.targetIds||[],b=a.removedTargetIds||[];n=new _f(E,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=lp(r,a.document),h=a.readTime?Yr(a.readTime):Ft.min(),m=qn.newNoDocument(l,h),v=a.removedTargetIds||[];n=new _f([],v,m.key,m)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=lp(r,a.document),h=a.removedTargetIds||[];n=new _f([],h,l,null)}else{if(!("filter"in t))return zt(11601,{At:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,m=new PP(l,h),v=a.targetId;n=new kw(v,m)}}return n}function jP(r,t){let n;if(t instanceof Fc)n={update:hE(r,t.key,t.value)};else if(t instanceof Dw)n={delete:Lp(r,t.key)};else if(t instanceof io)n={update:hE(r,t.key,t.data),updateMask:WP(t.fieldMask)};else{if(!(t instanceof CP))return zt(16599,{Rt:t.type});n={verify:Lp(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(a=>function(h,m){const v=m.transform;if(v instanceof Nf)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Mc)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Dc)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof kf)return{fieldPath:m.field.canonicalString(),increment:v.Ee};throw zt(20930,{transform:m.transform})}(0,a))),t.precondition.isNone||(n.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:UP(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:zt(27497)}(r,t.precondition)),n}function qP(r,t){return r&&r.length>0?(me(t!==void 0,14353),r.map(n=>function(l,h){let m=l.updateTime?Yr(l.updateTime):Yr(h);return m.isEqual(Ft.min())&&(m=Yr(h)),new SP(m,l.transformResults||[])}(n,t))):[]}function HP(r,t){return{documents:[Bw(r,t.path)]}}function FP(r,t){const n={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=Bw(r,l);const h=function(E){if(E.length!==0)return Hw(Sr.create(E,"and"))}(t.filters);h&&(n.structuredQuery.where=h);const m=function(E){if(E.length!==0)return E.map(b=>function(x){return{field:Zl(x.field),direction:KP(x.dir)}}(b))}(t.orderBy);m&&(n.structuredQuery.orderBy=m);const v=Pp(r,t.limit);return v!==null&&(n.structuredQuery.limit=v),t.startAt&&(n.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(t.endAt)),{Vt:n,parent:l}}function GP(r){let t=zP(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){me(a===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let h=[];n.where&&(h=function(I){const x=qw(I);return x instanceof Sr&&_w(x)?x.getFilters():[x]}(n.where));let m=[];n.orderBy&&(m=function(I){return I.map(x=>function(F){return new Lc(Kl(F.field),function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(x))}(n.orderBy));let v=null;n.limit&&(v=function(I){let x;return x=typeof I=="object"?I.value:I,Xf(x)?null:x}(n.limit));let y=null;n.startAt&&(y=function(I){const x=!!I.before,B=I.values||[];return new Mf(B,x)}(n.startAt));let E=null;return n.endAt&&(E=function(I){const x=!I.before,B=I.values||[];return new Mf(B,x)}(n.endAt)),hP(t,l,m,h,v,"F",y,E)}function ZP(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function qw(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Kl(n.unaryFilter.field);return rn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Kl(n.unaryFilter.field);return rn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Kl(n.unaryFilter.field);return rn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Kl(n.unaryFilter.field);return rn.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return zt(61313);default:return zt(60726)}}(r):r.fieldFilter!==void 0?function(n){return rn.create(Kl(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return zt(58110);default:return zt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Sr.create(n.compositeFilter.filters.map(a=>qw(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return zt(1026)}}(n.compositeFilter.op))}(r):zt(30097,{filter:r})}function KP(r){return DP[r]}function QP(r){return NP[r]}function YP(r){return kP[r]}function Zl(r){return{fieldPath:r.canonicalString()}}function Kl(r){return xn.fromServerFormat(r.fieldPath)}function Hw(r){return r instanceof rn?function(n){if(n.op==="=="){if(J0(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NAN"}};if(X0(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J0(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NAN"}};if(X0(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(n.field),op:QP(n.op),value:n.value}}}(r):r instanceof Sr?function(n){const a=n.getFilters().map(l=>Hw(l));return a.length===1?a[0]:{compositeFilter:{op:YP(n.op),filters:a}}}(r):zt(54877,{filter:r})}function WP(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Fw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t,n,a,l,h=Ft.min(),m=Ft.min(),v=Pn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=v,this.expectedCount=y}withSequenceNumber(t){return new ja(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(t){this.gt=t}}function JP(r){const t=GP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Df(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.Dn=new tO}addToCollectionParentIndex(t,n){return this.Dn.add(n),ht.resolve()}getCollectionParents(t,n){return ht.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return ht.resolve()}deleteFieldIndex(t,n){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,n){return ht.resolve()}getDocumentsMatchingTarget(t,n){return ht.resolve(null)}getIndexType(t,n){return ht.resolve(0)}getFieldIndexes(t,n){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,n){return ht.resolve(Ya.min())}getMinOffsetFromCollectionGroup(t,n){return ht.resolve(Ya.min())}updateCollectionGroup(t,n,a){return ht.resolve()}updateIndexEntries(t,n){return ht.resolve()}}class tO{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n]||new hn(Le.comparator),h=!l.has(a);return this.index[n]=l.add(a),h}has(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(t){return(this.index[t]||new hn(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gw=41943040;class si{static withCacheSize(t){return new si(t,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si.DEFAULT_COLLECTION_PERCENTILE=10,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,si.DEFAULT=new si(Gw,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),si.DISABLED=new si(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new ru(0)}static ur(){return new ru(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="LruGarbageCollector",eO=1048576;function mE([r,t],[n,a]){const l=Yt(r,n);return l===0?Yt(t,a):l}class nO{constructor(t){this.Tr=t,this.buffer=new hn(mE),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();mE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iO{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){St(dE,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mu(n)?St(dE,"Ignoring IndexedDB error during garbage collection: ",n):await du(n)}await this.Rr(3e5)})}}class rO{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(a=>Math.floor(n/100*a))}nthSequenceNumber(t,n){if(n===0)return ht.resolve(Wf.ue);const a=new nO(n);return this.Vr.forEachTarget(t,l=>a.Er(l.sequenceNumber)).next(()=>this.Vr.gr(t,l=>a.Er(l))).next(()=>a.maxValue)}removeTargets(t,n,a){return this.Vr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(fE)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fE):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let a,l,h,m,v,y,E;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,m=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(a=I,v=Date.now(),this.removeTargets(t,a,n))).next(I=>(h=I,y=Date.now(),this.removeOrphanedDocuments(t,a))).next(I=>(E=Date.now(),Fl()<=ne.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-b}ms
	Determined least recently used ${l} in `+(v-m)+`ms
	Removed ${h} targets in `+(y-v)+`ms
	Removed ${I} documents in `+(E-y)+`ms
Total Duration: ${E-b}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:I})))}}function sO(r,t){return new rO(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.changes=new el(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,qn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ht.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(t,n,a,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(a!==null&&Tc(a.mutation,l,Pi.empty(),Me.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.getLocalViewOfDocuments(t,a,ie()).next(()=>a))}getLocalViewOfDocuments(t,n,a=ie()){const l=Go();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,a).next(h=>{let m=fc();return h.forEach((v,y)=>{m=m.insert(v,y.overlayedDocument)}),m}))}getOverlayedDocuments(t,n){const a=Go();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,ie()))}populateOverlays(t,n,a){const l=[];return a.forEach(h=>{n.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((m,v)=>{n.set(m,v)})})}computeViews(t,n,a,l){let h=ks();const m=Ec(),v=function(){return Ec()}();return n.forEach((y,E)=>{const b=a.get(E.key);l.has(E.key)&&(b===void 0||b.mutation instanceof io)?h=h.insert(E.key,E):b!==void 0?(m.set(E.key,b.mutation.getFieldMask()),Tc(b.mutation,E,b.mutation.getFieldMask(),Me.now())):m.set(E.key,Pi.empty())}),this.recalculateAndSaveOverlays(t,h).next(y=>(y.forEach((E,b)=>m.set(E,b)),n.forEach((E,b)=>{var I;return v.set(E,new oO(b,(I=m.get(E))!==null&&I!==void 0?I:null))}),v))}recalculateAndSaveOverlays(t,n){const a=Ec();let l=new qe((m,v)=>m-v),h=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(m=>{for(const v of m)v.keys().forEach(y=>{const E=n.get(y);if(E===null)return;let b=a.get(y)||Pi.empty();b=v.applyToLocalView(E,b),a.set(y,b);const I=(l.get(v.batchId)||ie()).add(y);l=l.insert(v.batchId,I)})}).next(()=>{const m=[],v=l.getReverseIterator();for(;v.hasNext();){const y=v.getNext(),E=y.key,b=y.value,I=Rw();b.forEach(x=>{if(!h.has(x)){const B=Lw(n.get(x),a.get(x));B!==null&&I.set(x,B),h=h.add(x)}}),m.push(this.documentOverlayCache.saveOverlays(t,E,I))}return ht.waitFor(m)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,n,a,l){return function(m){return Mt.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Tw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,l):this.getDocumentsMatchingCollectionQuery(t,n,a,l)}getNextDocuments(t,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,l).next(h=>{const m=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,l-h.size):ht.resolve(Go());let v=Ic,y=h;return m.next(E=>ht.forEach(E,(b,I)=>(v<I.largestBatchId&&(v=I.largestBatchId),h.get(b)?ht.resolve():this.remoteDocumentCache.getEntry(t,b).next(x=>{y=y.insert(b,x)}))).next(()=>this.populateOverlays(t,E,h)).next(()=>this.computeViews(t,y,E,ie())).next(b=>({batchId:v,changes:bw(b)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Mt(n)).next(a=>{let l=fc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,a,l){const h=n.collectionGroup;let m=fc();return this.indexManager.getCollectionParents(t,h).next(v=>ht.forEach(v,y=>{const E=function(I,x){return new pu(x,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,E,a,l).next(b=>{b.forEach((I,x)=>{m=m.insert(I,x)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(t,n,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,h,l))).next(m=>{h.forEach((y,E)=>{const b=E.getKey();m.get(b)===null&&(m=m.insert(b,qn.newInvalidDocument(b)))});let v=fc();return m.forEach((y,E)=>{const b=h.get(y);b!==void 0&&Tc(b.mutation,E,Pi.empty(),Me.now()),ed(n,E)&&(v=v.insert(y,E))}),v})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return ht.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Yr(l.createTime)}}(n)),ht.resolve()}getNamedQuery(t,n){return ht.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(l){return{name:l.name,query:JP(l.bundledQuery),readTime:Yr(l.readTime)}}(n)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.overlays=new qe(Mt.comparator),this.kr=new Map}getOverlay(t,n){return ht.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Go();return ht.forEach(n,l=>this.getOverlay(t,l).next(h=>{h!==null&&a.set(l,h)})).next(()=>a)}saveOverlays(t,n,a){return a.forEach((l,h)=>{this.wt(t,n,h)}),ht.resolve()}removeOverlaysForBatchId(t,n,a){const l=this.kr.get(a);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.kr.delete(a)),ht.resolve()}getOverlaysForCollection(t,n,a){const l=Go(),h=n.length+1,m=new Mt(n.child("")),v=this.overlays.getIteratorFrom(m);for(;v.hasNext();){const y=v.getNext().value,E=y.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===h&&y.largestBatchId>a&&l.set(y.getKey(),y)}return ht.resolve(l)}getOverlaysForCollectionGroup(t,n,a,l){let h=new qe((E,b)=>E-b);const m=this.overlays.getIterator();for(;m.hasNext();){const E=m.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>a){let b=h.get(E.largestBatchId);b===null&&(b=Go(),h=h.insert(E.largestBatchId,b)),b.set(E.getKey(),E)}}const v=Go(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,b)=>v.set(E,b)),!(v.size()>=l)););return ht.resolve(v)}wt(t,n,a){const l=this.overlays.get(a.key);if(l!==null){const m=this.kr.get(l.largestBatchId).delete(a.key);this.kr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(a.key,new xP(n,a));let h=this.kr.get(n);h===void 0&&(h=ie(),this.kr.set(n,h)),this.kr.set(n,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.qr=new hn(Tn.Qr),this.$r=new hn(Tn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const a=new Tn(t,n);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(t,n){t.forEach(a=>this.addReference(a,n))}removeReference(t,n){this.Wr(new Tn(t,n))}Gr(t,n){t.forEach(a=>this.removeReference(a,n))}zr(t){const n=new Mt(new Le([])),a=new Tn(n,t),l=new Tn(n,t+1),h=[];return this.$r.forEachInRange([a,l],m=>{this.Wr(m),h.push(m.key)}),h}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new Mt(new Le([])),a=new Tn(n,t),l=new Tn(n,t+1);let h=ie();return this.$r.forEachInRange([a,l],m=>{h=h.add(m.key)}),h}containsKey(t){const n=new Tn(t,0),a=this.qr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class Tn{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return Mt.comparator(t.key,n.key)||Yt(t.Hr,n.Hr)}static Ur(t,n){return Yt(t.Hr,n.Hr)||Mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new hn(Tn.Qr)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,l){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new IP(h,n,a,l);this.mutationQueue.push(m);for(const v of l)this.Yr=this.Yr.add(new Tn(v.key,h)),this.indexManager.addToCollectionParentIndex(t,v.key.path.popLast());return ht.resolve(m)}lookupMutationBatch(t,n){return ht.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,l=this.Xr(a),h=l<0?0:l;return ht.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?fg:this.er-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new Tn(n,0),l=new Tn(n,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([a,l],m=>{const v=this.Zr(m.Hr);h.push(v)}),ht.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new hn(Yt);return n.forEach(l=>{const h=new Tn(l,0),m=new Tn(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,m],v=>{a=a.add(v.Hr)})}),ht.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,l=a.length+1;let h=a;Mt.isDocumentKey(h)||(h=h.child(""));const m=new Tn(new Mt(h),0);let v=new hn(Yt);return this.Yr.forEachWhile(y=>{const E=y.key.path;return!!a.isPrefixOf(E)&&(E.length===l&&(v=v.add(y.Hr)),!0)},m),ht.resolve(this.ei(v))}ei(t){const n=[];return t.forEach(a=>{const l=this.Zr(a);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){me(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return ht.forEach(n.mutations,l=>{const h=new Tn(l.key,n.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Yr=a})}rr(t){}containsKey(t,n){const a=new Tn(n,0),l=this.Yr.firstAfterOrEqual(a);return ht.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(t){this.ni=t,this.docs=function(){return new qe(Mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,l=this.docs.get(a),h=l?l.size:0,m=this.ni(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return ht.resolve(a?a.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(t,n){let a=ks();return n.forEach(l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():qn.newInvalidDocument(l))}),ht.resolve(a)}getDocumentsMatchingQuery(t,n,a,l){let h=ks();const m=n.path,v=new Mt(m.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(v);for(;y.hasNext();){const{key:E,value:{document:b}}=y.getNext();if(!m.isPrefixOf(E.path))break;E.path.length>m.length+1||Hx(qx(b),a)<=0||(l.has(b.key)||ed(n,b))&&(h=h.insert(b.key,b.mutableCopy()))}return ht.resolve(h)}getAllFromCollectionGroup(t,n,a,l){zt(9500)}ri(t,n){return ht.forEach(this.docs,a=>n(a))}newChangeBuffer(t){return new mO(this)}getSize(t){return ht.resolve(this.size)}}class mO extends aO{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?n.push(this.Or.addEntry(t,l)):this.Or.removeEntry(a)}),ht.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t){this.persistence=t,this.ii=new el(n=>pg(n),gg),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.si=0,this.oi=new Tg,this.targetCount=0,this._i=ru.ar()}forEachTarget(t,n){return this.ii.forEach((a,l)=>n(l)),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.si&&(this.si=n),ht.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new ru(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,ht.resolve()}updateTargetData(t,n){return this.hr(n),ht.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,n,a){let l=0;const h=[];return this.ii.forEach((m,v)=>{v.sequenceNumber<=n&&a.get(v.targetId)===null&&(this.ii.delete(m),h.push(this.removeMatchingKeysForTargetId(t,v.targetId)),l++)}),ht.waitFor(h).next(()=>l)}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,n){const a=this.ii.get(n)||null;return ht.resolve(a)}addMatchingKeys(t,n,a){return this.oi.Kr(n,a),ht.resolve()}removeMatchingKeys(t,n,a){this.oi.Gr(n,a);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach(m=>{h.push(l.markPotentiallyOrphaned(t,m))}),ht.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),ht.resolve()}getMatchingKeysForTargetId(t,n){const a=this.oi.Jr(n);return ht.resolve(a)}containsKey(t,n){return ht.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,n){this.ai={},this.overlays={},this.ui=new Wf(0),this.ci=!1,this.ci=!0,this.li=new hO,this.referenceDelegate=t(this),this.hi=new pO(this),this.indexManager=new $P,this.remoteDocumentCache=function(l){return new dO(l)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new XP(n),this.Ti=new uO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new cO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.ai[t.toKey()];return a||(a=new fO(n,this.referenceDelegate),this.ai[t.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,a){St("MemoryPersistence","Starting transaction:",t);const l=new gO(this.ui.next());return this.referenceDelegate.Ii(),a(l).next(h=>this.referenceDelegate.di(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ei(t,n){return ht.or(Object.values(this.ai).map(a=>()=>a.containsKey(t,n)))}}class gO extends Gx{constructor(t){super(),this.currentSequenceNumber=t}}class wg{constructor(t){this.persistence=t,this.Ai=new Tg,this.Ri=null}static Vi(t){return new wg(t)}get mi(){if(this.Ri)return this.Ri;throw zt(60996)}addReference(t,n,a){return this.Ai.addReference(a,n),this.mi.delete(a.toString()),ht.resolve()}removeReference(t,n,a){return this.Ai.removeReference(a,n),this.mi.add(a.toString()),ht.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),ht.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(l=>this.mi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(h=>this.mi.add(h.toString()))}).next(()=>a.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.mi,a=>{const l=Mt.fromPath(a);return this.fi(t,l).next(h=>{h||n.removeEntry(l,Ft.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(a=>{a?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return ht.or([()=>ht.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Uf{constructor(t,n){this.persistence=t,this.gi=new el(a=>Qx(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=sO(this,n)}static Vi(t,n){return new Uf(t,n)}Ii(){}di(t){return ht.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>n.next(l=>a+l))}yr(t){let n=0;return this.gr(t,a=>{n++}).next(()=>n)}gr(t,n){return ht.forEach(this.gi,(a,l)=>this.Sr(t,a,l).next(h=>h?ht.resolve():n(l)))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ri(t,m=>this.Sr(t,m,n).next(v=>{v||(a++,h.removeEntry(m,Ft.min()))})).next(()=>h.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),ht.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.gi.set(a,t.currentSequenceNumber),ht.resolve()}removeReference(t,n,a){return this.gi.set(a,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),ht.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=mf(t.data.value)),n}Sr(t,n,a){return ht.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.gi.get(n);return ht.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n,a,l){this.targetId=t,this.fromCache=n,this.Is=a,this.ds=l}static Es(t,n){let a=ie(),l=ie();for(const h of n.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Ag(t,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Q1()?8:Zx(Hn())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,a,l){const h={result:null};return this.ps(t,n).next(m=>{h.result=m}).next(()=>{if(!h.result)return this.ys(t,n,l,a).next(m=>{h.result=m})}).next(()=>{if(h.result)return;const m=new _O;return this.ws(t,n,m).next(v=>{if(h.result=v,this.Rs)return this.Ss(t,n,m,v.size)})}).next(()=>h.result)}Ss(t,n,a,l){return a.documentReadCount<this.Vs?(Fl()<=ne.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",Gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ht.resolve()):(Fl()<=ne.DEBUG&&St("QueryEngine","Query:",Gl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.fs*l?(Fl()<=ne.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",Gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qr(n))):ht.resolve())}ps(t,n){if(nE(n))return ht.resolve(null);let a=Qr(n);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Df(n,null,"F"),a=Qr(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next(h=>{const m=ie(...h);return this.gs.getDocuments(t,m).next(v=>this.indexManager.getMinOffset(t,a).next(y=>{const E=this.bs(n,v);return this.Ds(n,E,m,y.readTime)?this.ps(t,Df(n,null,"F")):this.vs(t,E,n,y)}))})))}ys(t,n,a,l){return nE(n)||l.isEqual(Ft.min())?ht.resolve(null):this.gs.getDocuments(t,a).next(h=>{const m=this.bs(n,h);return this.Ds(n,m,a,l)?ht.resolve(null):(Fl()<=ne.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Gl(n)),this.vs(t,m,n,jx(l,Ic)).next(v=>v))})}bs(t,n){let a=new hn(Aw(t));return n.forEach((l,h)=>{ed(t,h)&&(a=a.add(h))}),a}Ds(t,n,a,l){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ws(t,n,a){return Fl()<=ne.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",Gl(n)),this.gs.getDocumentsMatchingQuery(t,n,Ya.min(),a)}vs(t,n,a,l){return this.gs.getDocumentsMatchingQuery(t,a,l).next(h=>(n.forEach(m=>{h=h.insert(m.key,m)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="LocalStore",yO=3e8;class EO{constructor(t,n,a,l){this.persistence=t,this.Cs=n,this.serializer=l,this.Fs=new qe(Yt),this.Ms=new el(h=>pg(h),gg),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(a)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lO(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function TO(r,t,n,a){return new EO(r,t,n,a)}async function Kw(r,t){const n=Gt(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next(h=>(l=h,n.Ns(t),n.mutationQueue.getAllMutationBatches(a))).next(h=>{const m=[],v=[];let y=ie();for(const E of l){m.push(E.batchId);for(const b of E.mutations)y=y.add(b.key)}for(const E of h){v.push(E.batchId);for(const b of E.mutations)y=y.add(b.key)}return n.localDocuments.getDocuments(a,y).next(E=>({Bs:E,removedBatchIds:m,addedBatchIds:v}))})})}function wO(r,t){const n=Gt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),h=n.Os.newChangeBuffer({trackRemovals:!0});return function(v,y,E,b){const I=E.batch,x=I.keys();let B=ht.resolve();return x.forEach(F=>{B=B.next(()=>b.getEntry(y,F)).next(X=>{const tt=E.docVersions.get(F);me(tt!==null,48541),X.version.compareTo(tt)<0&&(I.applyToRemoteDocument(X,E),X.isValidDocument()&&(X.setReadTime(E.commitVersion),b.addEntry(X)))})}),B.next(()=>v.mutationQueue.removeMutationBatch(y,I))}(n,a,t,h).next(()=>h.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(v){let y=ie();for(let E=0;E<v.mutationResults.length;++E)v.mutationResults[E].transformResults.length>0&&(y=y.add(v.batch.mutations[E].key));return y}(t))).next(()=>n.localDocuments.getDocuments(a,l))})}function Qw(r){const t=Gt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function AO(r,t){const n=Gt(r),a=t.snapshotVersion;let l=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=n.Os.newChangeBuffer({trackRemovals:!0});l=n.Fs;const v=[];t.targetChanges.forEach((b,I)=>{const x=l.get(I);if(!x)return;v.push(n.hi.removeMatchingKeys(h,b.removedDocuments,I).next(()=>n.hi.addMatchingKeys(h,b.addedDocuments,I)));let B=x.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(I)!==null?B=B.withResumeToken(Pn.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):b.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(b.resumeToken,a)),l=l.insert(I,B),function(X,tt,at){return X.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=yO?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0}(x,B,b)&&v.push(n.hi.updateTargetData(h,B))});let y=ks(),E=ie();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&v.push(n.persistence.referenceDelegate.updateLimboDocument(h,b))}),v.push(SO(h,m,t.documentUpdates).next(b=>{y=b.Ls,E=b.ks})),!a.isEqual(Ft.min())){const b=n.hi.getLastRemoteSnapshotVersion(h).next(I=>n.hi.setTargetsMetadata(h,h.currentSequenceNumber,a));v.push(b)}return ht.waitFor(v).next(()=>m.apply(h)).next(()=>n.localDocuments.getLocalViewOfDocuments(h,y,E)).next(()=>y)}).then(h=>(n.Fs=l,h))}function SO(r,t,n){let a=ie(),l=ie();return n.forEach(h=>a=a.add(h)),t.getEntries(r,a).next(h=>{let m=ks();return n.forEach((v,y)=>{const E=h.get(v);y.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(v)),y.isNoDocument()&&y.version.isEqual(Ft.min())?(t.removeEntry(v,y.readTime),m=m.insert(v,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||y.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(y),m=m.insert(v,y)):St(Sg,"Ignoring outdated watch update for ",v,". Current version:",E.version," Watch version:",y.version)}),{Ls:m,ks:l}})}function bO(r,t){const n=Gt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=fg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function RO(r,t){const n=Gt(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return n.hi.getTargetData(a,t).next(h=>h?(l=h,ht.resolve(l)):n.hi.allocateTargetId(a).next(m=>(l=new ja(t,m,"TargetPurposeListen",a.currentSequenceNumber),n.hi.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=n.Fs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(a.targetId,a),n.Ms.set(t,a.targetId)),a})}async function Dp(r,t,n){const a=Gt(r),l=a.Fs.get(t),h=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",h,m=>a.persistence.referenceDelegate.removeTarget(m,l))}catch(m){if(!mu(m))throw m;St(Sg,`Failed to update sequence numbers for target ${t}: ${m}`)}a.Fs=a.Fs.remove(t),a.Ms.delete(l.target)}function pE(r,t,n){const a=Gt(r);let l=Ft.min(),h=ie();return a.persistence.runTransaction("Execute query","readwrite",m=>function(y,E,b){const I=Gt(y),x=I.Ms.get(b);return x!==void 0?ht.resolve(I.Fs.get(x)):I.hi.getTargetData(E,b)}(a,m,Qr(t)).next(v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(m,v.targetId).next(y=>{h=y})}).next(()=>a.Cs.getDocumentsMatchingQuery(m,t,n?l:Ft.min(),n?h:ie())).next(v=>(CO(a,dP(t),v),{documents:v,qs:h})))}function CO(r,t,n){let a=r.xs.get(t)||Ft.min();n.forEach((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),r.xs.set(t,a)}class gE{constructor(){this.activeTargetIds=yP()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class IO{constructor(){this.Fo=new gE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,a){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new gE,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="ConnectivityMonitor";class vE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){St(_E,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){St(_E,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af=null;function Np(){return af===null?af=function(){return 268435456+Math.round(2147483648*Math.random())}():af++,"0x"+af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="RestConnection",PO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OO{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.Ko=this.databaseId.database===Of?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,n,a,l,h){const m=Np(),v=this.Go(t,n.toUriEncodedString());St(up,`Sending RPC '${t}' ${m}:`,v,a);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,l,h);const{host:E}=new URL(v),b=uu(E);return this.jo(t,v,y,a,b).then(I=>(St(up,`Received RPC '${t}' ${m}: `,I),I),I=>{throw Qa(up,`RPC '${t}' ${m} failed with error: `,I,"url: ",v,"request:",a),I})}Jo(t,n,a,l,h,m){return this.Wo(t,n,a,l,h)}zo(t,n,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,h)=>t[h]=l),a&&a.headers.forEach((l,h)=>t[h]=l)}Go(t,n){const a=PO[t];return`${this.$o}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="WebChannelConnection";class MO extends OO{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,a,l,h){const m=Np();return new Promise((v,y)=>{const E=new YT;E.setWithCredentials(!0),E.listenOnce(WT.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case df.NO_ERROR:const I=E.getResponseJson();St(Bn,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(I)),v(I);break;case df.TIMEOUT:St(Bn,`RPC '${t}' ${m} timed out`),y(new At(ut.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const x=E.getStatus();if(St(Bn,`RPC '${t}' ${m} failed with status:`,x,"response text:",E.getResponseText()),x>0){let B=E.getResponseJson();Array.isArray(B)&&(B=B[0]);const F=B==null?void 0:B.error;if(F&&F.status&&F.message){const X=function(at){const ft=at.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(ft)>=0?ft:ut.UNKNOWN}(F.status);y(new At(X,F.message))}else y(new At(ut.UNKNOWN,"Server responded with status "+E.getStatus()))}else y(new At(ut.UNAVAILABLE,"Connection failed."));break;default:zt(9055,{c_:t,streamId:m,l_:E.getLastErrorCode(),h_:E.getLastError()})}}finally{St(Bn,`RPC '${t}' ${m} completed.`)}});const b=JSON.stringify(l);St(Bn,`RPC '${t}' ${m} sending request:`,l),E.send(n,"POST",b,a,15)})}P_(t,n,a){const l=Np(),h=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=$T(),v=JT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const b=h.join("");St(Bn,`Creating RPC '${t}' stream ${l}: ${b}`,y);const I=m.createWebChannel(b,y);this.T_(I);let x=!1,B=!1;const F=new LO({Ho:tt=>{B?St(Bn,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(x||(St(Bn,`Opening RPC '${t}' stream ${l} transport.`),I.open(),x=!0),St(Bn,`RPC '${t}' stream ${l} sending:`,tt),I.send(tt))},Yo:()=>I.close()}),X=(tt,at,ft)=>{tt.listen(at,mt=>{try{ft(mt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return X(I,hc.EventType.OPEN,()=>{B||(St(Bn,`RPC '${t}' stream ${l} transport opened.`),F.s_())}),X(I,hc.EventType.CLOSE,()=>{B||(B=!0,St(Bn,`RPC '${t}' stream ${l} transport closed`),F.__(),this.I_(I))}),X(I,hc.EventType.ERROR,tt=>{B||(B=!0,Qa(Bn,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),F.__(new At(ut.UNAVAILABLE,"The operation could not be completed")))}),X(I,hc.EventType.MESSAGE,tt=>{var at;if(!B){const ft=tt.data[0];me(!!ft,16349);const mt=ft,Pt=(mt==null?void 0:mt.error)||((at=mt[0])===null||at===void 0?void 0:at.error);if(Pt){St(Bn,`RPC '${t}' stream ${l} received error:`,Pt);const Rt=Pt.status;let qt=function(D){const z=nn[D];if(z!==void 0)return Nw(z)}(Rt),H=Pt.message;qt===void 0&&(qt=ut.INTERNAL,H="Unknown error status: "+Rt+" with message "+Pt.message),B=!0,F.__(new At(qt,H)),I.close()}else St(Bn,`RPC '${t}' stream ${l} received:`,ft),F.a_(ft)}}),X(v,XT.STAT_EVENT,tt=>{tt.stat===Ap.PROXY?St(Bn,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===Ap.NOPROXY&&St(Bn,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{F.o_()},0),F}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(r){return new VP(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,n,a=1e3,l=1.5,h=6e4){this.Fi=t,this.timerId=n,this.d_=a,this.E_=l,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),l=Math.max(0,n-a);l>0&&St("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="PersistentStream";class Ww{constructor(t,n,a,l,h,m,v,y){this.Fi=t,this.w_=a,this.S_=l,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=v,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Yw(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===ut.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.b_===n&&this.W_(a,l)},a=>{t(()=>{const l=new At(ut.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(l)})})}W_(t,n){const a=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(l=>{a(()=>this.G_(l))}),this.stream.onMessage(l=>{a(()=>++this.C_==1?this.j_(l):this.onNext(l))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return St(yE,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():(St(yE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DO extends Ww{constructor(t,n,a,l,h,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,m),this.serializer=h}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=BP(this.serializer,t),a=function(h){if(!("targetChange"in h))return Ft.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Ft.min():m.readTime?Yr(m.readTime):Ft.min()}(t);return this.listener.J_(n,a)}H_(t){const n={};n.database=Mp(this.serializer),n.addTarget=function(h,m){let v;const y=m.target;if(v=Ip(y)?{documents:HP(h,y)}:{query:FP(h,y).Vt},v.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){v.resumeToken=Uw(h,m.resumeToken);const E=Pp(h,m.expectedCount);E!==null&&(v.expectedCount=E)}else if(m.snapshotVersion.compareTo(Ft.min())>0){v.readTime=Vf(h,m.snapshotVersion.toTimestamp());const E=Pp(h,m.expectedCount);E!==null&&(v.expectedCount=E)}return v}(this.serializer,t);const a=ZP(this.serializer,t);a&&(n.labels=a),this.k_(n)}Y_(t){const n={};n.database=Mp(this.serializer),n.removeTarget=t,this.k_(n)}}class NO extends Ww{constructor(t,n,a,l,h,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,m),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return me(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,me(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){me(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=qP(t.writeResults,t.commitTime),a=Yr(t.commitTime);return this.listener.ta(a,n)}na(){const t={};t.database=Mp(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map(a=>jP(this.serializer,a))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{}class VO extends kO{constructor(t,n,a,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new At(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Wo(t,Op(n,a),l,h,m)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new At(ut.UNKNOWN,h.toString())})}Jo(t,n,a,l,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,v])=>this.connection.Jo(t,Op(n,a),l,m,v,h)).catch(m=>{throw m.name==="FirebaseError"?(m.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new At(ut.UNKNOWN,m.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class UO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ns(n),this._a=!1):St("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="RemoteStore";class zO{constructor(t,n,a,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo(m=>{a.enqueueAndForget(async()=>{nl(this)&&(St($o,"Restarting streams for network reachability change."),await async function(y){const E=Gt(y);E.Ia.add(4),await Zc(E),E.Aa.set("Unknown"),E.Ia.delete(4),await ad(E)}(this))})}),this.Aa=new UO(a,l)}}async function ad(r){if(nl(r))for(const t of r.da)await t(!0)}async function Zc(r){for(const t of r.da)await t(!1)}function Xw(r,t){const n=Gt(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Ig(n)?Cg(n):gu(n).x_()&&Rg(n,t))}function bg(r,t){const n=Gt(r),a=gu(n);n.Ta.delete(t),a.x_()&&Jw(n,t),n.Ta.size===0&&(a.x_()?a.B_():nl(n)&&n.Aa.set("Unknown"))}function Rg(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ft.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gu(r).H_(t)}function Jw(r,t){r.Ra.$e(t),gu(r).Y_(t)}function Cg(r){r.Ra=new MP({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),gu(r).start(),r.Aa.aa()}function Ig(r){return nl(r)&&!gu(r).M_()&&r.Ta.size>0}function nl(r){return Gt(r).Ia.size===0}function $w(r){r.Ra=void 0}async function BO(r){r.Aa.set("Online")}async function jO(r){r.Ta.forEach((t,n)=>{Rg(r,t)})}async function qO(r,t){$w(r),Ig(r)?(r.Aa.la(t),Cg(r)):r.Aa.set("Unknown")}async function HO(r,t,n){if(r.Aa.set("Online"),t instanceof Vw&&t.state===2&&t.cause)try{await async function(l,h){const m=h.cause;for(const v of h.targetIds)l.Ta.has(v)&&(await l.remoteSyncer.rejectListen(v,m),l.Ta.delete(v),l.Ra.removeTarget(v))}(r,t)}catch(a){St($o,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await zf(r,a)}else if(t instanceof _f?r.Ra.Ye(t):t instanceof kw?r.Ra.it(t):r.Ra.et(t),!n.isEqual(Ft.min()))try{const a=await Qw(r.localStore);n.compareTo(a)>=0&&await function(h,m){const v=h.Ra.Pt(m);return v.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const b=h.Ta.get(E);b&&h.Ta.set(E,b.withResumeToken(y.resumeToken,m))}}),v.targetMismatches.forEach((y,E)=>{const b=h.Ta.get(y);if(!b)return;h.Ta.set(y,b.withResumeToken(Pn.EMPTY_BYTE_STRING,b.snapshotVersion)),Jw(h,y);const I=new ja(b.target,y,E,b.sequenceNumber);Rg(h,I)}),h.remoteSyncer.applyRemoteEvent(v)}(r,n)}catch(a){St($o,"Failed to raise snapshot:",a),await zf(r,a)}}async function zf(r,t,n){if(!mu(t))throw t;r.Ia.add(1),await Zc(r),r.Aa.set("Offline"),n||(n=()=>Qw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{St($o,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await ad(r)})}function tA(r,t){return t().catch(n=>zf(r,n,t))}async function od(r){const t=Gt(r),n=$a(t);let a=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:fg;for(;FO(t);)try{const l=await bO(t.localStore,a);if(l===null){t.Pa.length===0&&n.B_();break}a=l.batchId,GO(t,l)}catch(l){await zf(t,l)}eA(t)&&nA(t)}function FO(r){return nl(r)&&r.Pa.length<10}function GO(r,t){r.Pa.push(t);const n=$a(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function eA(r){return nl(r)&&!$a(r).M_()&&r.Pa.length>0}function nA(r){$a(r).start()}async function ZO(r){$a(r).na()}async function KO(r){const t=$a(r);for(const n of r.Pa)t.X_(n.mutations)}async function QO(r,t,n){const a=r.Pa.shift(),l=vg.from(a,t,n);await tA(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await od(r)}async function YO(r,t){t&&$a(r).Z_&&await async function(a,l){if(function(m){return OP(m)&&m!==ut.ABORTED}(l.code)){const h=a.Pa.shift();$a(a).N_(),await tA(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l)),await od(a)}}(r,t),eA(r)&&nA(r)}async function EE(r,t){const n=Gt(r);n.asyncQueue.verifyOperationInProgress(),St($o,"RemoteStore received new credentials");const a=nl(n);n.Ia.add(3),await Zc(n),a&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await ad(n)}async function WO(r,t){const n=Gt(r);t?(n.Ia.delete(2),await ad(n)):t||(n.Ia.add(2),await Zc(n),n.Aa.set("Unknown"))}function gu(r){return r.Va||(r.Va=function(n,a,l){const h=Gt(n);return h.ia(),new DO(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(r.datastore,r.asyncQueue,{Zo:BO.bind(null,r),e_:jO.bind(null,r),n_:qO.bind(null,r),J_:HO.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),Ig(r)?Cg(r):r.Aa.set("Unknown")):(await r.Va.stop(),$w(r))})),r.Va}function $a(r){return r.ma||(r.ma=function(n,a,l){const h=Gt(n);return h.ia(),new NO(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:ZO.bind(null,r),n_:YO.bind(null,r),ea:KO.bind(null,r),ta:QO.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await od(r)):(await r.ma.stop(),r.Pa.length>0&&(St($o,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(t,n,a,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,l,h){const m=Date.now()+a,v=new xg(t,n,m,l,h);return v.start(a),v}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(r,t){if(Ns("AsyncQueue",`${t}: ${r}`),mu(r))return new At(ut.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{static emptySet(t){return new Jl(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||Mt.comparator(n.key,a.key):(n,a)=>Mt.comparator(n.key,a.key),this.keyedMap=fc(),this.sortedSet=new qe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,a)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Jl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new Jl;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.fa=new qe(Mt.comparator)}track(t){const n=t.doc.key,a=this.fa.get(n);a?t.type!==0&&a.type===3?this.fa=this.fa.insert(n,t):t.type===3&&a.type!==1?this.fa=this.fa.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.fa=this.fa.remove(n):t.type===1&&a.type===2?this.fa=this.fa.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):zt(63341,{At:t,ga:a}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,a)=>{t.push(a)}),t}}class su{constructor(t,n,a,l,h,m,v,y,E){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=v,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(t,n,a,l,h){const m=[];return n.forEach(v=>{m.push({type:0,doc:v})}),new su(t,n,Jl.emptySet(n),m,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&td(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class JO{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,a){const l=Gt(n),h=l.queries;l.queries=wE(),h.forEach((m,v)=>{for(const y of v.wa)y.onError(a)})})(this,new At(ut.ABORTED,"Firestore shutting down"))}}function wE(){return new el(r=>ww(r),td)}async function Og(r,t){const n=Gt(r);let a=3;const l=t.query;let h=n.queries.get(l);h?!h.Sa()&&t.ba()&&(a=2):(h=new XO,a=t.ba()?0:1);try{switch(a){case 0:h.ya=await n.onListen(l,!0);break;case 1:h.ya=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(m){const v=Pg(m,`Initialization of query '${Gl(t.query)}' failed`);return void t.onError(v)}n.queries.set(l,h),h.wa.push(t),t.va(n.onlineState),h.ya&&t.Ca(h.ya)&&Mg(n)}async function Lg(r,t){const n=Gt(r),a=t.query;let l=3;const h=n.queries.get(a);if(h){const m=h.wa.indexOf(t);m>=0&&(h.wa.splice(m,1),h.wa.length===0?l=t.ba()?0:1:!h.Sa()&&t.ba()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function $O(r,t){const n=Gt(r);let a=!1;for(const l of t){const h=l.query,m=n.queries.get(h);if(m){for(const v of m.wa)v.Ca(l)&&(a=!0);m.ya=l}}a&&Mg(n)}function t2(r,t,n){const a=Gt(r),l=a.queries.get(t);if(l)for(const h of l.wa)h.onError(n);a.queries.delete(t)}function Mg(r){r.Da.forEach(t=>{t.next()})}var kp,AE;(AE=kp||(kp={})).Fa="default",AE.Cache="cache";class Dg{constructor(t,n,a){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new su(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const a=n!=="Offline";return(!this.options.ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=su.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t){this.key=t}}class rA{constructor(t){this.key=t}}class e2{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ie(),this.mutatedKeys=ie(),this.Xa=Aw(t),this.eu=new Jl(this.Xa)}get tu(){return this.Ha}nu(t,n){const a=n?n.ru:new TE,l=n?n.eu:this.eu;let h=n?n.mutatedKeys:this.mutatedKeys,m=l,v=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((b,I)=>{const x=l.get(b),B=ed(this.query,I)?I:null,F=!!x&&this.mutatedKeys.has(x.key),X=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let tt=!1;x&&B?x.data.isEqual(B.data)?F!==X&&(a.track({type:3,doc:B}),tt=!0):this.iu(x,B)||(a.track({type:2,doc:B}),tt=!0,(y&&this.Xa(B,y)>0||E&&this.Xa(B,E)<0)&&(v=!0)):!x&&B?(a.track({type:0,doc:B}),tt=!0):x&&!B&&(a.track({type:1,doc:x}),tt=!0,(y||E)&&(v=!0)),tt&&(B?(m=m.add(B),h=X?h.add(b):h.delete(b)):(m=m.delete(b),h=h.delete(b)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const b=this.query.limitType==="F"?m.last():m.first();m=m.delete(b.key),h=h.delete(b.key),a.track({type:1,doc:b})}return{eu:m,ru:a,Ds:v,mutatedKeys:h}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,l){const h=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const m=t.ru.pa();m.sort((b,I)=>function(B,F){const X=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt(20277,{At:tt})}};return X(B)-X(F)}(b.type,I.type)||this.Xa(b.doc,I.doc)),this.su(a),l=l!=null&&l;const v=n&&!l?this.ou():[],y=this.Za.size===0&&this.current&&!l?1:0,E=y!==this.Ya;return this.Ya=y,m.length!==0||E?{snapshot:new su(this.query,t.eu,h,m,t.mutatedKeys,y===0,E,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:v}:{_u:v}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new TE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=ie(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const n=[];return t.forEach(a=>{this.Za.has(a)||n.push(new rA(a))}),this.Za.forEach(a=>{t.has(a)||n.push(new iA(a))}),n}uu(t){this.Ha=t.qs,this.Za=ie();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return su.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ng="SyncEngine";class n2{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class i2{constructor(t){this.key=t,this.lu=!1}}class r2{constructor(t,n,a,l,h,m){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.hu={},this.Pu=new el(v=>ww(v),td),this.Tu=new Map,this.Iu=new Set,this.du=new qe(Mt.comparator),this.Eu=new Map,this.Au=new Tg,this.Ru={},this.Vu=new Map,this.mu=ru.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function s2(r,t,n=!0){const a=cA(r);let l;const h=a.Pu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.cu()):l=await sA(a,t,n,!0),l}async function a2(r,t){const n=cA(r);await sA(n,t,!0,!1)}async function sA(r,t,n,a){const l=await RO(r.localStore,Qr(t)),h=l.targetId,m=r.sharedClientState.addLocalQueryTarget(h,n);let v;return a&&(v=await o2(r,t,h,m==="current",l.resumeToken)),r.isPrimaryClient&&n&&Xw(r.remoteStore,l),v}async function o2(r,t,n,a,l){r.gu=(I,x,B)=>async function(X,tt,at,ft){let mt=tt.view.nu(at);mt.Ds&&(mt=await pE(X.localStore,tt.query,!1).then(({documents:H})=>tt.view.nu(H,mt)));const Pt=ft&&ft.targetChanges.get(tt.targetId),Rt=ft&&ft.targetMismatches.get(tt.targetId)!=null,qt=tt.view.applyChanges(mt,X.isPrimaryClient,Pt,Rt);return bE(X,tt.targetId,qt._u),qt.snapshot}(r,I,x,B);const h=await pE(r.localStore,t,!0),m=new e2(t,h.qs),v=m.nu(h.documents),y=Gc.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),E=m.applyChanges(v,r.isPrimaryClient,y);bE(r,n,E._u);const b=new n2(t,n,m);return r.Pu.set(t,b),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),E.snapshot}async function l2(r,t,n){const a=Gt(r),l=a.Pu.get(t),h=a.Tu.get(l.targetId);if(h.length>1)return a.Tu.set(l.targetId,h.filter(m=>!td(m,t))),void a.Pu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Dp(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),n&&bg(a.remoteStore,l.targetId),Vp(a,l.targetId)}).catch(du)):(Vp(a,l.targetId),await Dp(a.localStore,l.targetId,!0))}async function u2(r,t){const n=Gt(r),a=n.Pu.get(t),l=n.Tu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),bg(n.remoteStore,a.targetId))}async function c2(r,t,n){const a=_2(r);try{const l=await function(m,v){const y=Gt(m),E=Me.now(),b=v.reduce((B,F)=>B.add(F.key),ie());let I,x;return y.persistence.runTransaction("Locally write mutations","readwrite",B=>{let F=ks(),X=ie();return y.Os.getEntries(B,b).next(tt=>{F=tt,F.forEach((at,ft)=>{ft.isValidDocument()||(X=X.add(at))})}).next(()=>y.localDocuments.getOverlayedDocuments(B,F)).next(tt=>{I=tt;const at=[];for(const ft of v){const mt=RP(ft,I.get(ft.key).overlayedDocument);mt!=null&&at.push(new io(ft.key,mt,mw(mt.value.mapValue),wr.exists(!0)))}return y.mutationQueue.addMutationBatch(B,E,at,v)}).next(tt=>{x=tt;const at=tt.applyToLocalDocumentSet(I,X);return y.documentOverlayCache.saveOverlays(B,tt.batchId,at)})}).then(()=>({batchId:x.batchId,changes:bw(I)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(m,v,y){let E=m.Ru[m.currentUser.toKey()];E||(E=new qe(Yt)),E=E.insert(v,y),m.Ru[m.currentUser.toKey()]=E}(a,l.batchId,n),await Kc(a,l.changes),await od(a.remoteStore)}catch(l){const h=Pg(l,"Failed to persist write");n.reject(h)}}async function aA(r,t){const n=Gt(r);try{const a=await AO(n.localStore,t);t.targetChanges.forEach((l,h)=>{const m=n.Eu.get(h);m&&(me(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.lu=!0:l.modifiedDocuments.size>0?me(m.lu,14607):l.removedDocuments.size>0&&(me(m.lu,42227),m.lu=!1))}),await Kc(n,a,t)}catch(a){await du(a)}}function SE(r,t,n){const a=Gt(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Pu.forEach((h,m)=>{const v=m.view.va(t);v.snapshot&&l.push(v.snapshot)}),function(m,v){const y=Gt(m);y.onlineState=v;let E=!1;y.queries.forEach((b,I)=>{for(const x of I.wa)x.va(v)&&(E=!0)}),E&&Mg(y)}(a.eventManager,t),l.length&&a.hu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function h2(r,t,n){const a=Gt(r);a.sharedClientState.updateQueryState(t,"rejected",n);const l=a.Eu.get(t),h=l&&l.key;if(h){let m=new qe(Mt.comparator);m=m.insert(h,qn.newNoDocument(h,Ft.min()));const v=ie().add(h),y=new rd(Ft.min(),new Map,new qe(Yt),m,v);await aA(a,y),a.du=a.du.remove(h),a.Eu.delete(t),kg(a)}else await Dp(a.localStore,t,!1).then(()=>Vp(a,t,n)).catch(du)}async function f2(r,t){const n=Gt(r),a=t.batch.batchId;try{const l=await wO(n.localStore,t);lA(n,a,null),oA(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Kc(n,l)}catch(l){await du(l)}}async function d2(r,t,n){const a=Gt(r);try{const l=await function(m,v){const y=Gt(m);return y.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let b;return y.mutationQueue.lookupMutationBatch(E,v).next(I=>(me(I!==null,37113),b=I.keys(),y.mutationQueue.removeMutationBatch(E,I))).next(()=>y.mutationQueue.performConsistencyCheck(E)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(E,b,v)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,b)).next(()=>y.localDocuments.getDocuments(E,b))})}(a.localStore,t);lA(a,t,n),oA(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await Kc(a,l)}catch(l){await du(l)}}function oA(r,t){(r.Vu.get(t)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(t)}function lA(r,t,n){const a=Gt(r);let l=a.Ru[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),a.Ru[a.currentUser.toKey()]=l}}function Vp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Tu.get(t))r.Pu.delete(a),n&&r.hu.pu(a,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(a=>{r.Au.containsKey(a)||uA(r,a)})}function uA(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(bg(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),kg(r))}function bE(r,t,n){for(const a of n)a instanceof iA?(r.Au.addReference(a.key,t),m2(r,a)):a instanceof rA?(St(Ng,"Document no longer in limbo: "+a.key),r.Au.removeReference(a.key,t),r.Au.containsKey(a.key)||uA(r,a.key)):zt(19791,{yu:a})}function m2(r,t){const n=t.key,a=n.path.canonicalString();r.du.get(n)||r.Iu.has(a)||(St(Ng,"New document in limbo: "+n),r.Iu.add(a),kg(r))}function kg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new Mt(Le.fromString(t)),a=r.mu.next();r.Eu.set(a,new i2(n)),r.du=r.du.insert(n,a),Xw(r.remoteStore,new ja(Qr($f(n.path)),a,"TargetPurposeLimboResolution",Wf.ue))}}async function Kc(r,t,n){const a=Gt(r),l=[],h=[],m=[];a.Pu.isEmpty()||(a.Pu.forEach((v,y)=>{m.push(a.gu(y,t,n).then(E=>{var b;if((E||n)&&a.isPrimaryClient){const I=E?!E.fromCache:(b=n==null?void 0:n.targetChanges.get(y.targetId))===null||b===void 0?void 0:b.current;a.sharedClientState.updateQueryState(y.targetId,I?"current":"not-current")}if(E){l.push(E);const I=Ag.Es(y.targetId,E);h.push(I)}}))}),await Promise.all(m),a.hu.J_(l),await async function(y,E){const b=Gt(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ht.forEach(E,x=>ht.forEach(x.Is,B=>b.persistence.referenceDelegate.addReference(I,x.targetId,B)).next(()=>ht.forEach(x.ds,B=>b.persistence.referenceDelegate.removeReference(I,x.targetId,B)))))}catch(I){if(!mu(I))throw I;St(Sg,"Failed to update sequence numbers: "+I)}for(const I of E){const x=I.targetId;if(!I.fromCache){const B=b.Fs.get(x),F=B.snapshotVersion,X=B.withLastLimboFreeSnapshotVersion(F);b.Fs=b.Fs.insert(x,X)}}}(a.localStore,h))}async function p2(r,t){const n=Gt(r);if(!n.currentUser.isEqual(t)){St(Ng,"User change. New user:",t.toKey());const a=await Kw(n.localStore,t);n.currentUser=t,function(h,m){h.Vu.forEach(v=>{v.forEach(y=>{y.reject(new At(ut.CANCELLED,m))})}),h.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Kc(n,a.Bs)}}function g2(r,t){const n=Gt(r),a=n.Eu.get(t);if(a&&a.lu)return ie().add(a.key);{let l=ie();const h=n.Tu.get(t);if(!h)return l;for(const m of h){const v=n.Pu.get(m);l=l.unionWith(v.view.tu)}return l}}function cA(r){const t=Gt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=aA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=g2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=h2.bind(null,t),t.hu.J_=$O.bind(null,t.eventManager),t.hu.pu=t2.bind(null,t.eventManager),t}function _2(r){const t=Gt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=f2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=d2.bind(null,t),t}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return TO(this.persistence,new vO,t.initialUser,this.serializer)}Du(t){return new Zw(wg.Vi,this.serializer)}bu(t){return new IO}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class v2 extends Bf{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){me(this.persistence.referenceDelegate instanceof Uf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new iO(a,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?si.withCacheSize(this.cacheSizeBytes):si.DEFAULT;return new Zw(a=>Uf.Vi(a,n),this.serializer)}}class Up{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>SE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=p2.bind(null,this.syncEngine),await WO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new JO}()}createDatastore(t){const n=sd(t.databaseInfo.databaseId),a=function(h){return new MO(h)}(t.databaseInfo);return function(h,m,v,y){return new VO(h,m,v,y)}(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return function(a,l,h,m,v){return new zO(a,l,h,m,v)}(this.localStore,this.datastore,t.asyncQueue,n=>SE(this.syncEngine,n,0),function(){return vE.C()?new vE:new xO}())}createSyncEngine(t,n){return function(l,h,m,v,y,E,b){const I=new r2(l,h,m,v,y,E);return b&&(I.fu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const h=Gt(l);St($o,"RemoteStore shutting down."),h.Ia.add(5),await Zc(h),h.Ea.shutdown(),h.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Up.provider={build:()=>new Up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Ns("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="FirestoreClient";class y2{constructor(t,n,a,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=jn.UNAUTHENTICATED,this.clientId=hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async m=>{St(to,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(a,m=>(St(to,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=Pg(n,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function hp(r,t){r.asyncQueue.verifyOperationInProgress(),St(to,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async l=>{a.isEqual(l)||(await Kw(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>{Qa("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{St("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(l=>{Qa("Terminating Firestore due to IndexedDb database deletion failed",l)})}),r._offlineComponents=t}async function RE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await E2(r);St(to,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(a=>EE(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>EE(t.remoteStore,l)),r._onlineComponents=t}async function E2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){St(to,"Using user provided OfflineComponentProvider");try{await hp(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===ut.FAILED_PRECONDITION||l.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Qa("Error using user provided cache. Falling back to memory cache: "+n),await hp(r,new Bf)}}else St(to,"Using default OfflineComponentProvider"),await hp(r,new v2(void 0));return r._offlineComponents}async function hA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(St(to,"Using user provided OnlineComponentProvider"),await RE(r,r._uninitializedComponentsProvider._online)):(St(to,"Using default OnlineComponentProvider"),await RE(r,new Up))),r._onlineComponents}function T2(r){return hA(r).then(t=>t.syncEngine)}async function jf(r){const t=await hA(r),n=t.eventManager;return n.onListen=s2.bind(null,t.syncEngine),n.onUnlisten=l2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=a2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=u2.bind(null,t.syncEngine),n}function w2(r,t,n={}){const a=new Os;return r.asyncQueue.enqueueAndForget(async()=>function(h,m,v,y,E){const b=new Vg({next:x=>{b.Ou(),m.enqueueAndForget(()=>Lg(h,I));const B=x.docs.has(v);!B&&x.fromCache?E.reject(new At(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&x.fromCache&&y&&y.source==="server"?E.reject(new At(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(x)},error:x=>E.reject(x)}),I=new Dg($f(v.path),b,{includeMetadataChanges:!0,ka:!0});return Og(h,I)}(await jf(r),r.asyncQueue,t,n,a)),a.promise}function A2(r,t,n={}){const a=new Os;return r.asyncQueue.enqueueAndForget(async()=>function(h,m,v,y,E){const b=new Vg({next:x=>{b.Ou(),m.enqueueAndForget(()=>Lg(h,I)),x.fromCache&&y.source==="server"?E.reject(new At(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(x)},error:x=>E.reject(x)}),I=new Dg(v,b,{includeMetadataChanges:!0,ka:!0});return Og(h,I)}(await jf(r),r.asyncQueue,t,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firestore.googleapis.com",IE=!0;class xE{constructor(t){var n,a;if(t.host===void 0){if(t.ssl!==void 0)throw new At(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dA,this.ssl=IE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:IE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Gw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eO)throw new At(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Bx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fA((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new At(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new At(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new At(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ld{constructor(t,n,a,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new Ox;switch(a.type){case"firstParty":return new Nx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new At(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=CE.get(n);a&&(St("ComponentProvider","Removing Datastore"),CE.delete(n),a.terminate())}(this),Promise.resolve()}}function S2(r,t,n,a={}){var l;r=Oi(r,ld);const h=uu(t),m=r._getSettings(),v=Object.assign(Object.assign({},m),{emulatorOptions:r._getEmulatorOptions()}),y=`${t}:${n}`;h&&(aT(`https://${y}`),oT("Firestore",!0)),m.host!==dA&&m.host!==y&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E=Object.assign(Object.assign({},m),{host:y,ssl:h,emulatorOptions:a});if(!Qo(E,v)&&(r._setSettings(E),a.mockUserToken)){let b,I;if(typeof a.mockUserToken=="string")b=a.mockUserToken,I=jn.MOCK_USER;else{b=z1(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new At(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new jn(x)}r._authCredentials=new Lx(new ew(b,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new qs(this.firestore,t,this._query)}}class Ze{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ze(this.firestore,t,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,a){if(Hc(n,Ze._jsonSchema))return new Ze(t,a||null,new Mt(Le.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:sn("string",Ze._jsonSchemaVersion),referencePath:sn("string")};class Ka extends qs{constructor(t,n,a){super(t,n,$f(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ze(this.firestore,null,new Mt(t))}withConverter(t){return new Ka(this.firestore,t,this._path)}}function Ug(r,t,...n){if(r=an(r),iw("collection","path",t),r instanceof ld){const a=Le.fromString(t,...n);return q0(a),new Ka(r,null,a)}{if(!(r instanceof Ze||r instanceof Ka))throw new At(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Le.fromString(t,...n));return q0(a),new Ka(r.firestore,null,a)}}function Ql(r,t,...n){if(r=an(r),arguments.length===1&&(t=hg.newId()),iw("doc","path",t),r instanceof ld){const a=Le.fromString(t,...n);return j0(a),new Ze(r,null,new Mt(a))}{if(!(r instanceof Ze||r instanceof Ka))throw new At(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Le.fromString(t,...n));return j0(a),new Ze(r.firestore,r instanceof Ka?r.converter:null,new Mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="AsyncQueue";class OE{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Yw(this,"async_queue_retry"),this.oc=()=>{const a=cp();a&&St(PE,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=t;const n=cp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Os;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!mu(t))throw t;St(PE,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(a=>{throw this.tc=a,this.nc=!1,Ns("INTERNAL UNHANDLED ERROR: ",LE(a)),a}).then(a=>(this.nc=!1,a))));return this._c=n,n}enqueueAfterDelay(t,n,a){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const l=xg.createAndSchedule(this,t,n,a,h=>this.lc(h));return this.ec.push(l),l}ac(){this.tc&&zt(47125,{hc:LE(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function LE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(r){return function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1}(r,["next","error","complete"])}class eo extends ld{constructor(t,n,a,l){super(t,n,a,l),this.type="firestore",this._queue=new OE,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new OE(t),this._firestoreClient=void 0,await t}}}function b2(r,t){const n=typeof r=="object"?r:hT(),a=typeof r=="string"?r:Of,l=Jp(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=V1("firestore");h&&S2(l,...h)}return l}function ud(r){if(r._terminated)throw new At(ut.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||R2(r),r._firestoreClient}function R2(r){var t,n,a;const l=r._freezeSettings(),h=function(v,y,E,b){return new Xx(v,y,E,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,fA(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new y2(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(v){const y=v==null?void 0:v._online.build();return{_offline:v==null?void 0:v._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ji(Pn.fromBase64String(t))}catch(n){throw new At(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ji(Pn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ji._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hc(t,Ji._jsonSchema))return Ji.fromBase64String(t.bytes)}}Ji._jsonSchemaVersion="firestore/bytes/1.0",Ji._jsonSchema={type:sn("string",Ji._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new At(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new At(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new At(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Yt(this._lat,t._lat)||Yt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wr._jsonSchemaVersion}}static fromJSON(t){if(Hc(t,Wr._jsonSchema))return new Wr(t.latitude,t.longitude)}}Wr._jsonSchemaVersion="firestore/geoPoint/1.0",Wr._jsonSchema={type:sn("string",Wr._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hc(t,Xr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Xr(t.vectorValues);throw new At(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xr._jsonSchemaVersion="firestore/vectorValue/1.0",Xr._jsonSchema={type:sn("string",Xr._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=/^__.*__$/;class I2{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new io(t,this.data,this.fieldMask,n,this.fieldTransforms):new Fc(t,this.data,n,this.fieldTransforms)}}class mA{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return new io(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function pA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt(40011,{Ec:r})}}class Bg{constructor(t,n,a,l,h,m){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Bg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.Rc({path:a,mc:!1});return l.fc(t),l}gc(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.Rc({path:a,mc:!1});return l.Ac(),l}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return qf(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(pA(this.Ec)&&C2.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class x2{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||sd(t)}Dc(t,n,a,l=!1){return new Bg({Ec:t,methodName:n,bc:a,path:xn.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hd(r){const t=r._freezeSettings(),n=sd(r._databaseId);return new x2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function gA(r,t,n,a,l,h={}){const m=r.Dc(h.merge||h.mergeFields?2:0,t,n,l);jg("Data must be an object, but it was:",m,a);const v=_A(a,m);let y,E;if(h.merge)y=new Pi(m.fieldMask),E=m.fieldTransforms;else if(h.mergeFields){const b=[];for(const I of h.mergeFields){const x=zp(t,I,n);if(!m.contains(x))throw new At(ut.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);yA(b,x)||b.push(x)}y=new Pi(b),E=m.fieldTransforms.filter(I=>y.covers(I.field))}else y=null,E=m.fieldTransforms;return new I2(new ai(v),y,E)}class fd extends zg{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof fd}}function P2(r,t,n,a){const l=r.Dc(1,t,n);jg("Data must be an object, but it was:",l,a);const h=[],m=ai.empty();no(a,(y,E)=>{const b=qg(t,y,n);E=an(E);const I=l.gc(b);if(E instanceof fd)h.push(b);else{const x=Qc(E,I);x!=null&&(h.push(b),m.set(b,x))}});const v=new Pi(h);return new mA(m,v,l.fieldTransforms)}function O2(r,t,n,a,l,h){const m=r.Dc(1,t,n),v=[zp(t,a,n)],y=[l];if(h.length%2!=0)throw new At(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<h.length;x+=2)v.push(zp(t,h[x])),y.push(h[x+1]);const E=[],b=ai.empty();for(let x=v.length-1;x>=0;--x)if(!yA(E,v[x])){const B=v[x];let F=y[x];F=an(F);const X=m.gc(B);if(F instanceof fd)E.push(B);else{const tt=Qc(F,X);tt!=null&&(E.push(B),b.set(B,tt))}}const I=new Pi(E);return new mA(b,I,m.fieldTransforms)}function L2(r,t,n,a=!1){return Qc(n,r.Dc(a?4:3,t))}function Qc(r,t){if(vA(r=an(r)))return jg("Unsupported field value:",t,r),_A(r,t);if(r instanceof zg)return function(a,l){if(!pA(l.Ec))throw l.wc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(a,l){const h=[];let m=0;for(const v of a){let y=Qc(v,l.yc(m));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),m++}return{arrayValue:{values:h}}}(r,t)}return function(a,l){if((a=an(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return EP(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Me.fromDate(a);return{timestampValue:Vf(l.serializer,h)}}if(a instanceof Me){const h=new Me(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Vf(l.serializer,h)}}if(a instanceof Wr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ji)return{bytesValue:Uw(l.serializer,a._byteString)};if(a instanceof Ze){const h=l.databaseId,m=a.firestore._databaseId;if(!m.isEqual(h))throw l.wc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Eg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Xr)return function(m,v){return{mapValue:{fields:{[fw]:{stringValue:dw},[Lf]:{arrayValue:{values:m.toArray().map(E=>{if(typeof E!="number")throw v.wc("VectorValues must only contain numeric values.");return _g(v.serializer,E)})}}}}}}(a,l);throw l.wc(`Unsupported field value: ${Yf(a)}`)}(r,t)}function _A(r,t){const n={};return aw(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):no(r,(a,l)=>{const h=Qc(l,t.Vc(a));h!=null&&(n[a]=h)}),{mapValue:{fields:n}}}function vA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Me||r instanceof Wr||r instanceof Ji||r instanceof Ze||r instanceof zg||r instanceof Xr)}function jg(r,t,n){if(!vA(n)||!rw(n)){const a=Yf(n);throw a==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+a)}}function zp(r,t,n){if((t=an(t))instanceof cd)return t._internalPath;if(typeof t=="string")return qg(r,t);throw qf("Field path arguments must be of type string or ",r,!1,void 0,n)}const M2=new RegExp("[~\\*/\\[\\]]");function qg(r,t,n){if(t.search(M2)>=0)throw qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new cd(...t.split("."))._internalPath}catch{throw qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qf(r,t,n,a,l){const h=a&&!a.isEmpty(),m=l!==void 0;let v=`Function ${t}() called with invalid data`;n&&(v+=" (via `toFirestore()`)"),v+=". ";let y="";return(h||m)&&(y+=" (found",h&&(y+=` in field ${a}`),m&&(y+=` in document ${l}`),y+=")"),new At(ut.INVALID_ARGUMENT,v+r+y)}function yA(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t,n,a,l,h){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new D2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(dd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D2 extends EA{data(){return super.data()}}function dd(r,t){return typeof t=="string"?qg(r,t):t instanceof cd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new At(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hg{}class Fg extends Hg{}function N2(r,t,...n){let a=[];t instanceof Hg&&a.push(t),a=a.concat(n),function(h){const m=h.filter(y=>y instanceof Gg).length,v=h.filter(y=>y instanceof md).length;if(m>1||m>0&&v>0)throw new At(ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)r=l._apply(r);return r}class md extends Fg{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new md(t,n,a)}_apply(t){const n=this._parse(t);return wA(t._query,n),new qs(t.firestore,t.converter,xp(t._query,n))}_parse(t){const n=hd(t.firestore);return function(h,m,v,y,E,b,I){let x;if(E.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new At(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){NE(I,b);const F=[];for(const X of I)F.push(DE(y,h,X));x={arrayValue:{values:F}}}else x=DE(y,h,I)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||NE(I,b),x=L2(v,m,I,b==="in"||b==="not-in");return rn.create(E,b,x)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function k2(r,t,n){const a=t,l=dd("where",r);return md._create(l,a,n)}class Gg extends Hg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Gg(t,n)}_parse(t){const n=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Sr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,h){let m=l;const v=h.getFlattenedFilters();for(const y of v)wA(m,y),m=xp(m,y)}(t._query,n),new qs(t.firestore,t.converter,xp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zg extends Fg{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Zg(t,n)}_apply(t){const n=function(l,h,m){if(l.startAt!==null)throw new At(ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new At(ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lc(h,m)}(t._query,this._field,this._direction);return new qs(t.firestore,t.converter,function(l,h){const m=l.explicitOrderBy.concat([h]);return new pu(l.path,l.collectionGroup,m,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,n))}}function V2(r,t="asc"){const n=t,a=dd("orderBy",r);return Zg._create(a,n)}class Kg extends Fg{constructor(t,n,a){super(),this.type=t,this._limit=n,this._limitType=a}static _create(t,n,a){return new Kg(t,n,a)}_apply(t){return new qs(t.firestore,t.converter,Df(t._query,this._limit,this._limitType))}}function U2(r){return Kg._create("limit",r,"F")}function DE(r,t,n){if(typeof(n=an(n))=="string"){if(n==="")throw new At(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tw(t)&&n.indexOf("/")!==-1)throw new At(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(Le.fromString(n));if(!Mt.isDocumentKey(a))throw new At(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return W0(r,new Mt(a))}if(n instanceof Ze)return W0(r,n._key);throw new At(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yf(n)}.`)}function NE(r,t){if(!Array.isArray(r)||r.length===0)throw new At(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function wA(r,t){const n=function(l,h){for(const m of l)for(const v of m.getFlattenedFilters())if(h.indexOf(v.op)>=0)return v.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new At(ut.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new At(ut.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class z2{convertValue(t,n="none"){switch(Ja(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Xa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw zt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return no(t,(l,h)=>{a[l]=this.convertValue(h,n)}),a}convertVectorValue(t){var n,a,l;const h=(l=(a=(n=t.fields)===null||n===void 0?void 0:n[Lf].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(m=>Xe(m.doubleValue));return new Xr(h)}convertGeoPoint(t){return new Wr(Xe(t.latitude),Xe(t.longitude))}convertArray(t,n){return(t.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(t,n){switch(n){case"previous":const a=Jf(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(xc(t));default:return null}}convertTimestamp(t){const n=Wa(t);return new Me(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=Le.fromString(t);me(Fw(a),9688,{name:t});const l=new Pc(a.get(1),a.get(3)),h=new Mt(a.popFirst(5));return l.isEqual(n)||Ns(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(r,t,n){let a;return a=r?r.toFirestore(t):t,a}class mc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zo extends EA{constructor(t,n,a,l,h,m){super(t,n,a,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(dd("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Zo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zo._jsonSchema={type:sn("string",Zo._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class vf extends Zo{data(t={}){return super.data(t)}}class Ko{constructor(t,n,a,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new mc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(a=>{t.call(n,new vf(this._firestore,this._userDataWriter,a.key,a,new mc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new At(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(v=>{const y=new vf(l._firestore,l._userDataWriter,v.doc.key,v.doc,new mc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}})}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(v=>h||v.type!==3).map(v=>{const y=new vf(l._firestore,l._userDataWriter,v.doc.key,v.doc,new mc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,b=-1;return v.type!==0&&(E=m.indexOf(v.doc.key),m=m.delete(v.doc.key)),v.type!==1&&(m=m.add(v.doc),b=m.indexOf(v.doc.key)),{type:B2(v.type),doc:y,oldIndex:E,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ko._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=hg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach(h=>{h._document!==null&&(n.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function B2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(r){r=Oi(r,Ze);const t=Oi(r.firestore,eo);return w2(ud(t),r._key).then(n=>bA(t,r,n))}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:sn("string",Ko._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class Qg extends z2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ji(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function j2(r){r=Oi(r,qs);const t=Oi(r.firestore,eo),n=ud(t),a=new Qg(t);return TA(r._query),A2(n,r._query).then(l=>new Ko(t,a,r,l))}function VE(r,t,n){r=Oi(r,Ze);const a=Oi(r.firestore,eo),l=AA(r.converter,t);return Yg(a,[gA(hd(a),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,wr.none())])}function SA(r,t,n,...a){r=Oi(r,Ze);const l=Oi(r.firestore,eo),h=hd(l);let m;return m=typeof(t=an(t))=="string"||t instanceof cd?O2(h,"updateDoc",r._key,t,n,a):P2(h,"updateDoc",r._key,t),Yg(l,[m.toMutation(r._key,wr.exists(!0))])}function q2(r,t){const n=Oi(r.firestore,eo),a=Ql(r),l=AA(r.converter,t);return Yg(n,[gA(hd(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,wr.exists(!1))]).then(()=>a)}function H2(r,...t){var n,a,l;r=an(r);let h={includeMetadataChanges:!1,source:"default"},m=0;typeof t[m]!="object"||ME(t[m])||(h=t[m++]);const v={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(ME(t[m])){const I=t[m];t[m]=(n=I.next)===null||n===void 0?void 0:n.bind(I),t[m+1]=(a=I.error)===null||a===void 0?void 0:a.bind(I),t[m+2]=(l=I.complete)===null||l===void 0?void 0:l.bind(I)}let y,E,b;if(r instanceof Ze)E=Oi(r.firestore,eo),b=$f(r._key.path),y={next:I=>{t[m]&&t[m](bA(E,r,I))},error:t[m+1],complete:t[m+2]};else{const I=Oi(r,qs);E=Oi(I.firestore,eo),b=I._query;const x=new Qg(E);y={next:B=>{t[m]&&t[m](new Ko(E,x,I,B))},error:t[m+1],complete:t[m+2]},TA(r._query)}return function(x,B,F,X){const tt=new Vg(X),at=new Dg(B,tt,F);return x.asyncQueue.enqueueAndForget(async()=>Og(await jf(x),at)),()=>{tt.Ou(),x.asyncQueue.enqueueAndForget(async()=>Lg(await jf(x),at))}}(ud(E),b,v,y)}function Yg(r,t){return function(a,l){const h=new Os;return a.asyncQueue.enqueueAndForget(async()=>c2(await T2(a),l,h)),h.promise}(ud(r),t)}function bA(r,t,n){const a=n.docs.get(t._key),l=new Qg(r);return new Zo(r,l,t._key,a,new mc(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){fu=l})(cu),tu(new Yo("firestore",(a,{instanceIdentifier:l,options:h})=>{const m=a.getProvider("app").getImmediate(),v=new eo(new Mx(a.getProvider("auth-internal")),new kx(m,a.getProvider("app-check-internal")),function(E,b){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new At(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(E.options.projectId,b)}(m,l),m);return h=Object.assign({useFetchStreams:n},h),v._setSettings(h),v},"PUBLIC").setMultipleInstances(!0)),Ga(k0,V0,t),Ga(k0,V0,"esm2017")})();var F2="firebase",G2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ga(F2,G2,"app");const Z2={apiKey:"AIzaSyDncYLFNJ_X9cru8qdeXxM53FozAKffdtI",authDomain:"fleetmanagement-c4443.firebaseapp.com",projectId:"fleetmanagement-c4443",storageBucket:"fleetmanagement-c4443.firebasestorage.app",messagingSenderId:"474257135328",appId:"1:474257135328:web:17650daf008e10c21e6285",measurementId:"G-FRYNZNJ5QS"},RA=cT(Z2),Ho=xx(RA);new Zr;const qa=b2(RA),Wg=Y.createContext(),CA=({children:r})=>{const[t,n]=Y.useState(void 0),[a,l]=Y.useState(void 0);Y.useEffect(()=>{pI(Ho,UT)},[]),Y.useEffect(()=>{const E=vI(Ho,async b=>{if(n(b),b){const I=Ql(qa,"users",b.uid),x=await kE(I);x.exists()?l(x.data().role):l(null)}else l(null)});return()=>E()},[]);const h=(E,b)=>mI(Ho,E,b),m=async(E,b,I)=>{const x=await dI(Ho,E,b),B=x.user;return await VE(Ql(qa,"users",B.uid),{email:B.email,role:I}),x},v=()=>yI(Ho),y=async()=>{const E=new Zr,b=await UI(Ho,E);(await kE(Ql(qa,"users",b.user.uid))).exists()||await VE(Ql(qa,"users",b.user.uid),{email:b.user.email,role:"driver"})};return U.jsx(Wg.Provider,{value:{user:t,login:h,logout:v,loginWithGoogle:y,register:m,role:a},children:r})},K2=()=>Y.useContext(Wg),Q2=()=>U.jsxs("div",{className:"home-container",children:[U.jsxs("header",{className:"home-hero",children:[U.jsx("h1",{children:"FleetManagerPro"}),U.jsx("p",{children:"Modern Fleet and Transport Management for Businesses"})]}),U.jsxs("section",{className:"home-section",children:[U.jsxs("div",{className:"feature-image-section reverse",children:[U.jsxs("div",{className:"text",children:[U.jsx("h2",{children:"Fleet Tracking System"}),U.jsx("p",{children:"Track all your vehicles on a simulated real-time map. Monitor their location, status, and routes from a single dashboard."})]}),U.jsx("div",{className:"image-wrapper",children:U.jsx("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxATERUTEhMWFRUVFhISFxcXGR4eFxcXGBUXFhgWFRcaHCggGBolHRcVITEhJSkrLi4uFyAzODMtNygtLisBCgoKDg0OGxAQGzAmICYtMi0tLy0wMi0tLy0tMC0tLS8tLS81LS0tLS0tLS0tLS4tLS0tLy0tLS0tLS0tLS0tLf/AABEIAIABiwMBEQACEQEDEQH/xAAcAAEAAgMBAQEAAAAAAAAAAAAAAwUBAgQGBwj/xABJEAABAwEEBAgLBgMHBQEAAAABAAIDEQQSITEFE0FRBiJSYXGBkdEHFBUyU3KSobGywRYjMzRz8EJiYzVUgqLS4eIkJbPC8UP/xAAaAQEAAwEBAQAAAAAAAAAAAAAAAgMEAQUG/8QANxEAAgECAwQHCAIDAAMBAAAAAAECAxEEElETITFBBRQiM2FxkSMyUoGhscHwQtEVU+E0gvEG/9oADAMBAAIRAxEAPwD7igCAIAgCA+JeEy2yt0jKGyPaLsWAcQPw27AV9D0fCLoJta/c8PHTkqzSZ5bylP6aT23d627KHwr0Mm1qaseUp/TSe27vTZQ+Feg2tTVjynP6aT23d6bKHwr0G1qaseU5/TSe27vTZQ+Feg2tTVjynP6aT23d6bKHwr0G1qaseU5/TSe27vTZQ+Feg2tTVjynP6aT23d6bKHwr0G1qaski0jLQ1nlrs47u9FSp6L0OOrU1YGkZbp+/lveu7vTZU7cF6Da1L8WH6Rluik8tdvHd3ruyp6L0Cq1L8WfojRZ+5i/Tj+UL5Op7z8z6aHuo6lAkEAQBAEAQBAEAQBAEAQBAEAQBAEAQFFwjt0rHwRRyNi1xeDK4Aht0AgAHCprtW7B0YSjOc1my23Lnf8Ao8/G1qkZQpweXNftPfa39m/Bm3yStkbI5shikMYkaKB4oDWgwr0YLmNowpuLirXV7PkSwNadRSU3fK7XXMuliNxglAzKAIAgCAIAgCAIAgCAIAgCAIAgCA8lpawNltUlaCgYa0B/hAXp0ajhRR5deGes1fQg8gR7/wDKFPrD0K9h4kFt0PGxhcKGlP4RvUqdZylaxCpSyxvc7tO22y2YsDrMx98E4NYKUpvHOqMLhqmITana3masZi6eGcU4Xv5FX9qLH/c29jP9K1/4ut/s+5j/AMvR/wBf2H2osf8Ac29jP9Kf4ut/s+4/y9H/AF/YnsOn7JJIyMWRoL3BtbrMKmlfNVdXo+rTg57Tgr8yyj0nSqVFBU+LtyJNK6askMrojZGuLaYhrKGoB3c6jQwNWtTU1O1/MliOkaVGo6bhe3kcn2osf9zb7LO5Xf4ut/s+5R/mKP8Ar+w+1Fj/ALm32Wdyf4ut/s+4/wAxR/1/YsdB6SstpkMYsrG0aX1LWHIgUwHOs2KwlXDwzud99uZqwmOpYmeRQtuvyPXsAAAGS8w9QygMEpcGmt3An4bdvUoZ78CWXUcbmHv2Do21Ttvw+v8AQ7Jm4eUfdvru6kyvUXWgEQ5+08/PzpkX62MzMalu790p8E2cf30Gdgwt/ZO4D6BHTiM7M6sbz2nfVMi/WMwDDyj105/31JleoutDFXDcfds707S8foOyzOsG2o+GwZ9aZ0uIy6GwKknfgRMroCAIAgNXvAxK6k2cckuJWab0fHaoXRk0PnNPJcMj0Zg8xWnDVpYeop+vkZMVRhiabh6eZ06I0eyCJsTMmjE7STmT0lV160q1RzkW4ehGhTVOPI7FSXmk54p6FKPEjP3WbqJIIAgCAIAgCAIAgCAIAgCAIAgCA8rpIyeNSXC0G6yt7oC9Kjl2KzHl1s22eXwNK2nlRqXs/Eh7XwOe3mbVm+WEYZZ5qdPJm3XIVM+V3sd/CCxWeR0eubI5wa66I92Fa+5Z8JWrU1LZtW53NWMo0KjjtU78rFX5CsXorV2HuWvrmJ+KJi6lhPhl9R5CsXorV2HuTrmJ+KI6lhPhl9SSy6LsccjXtjtN5pDm1BzGOW1RnicTODi3GzJ08Nhac1JRldbyW3aPsksjpHw2i86laAgYADLqUKVfEUoKEZRsiVbD4arNzlGV35nP5FsGWqtH+ZW9bxXxRK+p4P4ZfUz5DsPobT2OXOuYr4o/QdSwnwy+p36CsFljlOqZK15YfPr5tRkDzgLPiq1epT9o01flqasHQw9OpemmnbnoenLgBU4Bea2krs9NK/A1qTlhznryHYo3b4HbJcTIjG3E8/V3BdUFxYzM3UiIQBAEAQBAEAQBAEBoYx0Hm6+3MqLguJLMzFXDnHv2du07FztLx/f3+huZu1wOSkmnvRxqxldOBAVr8z0laFwMb4mq6cLRZjaEBx2mWuG73q2EeZnqTvuJLNKThu2qM423k6c77jS1aTgje1kkrGudkCcTsHQpww9WcXKMW0jk8RSpyUZSSbOtUlwQBAEAQBAEAQBAEAQBAEBGZ2cpvaF3Kzl0eY0jR1pkwY4XWeccMhkvRpXVJcfkeZW31nw5cTTVDkQdv+ylmerIZVojnt8YEZ4sQyxacc9mCspvtcWV1F2eCLu0vAtEJJoLkmfQFhpJulK2qN9ZpVYt6M72ytOTgesKpxa5E1JPgzeq4SOeJwNZHGgyFdjd/WfopVJKEbN2txIU4ubuufAlina7zXA9BVNOtTqe5JPyLp05w95WNCfvR6h+IV/8PmUfz+RMoFhXn82P0T86tfcfP8Fce/8A/X8lnrY8KubUc4WbJffY15vEla4HEGvQgMoAgCAIAgNTIMtu4dfcVFzXA7lZrfdsb2mmyvPtwXM0nwXqdsubM0dvHZ0c/SnaHZF08r3c/dglpai60Fw8o9g5/wB9SZXqLrQwWu3jrHN078UtPk/oLx0M1duHb0c3SnaHZMOmpmCP/p3fvFdUne1jjsle5GZmHEOod/eNq7kzb4nNoo7pEzHVFV1X5i6fAxNJdaTuUoq7sRnLLG5WNlvE4LQ42MUZ5mzZcJFg6VowJWdRbNbmlxAnbvXcrObSJxz+celWx4GefvMksWZ6FGpwJ0uJQcINGTuncI2tcy1BkcjiKmK4MwdlW5c4XoYSvTVJObs4XaWt/wDv0PPxmHquq1BXVSyb0t/z6nqWNoANwAXlt3dz10rKxXvOJ6Sr1wMj4nbZfNHX8VTPiaafukqiTCAwTTNAGuBFQajeF1pricTT4GVw6EAQBAEBQ8O53M0faHMJa65SozFXBpoeglacHFSrxT1KMVJqlJo+YcFOBsVqs+tfI9pvObRoFMKbxzr2sRi5U55Ujx6OHjON2z1FisTLINS0awNGBeBXjEu2dKocnWWZ7vIk0qcrWv5nT4+PRR9ijsn8TG1XwojtFrDmkatjecDFSjCzvdkZVE1ayPTzfmIfUk+AXmU+6l5o9Sr3sfJna6FhzaD1BQUpLmScIvkc09nZUNa0AnEkbGjPtyVkZytdsqlCN1FL/wCFfpOIa1jCSGGm00zI25bO1fP9KSdTEU6dR2j+/vzPa6PgqdGc4K8jS0QNilj1TjUmhFa0qQO/PcqKtOnhsVT2HPir3/bltOc6+Hntfk7fvA7zGa3bvHrev4ZV87fzUX1N17192h89Z+7bfqdWrfy/8oVWaOn1LcstfocbARahU1+5Oyn8asm06O7X8Eaaar73y/J4q2eDuBz3vM0lXOe7Ju0k7lvhjpqKVkY54WLk3cj8DEztZaI7xuXWOu7L14ioGw0+ATpVLLGXMn0a3eSPqi8U9YIAgNDJsGJ9w6T9M1Fy32X7++pLLzZi4T5x6hls7cveuZW/eGa3A3AAyUkkuBxu5ldOBAEAQBAEBWactLmNBawvOQA59p5lXWrTpU3KEHJ6L94CFKNWoozkorVnn7Rrs7RaBCDjcZ53ux+K8urt7ZsVWVNfDHj/AH9zdT2PDD0s/jLh/X2Odklh/intFd4P/FYZSwN+9m/H9RuhHF2304Lw/WdURq0+L2wv/py5norj2BasNmcl1Wvd6S/7v9EZsTlUH1mjZax/fydmiJ3uvB7Cwig/lPQvbw2IrVU1Wp5WvR+X6/M8WtQpU2nSnmT9V5/q8julkotkVczTllNxOX4kU2KOXLuJKpn3mWOFRjtCNbjqaubSuBcab1yK3EpNOTsS2LM9ChU4E6XEmnmu7FGMblk55SB8hLcd4U0kmVuTlHeQKZUYe+i6lc5KWVbxZ7bdOIwKSpXRyniMr3os43hwBGRWZqzsbYyUldHl+Gzhes4lLhZy92tu1xNAW1pjTzl6nRqdpuHv23fk8rpRq9NVPcv2vwRcETH4zOLMT4sGsIrWgf8Ay3seV7uZSx+bYwdb37v0+RDo7Iq81Q7uy14+Fz168g9oIAgMF1EscbsRul3KaiQc9DznD8/9utHqN+dq1YNe3iZsU/ZSKDwafkR+pJ9Fsxve/IyYbu0XQha6d94A8VufUqszVNWJZU6juYlZGCaRNIb5x7l49fpStCc9nByjD3ne3juXOx6VLo+lKMc8rOXBWv6mukrPGIi5rQMqGm8hevh6zqOLT3PeebiKSgmrb0W835iH1JPgFlp91LzRrq97HyZ3k0xKqJkVmBNXnN3ubsH161Oe7srkQgr9p8yDS1l1jP5m4j6jrXndIYTrFLs+8t6/r5m7B4jYz38HxK3QkDQdY8gUwaCdu0/RYOiMDJvbSXl+X+DX0li4pbJPzLM2qPWVvCl2nXVfR7OWS1uZ4e0jnvfkbHSEXK9x7lzYz0JbeGpywztfagW5aoj/AD/7qVSLjRs9fwRpTUq11p+TMm3rUo8DkuLPB+Br8xafUZ85W7pX3Imfo33pH1heIeuYJRuwI8Xcw95z7Bljmq98vL7/AL6k90fMkAU0rELmV0BAEAQBAQW+1CKN8hBIY1ziBmaCqspU3UmoLm7FdWoqcHN8lcg0TpDXNcS265jrhAcHNrda6rXDMUcOuqnXo7Jqzumr8LeHArw9fap3VmnbjdcnufzN9ITuaBd2qNKKk94xFSUFuI5XEhhOZaCpRVmyMndRb0KO3WJkZMjIRI9zq8c1A5wCvLr4GNNurRpZ5t83w9TdSxjmlTq1MkUuS4+hA6a2Ef8A4jLi4qKfSS/1rw3iX+Pkv5vx/f6NobHrWnXQtaW0o9poXY82PaV2nhHipNYqiotc4vj6b/VieKWGgnhqrktJLh6/hFpZRn1L2pKySPIpu7bFpOPUuw4HKvEWY4pMUnvNZ/OK7HgRqe8SWbaozLKXA6YpC3JVONy+MnHgR2i11OWSnGnYhUr3ZvE+rD0j4KMlaRKMs0L+JHI6gqpJXZGTsrkMklW5bR9VNKzKZSzRIVMqLB8zmxxkFUKKlNpmyU5QpxaJtI2Fk8Jjfk4Z7Qcw4c4KhRqyo1FOPIurUY16ThLmR6D0UyzQiNuJzc7lOOZ+nQApYnESr1HN/LwRHC4aOHpqC+b1ZYLOaQgInS7lJRIOehGSpkDCAoOH39nWj1G/O1acH38TPie6kUPg0/Ij9ST6LXje9+Rlw3dovofx3+q36Kh92vMmu8fkZtFkJdUGgPndS8LGdHTq11KDtGXv79PvfgexhsbGnStJXkvd+Zrpcfcu6viF7uHSUkkePiG3BtnbbWEzxBrrpuSY9iootKnK65o0V03Uik7bmbz2V9BWRxqWtp0mm9djUjfdEhKnK2+RmSyMFL8pFcquAr0VXFVb4RO7Fc5MkGjIuc9a5t5nerwNxYIuT7z3qO2nqS2MNDUWZmspdFLlctt5SzyyXvzObOOe1uROIGDJrewKvPLUsyR0OOn/AFY/RPzqyXcfP8EId/8A+v5NJNvWpx4EJcWeD8DX5i0+o35yt3SnuRM/RvvSJbb4V5BI4RWdpYCQ0ucakA0qaCgruUYdFJxWaW8lPpKzaUQzwl2t1QLNEbpoeOc1P/EQf8mVvpe38RaPCda2CrrNFQ4eeT8EfRMV/JiPS2bhE9RwF4X+PiQOj1b47pNDVpa6tCK4g4HDoWDGYTYWs7pm7C4rbJ7rWPVrEawgCAIAgI7Q9oab2IyI6cFKCbe4hUkoxvLgVIhiZA1kLbrGuIpzmpPTmtWec6jlN72YZRpxoqNNWSZF/D1j4FT5lP8AE67U8hsdOSPgqYK7fmaasnGMbaHJNJxakgZ9CneMLtuyKe1OySuyjkbYSSSRUmuF6nPlgvnai6HdW7au9L2+m496nLpZU7JP52v9d5d2eVhj4hBAGzLPJe9SlTmlKm048rcDxainG8aiafiS2Xb1K2ZClzNbTn1JDgcq8TWN9DVSauQjLK7mHuqaolZCTu7m0MlFyUbkoTymXTGuGS4oLmddR33EZKmVt3OiCZoYQc619yqlFuVy+nUioWeokeC00XUrM5OScdxCPN6x9VPmVfxNF0idlp/Cj61TD32aavdRIbS43jju+AU4LcV1G8zLGO2NF1prWjR2gLO6bd2bI1oq0Xx3HWqjQEByq0pCAICg4ff2daPUb87VpwffxKMT3Uih8Gn5EfqSfRa8b3vyMmG7tF7EPv5PVaqX3a8ya7x+Ri0WizscGPla1zsmueAT0Aos7V0g4wTs2Y0pGBC6nN8Qu0neaI1YpU3Ys5vzEPqSfALJT7qXmjZV72PkzptZoG4V4ww35mijDn5CfLzPl3BfQI0sZ7Tapn3710NbTi1F4YGtGCtAMMivXxFfquWFNbjz6NLrF5zZfeC63Sltos736xsDw1j8xQlwoDyeLUdKzdIQinGaVm+Jfg5PtQe+x7pecbTmkDtZxSPMGeR4x7FarZN+pU7592htryPOaRzjEe7H3LmRPgzudr3l+TkZIHWoFpqNSfnU5xao2ev4I05J17rT8mJNvWpR4EZcWfP/AAQn7+0/pt+crf0n7kfMy4B9qRY8COCthnsbJZog+Rzpam84ZSOaMA4bAFXi8TVhVcYvdu+xOhQpyheS3l6OAuizlZwf8b/9SyLH1nwl9jQ8JTXGJBPwM0W1wGoGfG4z8BQ58bDGithiq7Td/LgVToUU0reZjgnYIbPpG2RwtusEVlIAJOYcTiSuYmcqlGDlxuy3DxjTqSUfA9lrQsGU150YMyZRnNfGWruRnNqjV1r3Bd2ZF1tERm1O5lLZoi6rI5JC4UOSkklvRCUnJWZHdFKbM+tdvvuQyq1hcG5duxlRlwrSuNMAuLcdavxPGaft5fIWNwYwkADaciSviumMfOvWdNPsp283r/R9V0Zg40aSm12nv8lp/ZvHwcnLb3FBzuk4/CgXYdBYmUM25PTmcl0vh4zy7348jksVqfBJiDgaPbvG3rWXCYqrga+/k7SX79DRicPTxdK3o/36nuYw3MbaFffZsyufG5MrsHxg5rqk0ccE+JrqBzrudkdlEx4uOddzs5skY8X50zjZeJr4ud67nI7JmDAeZM6ObJmNS7cu5kc2chcdSlEuuJ3LK1jFx25Lo5llwGqduTMhklobalyZkd2cgLOeZczo7smTGPjA7rvuA7lC+6xZk7Sfl9DqNpdzKvIi91ZGmudvK7lRzPLU1vneu2RHMxfO9LIXYvHelhdlDw6P/b7R6rfnatOE76JTiO7ZUeDT8iP1JPotGN735FOG7tF9D+O/1W/RUPu15k13j8jw/CiFzLTPEbO2Z1suCGQ5sIAaQMP4TQ4U2VW2g7wUs1svFFFXdJq178D2VtiLLMGk3i1sbSd5FASslN3qXLqqtTLab8xD6knwCyU+6l5o11e9j5M6rT/D67fqow5+Qny8z5Dw90DLZrUXQXhHaSboZXzyeNEaZ4moG402L28HXjUp2nxj+3PMxNKUJ3jwZ9H4GaBFjsrYzTWO48hHKIyHMBQdu9eViq+2qZuXI9DD0tnC3MvVmLyEfin1B8xU/wCHzK/5/ImUCwrz+bH6J+dXPuPn+CuHf/8Ar+TSTb1qceBXLiz514KJg2a012xt+Yr0ukIuUYmHBzUHK5ecFsNGQUAF584LqY4TP2/vJfN//pK9SEskXZOyfoj3ehaMJLNJXa4epd6QsTYQ1zHGpNM88K1FNnevFxOHWByVaMt9/X/n9np0KzxeanUju+3/AEtS1zDRtCHmnGJqDd27xQL6lNTV3yPn2nB2XM87o12r0naxn9zZR7nLTNZ6EX4soUtlNrwR6A2vpWfZlm3Ma8JkZzaRNhI3euZWSU46mwK4SJoIwQSdlFCTa4FkIpreb6tnOuXkSyxGrZzpeQyxGrZzpeQyxM6tnOl5DLE+dTt1VoN4VuSVI3gOr7wvgqt6GLbkuEr/AFufXwtVoLLzj+D30Vogc2+HC7nWow6dy+3hiYThnUlbU+VlhnGWRxdzwem52STvdHi0kAc9ABXroviuka0a+JlKHPd58j6jB0nRoRjL95nvbHZ2tjY01q1rWnpAAK+2oRlTpRg+SS9EfLVsk6kpLm2yXVs51beRXliNWznS8hliNWznS8hliVvCG2izw61rb3Ga2hNM+ei04SltqmRu24y4yqqFLOlfeUUHDKI+fG9vQQR9Ful0XNe7JP6Hnw6Ug/ei19S2sem7NLg2QV3O4p7DmslTCVqfvR/Jsp4ujU92X4LBZzQEAQBAEAQBAEAQHLrnK3IjPtJDXuTIhtJGdeeZMiG1kUnDaYmwTj+VvztV2GilViQrVG4NHB4NPyI/Uk+itxve/IYbu0XsX48nqtVL7teZNd4/Ilc1xIJY0ltS0nMVFDTdhgo9nU72tCDShOpdUUy+IU6Vs6sQq32buWNpYDaIgRUXJPgFlpNqnJrVGusk6kU9GT2izMF2jR5zR2lITk77+RydOKtu5mz7BCaVjaaG8KjIjaNxUdrPUlsoaG3icfJC5tJajZQ0HicfJCbSWo2UNCJtmZrCLopdafeVNzllvfmQVOOe1uRKbIzYLp3jAqO0lz3k9nHluOKB5NpFcxC4HpElCrKitR3a/ghRd62/T8mZNvWux4HJcWfNPBj+NaPUHzFerjfdieZQ4s9dwGia/RUTSQDenIqcjrpKLxemMN1iUoeVvOx7HR2I2KjL18rnVoyFpkq8gBm85nYBzbV8v0dgKlStea3Qe/z0/P8A9PdxuMpwp2i98vtqXE9sjqzjVo4k58kj6r6uNOVnuPnZ1YXW881ZpA7SdrIyMVm+DlqyuNCKerM05KVRteBdKo4EAQGQUO3LDR7iWurzLPVVmjZh23F3J1AuCAIAgPLcMdH5TNG5r/8A1d9OxfNdO4ThXj5P8P8AHoe30TiONF+a/K/J5ZfNHtl5wV0drJdYRxY6HpdsHVn2L2uhsHtau0lwj9+Xpx9Dzek8Ts6eRcZfb93Htl9gfNhAEAQFDw4aTYyAK/eMy61v6NdsRv0Z5/Sibw27VHzzUv5Luwr6HNHU+byS0Y1D+S7sKZo6jJLR+hbaJ0zaYSBRz2clwOHqnZ8Fkr4WjV37k9f7NdDFVqW7e1o/wezgtt9oc3IiuWPQRvXiypZZOLPYjWcldEmudvUcqO7SQ17kyI7tJGdeeZcyIbVmRaDuTId2rNhaOZcyEtr4GROOdcyM7tUZ1zd6ZWd2kTlVpmCAICl4afkZ/Vb87Vfhu9iQqe6zk8Gn5EfqSfRSxve/Isw3dovofx3+q36Kh92vMmu8fkU+ktJSh81JmxCGl2MtBMmFczjjlgttGhBxheLebnoYK+IqKU7TUcvLX98C00g8us94ihIYSN1aGiyU1arbzNtR3pXZZWp1LRFgTxJMB0DestJXpy80a6ztUj5MmtBkIBIa0Xmc584dSQy313MjPO1pvRNqXbZHdQaPooZloWZXr9hqnekd1hvcmZafcZX8X2FyTljrb3FLx0+otPX6ETdZrD5pN1u8YVPSpvLlXEgs2d8OBLrJOR2OH1AULR1+hLNLT6ldZD/1RwpxH4f4xuV1XuV5r7FdDv35P7kkm3rSPAS4s+aeDH8a0eoPmK9XG+7E8yhxZ6/wd2KN2j4nOFSXTbf6zwsGNqyjWaXh9jfh6MZU02enFhi5I9/esm1lqaNlDQ0ls7A5lGjEnZ/KVKM5NPeRlCKkrI8zEANKWunorL8HLUn7CPmzLVVqj+RcKsiEAQBAd+jfNd/hVFXijZhvdZ0qsvCAIAgNJomuaWuFQQQRzFQnCM4uMuDOwk4SUo8UeCteh5Gz6kCt48U727z0behfE1ujasMTsIq9+D8P+cz6mljYTo7V8uPn+8D3Gj7G2KMMbkMzvO0lfY4bDxw9NU48j5qvWlWm5yOhaCoIAgCAo+Gsrm2SrSWnWMxBodu0Ld0dFSr2a5M8/pOTjh7p80fP/H5vSye2e9e/safwr0PndtU+J+peaN0NbJomSi1XQ8XgCXkgc5vLzamLpQm47NbvL+j1KeCqTgpbR714/wBmbToO2MdGPGq6x+rHn4cRz6njfy+9cjjKTT9mt3l/RJ4Gore0f78zs0C6Vkktnmdeey68GpIc1wzBONMsNhqq8Q4ThGrBW5MUYzpzlTm780/Au1kNIQBAEAQBAEAQBAEBS8NPyM/qt+dqvw3exIVPdZyeDT8iP1JPopY3vfkWYbu0XsR+/k9VqofdrzJrvH5HPb9GwyyskccW5jlAYgHoKupV6lODguf0KKtClUqRm3w+pPpV4MLqc3xCqoq00XVmnTdjvtcrWzxFxDRckxJoNizUouVOSWqNVaSjUi3oyS1W+EtwkYcWHzhscOddhSmnwZGpVg47muX3JvKEHpY/aHeobKp8L9Ce1p/EvUeUIPSx+0O9NlU+F+g2tP4l6jyhB6WP2h3psqnwv0G1p/EvUhbb4dYTrGUutHnDe7nU3SnlSsyCqwzt3XAm8oQelj9od6hsqnwv0J7Wn8S9SvsUrXWolpBFx+INf4wrq0WqKvqvsVUGnXdtH9yaTb1rkeB2XFnzTwY/jWj1B8xXq433YnmUOLPceDb+zofWn/8ANIvMx3fv5fZHp4Xul+8z0yyGg57VW8ylK1dnl5pVkLWdyqd7xseVs5PlO11pXVWbLLJy27thG2rMlS+0d/AuVURCAIAgO/Rvmu/wqirxRsw3us6VWXhAEAQBAYoM9q5ZXuL8jK6AgCAIAgKDh1+TP6kf1W/oz/yPkzzulf8Axvmj50voz5o9rwe07ZGWWFj5mNc1gDmk4gjYV89iMPVdWTUXxPpKFekqUU5LgjfSOnrI58BE8ZDZrzschqpBU9ZA61GGHqpS7L4flE5YilddpcdTmfb4ZNIRuhka8OhdG66a0LXFwr2+5XQpzjh5KStZp/gy1akJV4uLvua/JerKXBAEAQBAEAQBAEBz2q3RR01jw2taV20zVkKU5+6rkJ1YQ952KPhTpCGSyTRxva57mgADbxmnb0LTQw9WNRNxKZ4ik4tKSOfgJbIobJcleGOvvNDuNKHBdxWHqTqXjEnQxNGMLOSLKXTMTZXOa5rgQBnTJQWFqOCTTQeLpqbaafzH2gj3R+0E6nPxHXKfh6kVq02x7C3iCu5wUoYWcZX3kZ4uEo2uvU9KNJ2R4BvxuphiK09y8t4evB2s0eusRh5q+ZMz41Y/6XsjuTZ4jx9RtMP4eg8asf8AS9kdybPEePqNph/D0HjVj/peyO5NniPH1G0w/h6Dxqx74vZHcmzxHj6jaYfw9CDyro7lw9g7lZ1bF/DIq63g/iiPKujvSQ9g7k6ti/hkOt4P4om0emrA01bLEDzUHwC48JinxiySxmEXCcTjk03ZcfvW7d/ctKwla3usyPGUL++jwfAIiCSYzEMDmANJOZvE7F6OKpTnFZUYKVemm7sm4M8P2WWzMgMDnlhkN4OABvSOflT+ZZ8RgHVqOdzZSxkYQUbF1ZvCY19btleaYn7xvcql0VJ/yJS6ShHijmf4Uoy5p8Wfxa/xjaKcldXRskmsweOi2nY34LaZFrtlpnDCwOjgbdJr5t4ZpWoulSjBvmyKqqpNyR6xZSQQBAEB36OIuuxAyzVFXijXhuDN/G4vSx+2O9Qyy0ZfdaoeNxelj9sd6ZZaMXWqHjcXpY/bHemWWjF1qh43F6WP2x3plloxdaoeNxelj9sd6ZZaMXWqHjcXpY/bHemWWjF1qh43F6WP2x3plloxdaoeNxelj9sd6ZZaMXWqHjcXpY/bHemWWjF1qh43F6WP2x3plloxdaoeNxelj9sd6ZZaMXWqKjhXpCNtmqDHIb7eLUHeK0C2YCnKVa29bjF0jUUKF9z3o8Z5YHoIvZXtdWfxs8LrS+BGg05xqeLR9N0U706s/jZ3rCtfKjfywPQReynVn8bI9aXwI7ND6TDp2N1Mbak4tGI4py/e1U4mjkptub+Zdh6+eokoL5HrF5J6YQBAEAQBAEByX5+QewqzsakPaaC/PyD2FOxqPaaHLb7G+Zt18ZNMQQCCOgq2lVVJ3iyqrRlUVpRK/wCzY5En76lo6/LVFHUVox9mxyJP31J1+WqHUVox9mxyJP31J1+WqHUVox9mxyJP31J1+WqHUVox9mxyJP31J1+WqHUVozLeD1MmyjoP+y48a3xsdWCtwTM+QDul7T3LnXPL0O9Ufj6jyAd0vae5OueXoOqPx9R5AO6XtPcnXPL0HVH4+oOgDul7T3J13yHU34mv2bHIk/fUpdflqiPUVox9mxyJP31J1+WqHUVox9mxyJP31J1+WqHUVox9mxyJP31J1+WqHUVox9mxyJP31J1+WqHUVozhk4DQkk3JRXccPgo9deqLVh5JcGZh4FRtrdEwrgaH/inXXqg8M3xiafYODkTdv/FOuPVHdhL4S40LofxVpbDEReILiQS40yqd2eCoqVVUd5MnGE48Illfn5B7Cq+xqT9poL8/IPYU7Go9poL8/IPYU7Go9poL8/IPYU7Go9poU/Cya0iyS3GOq4BmDTWjnAGlOYlW0FT2iuyM9pbgfLvJk/oZPYd3L1dpDVeplyT0Zx2glhLS0hwzBFCOkFY8Tj40nljvf0NVDByqb5bkRNn3hZodKSv247vAvn0erdl+p3Q2GVzQ5sT3NORDCQeggL1I1qcldSR57pTTs0zfyZP6GT2Hdy7tIar1OZJ6MeTJ/Qyew7uTaQ1XqMk9GPJk/oZPYd3JtIar1GSejHkyf0MnsO7k2kNV6jJPRjyZP6GT2HdybSGq9Rknox5Mn9DJ7Du5NpDVeoyT0Y8mT+hk9h3cm0hqvUZJ6M2bDPDV5Y9mFLzmEDEjDEUXHVgle/1Gyk9zRA7Tc2x3uHcvLqdKO/YW7xN0OjIW7f0N49MzHC/TqHctGGx6qvLLcynEYBU1mjvRaw6ZZdF4OrTGgGfavTzHlOg77i84K2wS2hoiaataXmozAIG/eQvNxtGE6ftZN2kpLgrPfbhxXmb8JKdOd6UUrxcXxd07Xe/hw5bj3V+fkHsKw9jU1e00F+fkHsKdjUe00F+fkHsKdjUe00F+fkHsKdjUe00F+fkHsKdjUe00F+fkHsKdjUe00F+fkHsKdjUe00LlZDeEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQGQUB+c5XufaJHSYuL5HOryrxrX39ipL0azVLCXAAg4ID6p4H5nmxPBrdbM4N5gWMcQOsk9asjwK58T3VVIgKoBVAKoBVAKoBVAeK8LjneICmRmjDuYXXn4hqjJ2RKK3nyWCoZVoqa4/vsVZaR2ttHCgxwwG9dTad0GrqzPrLPBlZqCs0wNBXzf9K9X/I1NEeb1KGrLXg5wNgscplZJI5xYWUddpQkGuAGPFCpr4uVWOVpFlLDxpu6PSLKXhAEAQBAEAQGaIBRAKIBRAKIBRAKIBRAKIBRAKIBRAKIBRAKIBRAKIBRAKIBRAKIBRAKIBRAKIBRAKIBRAfNOG3g9lkldaLHQl5vPiJDTeObo3HDE40JGNegQcSyMtTztg8H+k5XgSR6pu18jmkDfRrXEuPYOcLmUlmR9d0DoiOywMgjrdaMSc3OOLnHnJ7lNbip7ywounBRAKIBRAKIBRAKIDi0xoyO0wPglBuvFMMwcw4c4IB6lxnVuPkGkvB7pKF5ETNczY+NwFRsvMc4EHtHOoZSxSRecDfB3M2Vs9sAaGEPbFUOc5wxBeRUAA40BNebb1ROSlofUKKZWKIBRAKIBRAKIBRAKIBRAf//Z",alt:"Fleet tracking"})})]}),U.jsxs("div",{className:"feature-image-section",children:[U.jsxs("div",{className:"text",children:[U.jsx("h2",{children:"Driver Management"}),U.jsx("p",{children:"Manage drivers with ease. Assign trips, view performance history, and handle communication  all in one place."})]}),U.jsx("div",{className:"image-wrapper",children:U.jsx("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxITEhUTEhIWFRUVFRUVFxUWFRUVFRUXFRUXFhUWFRYYHCogGBolGxUVIjEhJSkrLi4uFx8zODMtNygtLisBCgoKDg0OGxAQGislHyUtLS0tLi0rLS0tLS0tLS0tLS0tLS0vLy0tLS0tLi0tLS0rLS0tLS0tLS0tKy0tLS0tLf/AABEIAK4BIgMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAAAAgMEBQYHAQj/xABHEAACAQIDBAUGCggGAgMAAAABAgADEQQSIQUGMUETIlFhcQcUMoGR0hYjQlJUkpOhsdEVU2KCosHh8BckM0ODlDRyRHOj/8QAGQEAAwEBAQAAAAAAAAAAAAAAAAECAwQF/8QAKxEAAgICAQIFAwQDAAAAAAAAAAECEQMhEjFBBBMiUaFhcYEyUrHwkcHR/9oADAMBAAIRAxEAPwDjE9BiZ5NjKhy8DEgz2MVCTPI4EMUKURVjIEVljwpxS04ULkNIg7fUI9T4xZpx1cORx0lJEtnZdgY8GhTa/FFP3Sq21v1SpkrSXpXGhINkB/8Abn6pmsFXqPhkpU72BYMe6+i35aGU+0tmtTOYcOY7D2xpbJctFhi968Q7ZujpjwU6+PWlvsLfFxUUM4pqfSQrdP3SNQT3zJI9hr/WIwmEatVA1ABBJj4JbonzXLVnX8BvNTxKE0ydCQQeI7+8Gcu3hr9LiarftZR4LpNC+G6IZ6RyFVPgQOIPbMfnJJJ4sST4nWSUMVaNjdR6pNp08o743SBLAAcx+MkYmmysVYWI4ykJjDrGCtjJMbqDWDEhAE9noEIhnoihPBFCAHsIQgAQhCABCEIAEIQgAQhCABCEIAEIQgBnxCKAigsijWxuP4dLmICyVQEaRLY6tHWL6KLPI+qOLKJIppzwpJLLF0KV41G2Z5MnBWR0TUSVUZmtc3sLDuE1GJ3UCU6h6QmrSppVqUzTIQI+T0KuazMvSJcWHE2JtaVuzsMhLlghypdVeoKasxYLYksvAFmsCPRmkYo5p5ZN0W2wdm1KS9dQM5upuDewW40Olsy+2WH6OFaqlM3s7Kulr6m2l+cNmYou1NKhp5VpsgJxKt0ZLswyDpj1est7gnq+Edwm0Fo1qVZw2VKiMQoBY5TewBIHLtgo7Jlk19Ct2hutkpK+SrRNnJpVvTKqUGZSEXTrjQgcDa8b3fwJZKr3W9NlzC/XysQobL80GwJ7xNTvpvnSr0wKVNwSpXrhRbUHMMrG+lxbTkeVpit2sYaeJDWzCzBlPB1PpKe4i8ppuGyIyj5npdosttDo6TF1NmUheIDX6twedj2THphzYHTX2zYbx7wVMhpkIyVAyhGUMtIcjRHyGGgB9tzrIOz9jKtDzus9M0wyqKSOGqs7AsqOB6AKqW1N7SEkupvOUm9FRitn1aaI7IQrqrKeRDZsuvacjG3ZIvT6WOv4y42jj62JZQzMwFglMXKoALBaaDQaADQXMVtbdbEUFL1FGVWCkqwexIvchfRGltbaxuPuKGR9uhnS88EU66xImTOqLsVeJMDPCYFDlOLiKcXAR7CEIAEIQgAQhCABCEIAEIQgAQhCABCEIAUqrHAsUixzLEUMZZIpiICyVSpwAOR9sVSeTcJlUNmQNmUgXuMp7RaV1LQkdhjEPkXkvZVYJURjwDKT4AgmM4auyG6mxsR6joY0JUXRjmi5I7VtXygYN1xNqtUirh+iSkaZAR7VQWvmt1ukW9vmDjOO1nuYlybRvDG8uKS0jnycnuRabHHxiHvt7dJqcbs2rUZVRGYDUkA27Brwju7WzsIlFa9Vw5PBTwVh8nLxY+Omo8Ze4jeJ6j5aFPstoWb1KvD75tGLb0jiy5IxVSfXstsz67oYp9TTt3Zk/ORaG7OIp1QTSa2tyLNyPzSZtaJ2hb0WH7tMW9R1kY4/F0nBq0zlvqWSw+suktxb7owjljF3U19WtHOt4VvUK29DT18T/fdKl8VUyCmXbIpLBMxyBjxYLwB750/EYvC4vq1kCueBJAOvDK/8j985vvHhUpVWpo+cKbZrW8R6uHqmMlR3Ypctp2mS91NrrQxNOs+Yqpa4S2axUrz48eEvfiMMmIK4sVjVRqKikesc4v0lQnstxF/SMwdNtZOwgLaTPqdHGugh1jbLLTG7OKLeVbGKRvj6DA4megRSLxPfPSJBqCRcQojkBBCEIAEIQgAQhCABCEIAEIQgAQhCABCEIAVyxYEYVpIptAoXTp6yXRSNUhJSCACwJW1f9Q9+ssrytrt8avLlACUiRRpyXVwwRsodXtbrLwOk8KRrqRJ6G2p6eqQ6RytLzDuE1yhrqRY8NRxlM6XJlxOfJvRpdiBbh6l+jDKHykB7HjlB4zoo3jw9H4rCUwwHyhopPj6TnvPtnIcJV0HaNJuNxN4KWHqOalHpGZeowtmVhyF9ADfiNdOc301dX9DzmnCTSaV96ujWDH7QfVKTAd1I29WaNV95q1HTEUuOlrFHPaQDoRJtfe+qFNQimqjUixYm/BQbi5PhKjE+UKnUo1KeIwyucpyDihblmB1W3G4N9OUTutwX4FFK9ZpX9VplBvtjcE6I9AWdrlwBlUD9teTX7O866TneIa+sm7Tr30HrkEg2kT1o6cMb9TVWNKNY/SrFdREqmsXi6WXmDpfTv5TJnamP19pM4sTIZa9+6MgE8IhomzSKJlEdWePpF0zpNP5M9iJi9oU0qAGmgas6n5YS2VT3ZmW/aARzkt0VVjOxtxMfiKYrJSCUiLipWcUla/DLfUg8jax7ZH3g3VxmCt5xRKqTYVAQ9MnszLwPcbGdX8rlXD11pYI4kU6wcVghp1HQrkqL1ygsp4kceHDW8vN0quDxuzlw61POKaUkw9UujIxKouuVtRyIIJt23Enk6srim6PnOEk7Swho1qtEm5pVKlO/bkcrf12kaWQEIQgAQhCABCETnHaPbAQqTtj7HxGKqdHh6TVW4kLayjtZjYKPEyvLjtHtn0RulRw2y9l06tVlphkSrVexJapUANrAXa1woA5CTJ0XFWcnxXk32kilhSSpl9JaVRXddL2K6EnuFzMkykEggggkEEWII0IIPAzqHkt2jgcLi618aXOIK06ealUTOS5IaqxFg5LW1+cddYjy47ESnWo4lAFNYMlQDS7pYq9u0qSCf2RC6dMKTjaOYwhCUSU9o7TMUEi6VG8KHZIwzSStYc40qAcorHVS5zkAaAWAsNBaAWOnXgZW7QFnWOGqFF/YOZkF2JOY9sQy9wt7SQCToNT2S52P5v5uSxGe0qFxDU6gembFTcHsM040YuVpkhV0knY2z6NQOaj5SBoO2M06hbrHUkknxPGI2fg2q1VpoLs7BFFwLljYanhNIHLmk6QzTwhNQKgLFmCgDUsSbKAO0maLC7HFNxnxVAFTqB0725EXWkVPqNpocFuriMHTq1npE1rCnRCfGFTUBD1erexVbgHtbwlFS2ZV50qg/cf8pcKfRnJlclVx2W+NwiVgMuJQIvAdHX1PNj1OP8pR4jY9O5/zdK40sUxI/CkZZps+pb0H+q35SLW2bU/Vv9Rvyl/n+DOT78d/n/pmtq7EemoqZ0qIxK56ZYqGAvlYMqspsbi41F7cDasenoJ0fd7ZT1GfD1aVQUq65S3RvanUW7Uqt7aWa48HMod4908ThaavWQKrNlBDK2tibWB7AZi0rqzqhOTjyS1/BlEXWIrjSP21MYxB0kSR1Y3aGKFbIb2jNV7m/fBoi/KZtnVFE+iL21tNJuTtxcBjadYkmnqlSw1KOLEgdxs1v2bTMUeEcYxBezs21d08RitpfpCi1KthnClCtTUr0HR6aW9O54z3czAvsPD4mrj3pqKhpCkivmLuge4GnPMvLQAkzkeztr4ihfoMRVpA8RTqMgPeQDYmScRWqV06WtWNRgDrUZnqWBOgZvzgk36X0FJqPqS2O4bZeIxj1qqA1G6XM/R06ri9U1HzdUEgXU8Rzin3UxoNvNcQe8YevY+F1mw8kFB3p41afpXwp7OBr35zbPsXFnt+sB+EHxTr/Z5/iPGZ8bShilL6pff6HF/gtjvomI/69b8ofBfG/RMR/wBet+U7tgtj1UamxZzZgWB4AW11za8uU0lM2ve5ueY4eGklzXt8s6vCyy5Yt5IuD9nR8y/BfG/RMR/1635Q+C+N+iYj/r1vyn02zDsI9R/KIHG+ttdOXHjwi8xe3ydXlv3+EcW8newqVB6uI2lSNML0aUenpOil2zliocdZgEHhr2zc4neHZJFhicMhvqciE94syyT5SdknFYUKGpoKb9M7Vc6oERGzXKi/yvumCwXkzrFQekwrgqHVs9cXQgEHqrwtf2ykoS23REpTi6Ss2w3j2Tf/AMjC+GVPdlFvNgP0q9DD4bE0mo4fOz01bI5FrUil1IJyhkvbqkkkEECUj+S/EMwC1cMtxoAa5HC/Eodbcrxa+S7F0SKvnGHXIQc2eqpGvzgmnZ65SjBbUiXPI9OGvuJreS/Fujg4fD0SBmptSr1m1B9CqKpa4Iv1lykEDiNBTeUXeNsR5thzUWqcNSC1aqG6Va7KoqFT8oDLbNzJbS0X5Rq2LovRw1XE1HHm4NRRWqtTdjWrC5DHrdUKNRymKitvbKpLoghCEYiErSTTMrVqSRTrR2OievbPKi6XPqE8puLXPCQcViqj+iLDlEKrEZLm7GJqLfgNBxkYK3MxwViAbHjoe8XiVdyqLTCViBaTA15VUmkym00Rlk6F1gvREMP6R8Z5s5ur64uiOufGbY+p5viH6Dt+ydp4bC0aFCrVCP0SOcwbXpLsTmtb0s3PlLcbXw+VW6enle+U9IoDZTZra62JErqOycPi8PQetTDHoadmBZWHVFxdSNL30ketuZQ6Lokd1HSdIL2fKcuVgLgGxGW+vyROR8G93Z6KeZL0pNVr3L0bSo/rqf2ifnEPtfDjjiKQ/wCVPzmUqbjP8mutu+mR+DGSdn7kqjo71s+Rg2UJlBINwCSx0vG4Y/3CWXxDdcPku8ZvBhaTFaldAwNit8zA9hC3IM5X5TUXzkVEJKVqSVV4gda63APC+UH1zotLczCBizo1RiSxNR2NyTckhbA690wXlYcedKo4JRRbDl1na3sIl4ePL0mPi3k8u511VUc5biZExR0EmPzkHGnhLmGEiMYkcZ4TPU4zE7UtE1Xvxi4wpi1jJFc5Y4Z16PKauUkHSz246XsDoZXKYteEqH6iMjqJ1ryDccbYX0w+nb/rzoeExBvRy1Szs3xtPSyjKSxKgXp5WAHfw1vOdeQgn/O24/5a3L9f3GdaF+/+/wB2Y5XU2bYUnjX97hRvkN7377/zhiDlsRYC+p4aWJ1PLWwv3xXjm9n9J7629g/KYyTa0bNaPKBBub3vYEXuoIHARQUa6Difxnnrb2D8p4B3t7P6Qp0NEbFtfKLZgbg8DoQL5geXdrGukAY5mXQWXkQOYbXUd0dxr5bHXnyJ7OwffIvSFVGlmYrzZ1uSM2p5AX7JnvV/38D7CauOUXKKHYAAZcpJ1tZbXOmvKP56hFyVA7Cp4d/W4yOmGCeiza8uqed+BXTjykroMxFzfuGg15n++cOTqltlOjiXlkYnHUyTf/LJqBa/xtblMLN35ZQfPkva/mycNf8AdrTCTsh+lHJP9TCEISiSgBi1e2pMbEUhHMeHdINmh44xjwuY6mNf5hkVu86RaX+TU9sLZNIVVBPJl9RtI5Qjw7Y+arA2b29s9eqOEYbQ7SaSqbyCkkJLTMprRodkt1T4x4NaofGRdjtofVHMS3Xm8Hs83NG4nYty8VSxGCFKvUC9FUIW1Y0mItmBJVgbddh2ad0m7U2/h6NsKueorJ6dOtmZcxYWzkk5ha/HmJyjZgzWBIFzxPAR+k5WoLHgYeVFytv8Gb8TljBRilfS/obXGYuhT4vj/ViRPdk704akxdRinNstqtYONSCSBwvpxmY2xi2ZR7NTaV2BbK3XHA6iU4waEp5lPVf4OwqcI7LiWrAMQjWOJYIDlFgUz5dOy3Gch3r2oamKq1eqbuwHNSq9RbdoygQ2vjAbhNF7O/tlFjidDykQgoPTNMs5ZaTVd/uQyeMgY/j6pOHAyDj+MiZ04SAYpJ5F05id/YeQdsXmjQ9sdSMkUpi1qLb0l+sv5yRs2sEq0nb0UqU2bnorgnTnoDO0jeTAH/5ND66D7jwicnF2g4RmqZkfJJvJg8J515ziKdPpOgyhjcNk6XN6IPDMvHtnRl8o+yBa2NojwDC38EqPhFgPpOH+0SHwiwH0qh9okzk3J20awUYqky6/xL2V9Opfx+5Pf8TNk/TqX8fuynpbdwTEKuIoMx4AOhJ56CSfPKHz09okFWTv8TdlfTqP8fuz0+UzZP06j/H7spPhFgPpWH+0SHwiwH0mh9okdMOSNDR30wFcF6WLpMqEKzZsgDPcoLvYXIR9P2TF/CTBkf8Al0Rx06WmSfvkLYNbB4oOq9BiAhRitkqKrG4ViNbH0tfGWf6DwpzHzWgoCnrNQpLY8bi6kWHbF6Xp9RXLtRC+E2C4+e0B3CrSOmnadP6z3CbyYLrAYugLsTpVpa9rdW2p7+yLw2wsBcKaGBe5/VUMxvwAAQD7or9BYEPU+JwYCqOr5vRBp8NWNteP3rw5ry8dUrBSyL2+TkvlfxCVMbTem6ujYZCrKQyn42sNCOOoMw83Xljw6U8dTSmioi4ZAFVQqr8bWNgo0HGYWdEemjCXUIQhKEZ9Y7TS/gI2gvFoD6pmbMeB7I6EXmAfUJHd7C06punuZh6dJHxNHpa7WJV7lEvYhcnotbS97635ScmWMFbLxYZZHSOd4TZr1halTd9bWRS2viOEsj5P9oKhqGjcAElFdGqD90HXwFzOj0dlbSvbzpKa6WW7ad1glh6o8mwdp8toJ7G9yNtvaaMVNK04y+EcSWOq07Wu6z8ajUHcm7MVUX7z8QTeQsbu8Pm0B4Aa/wD4ibKvcxc3+3+Dnex24+Efxh6/smvw+zrE2FL+/wDjjp2UzNwp/wB/8c1T2ck4troZnCv1ZIpv1h4zV09iMOdP2H3J62yXGtkPgD7kdkPG32KHaNisgoRy09c1tXCORwT7/cjHmTdiff7kV6L4vldGSxTSFi6x0W+g1A8ZtzgmOmVPYfcia+yjz6P2N7sExSi/YwKnT1yDi1LOFAuSQABqSewCbyvgCBpkPqP5SGuGqAkoVU8Lgsp8LgSJmuJNMzq7qYm1yEH7JfrfcCPviV3axHMKPFvymgr4fEcq7fWaQqlHEDjWPtaYVL3R284+zKw7EqjkD4GRnplTYix7JbOKv6w+0yFjr6Zjc/fLV9ybT6IjrPREAxYjEewhFU3INxa47QCPYdIAbLyb7Ez1Gr1AQiLZCRYMzaErfiAt/rTonmNLtH3TjXwhxX64+xfynvwhxX64+xfymUots1jKKVC96dkHDYiolj0ZYmm1uqytqAD2i9vVKiWNbbmIcFXqZlPEFUIPqIldNFfczddjofko2/hsEmKrYup0dMnD082R36zCsQLIpPBW5W0m1o+VXZADHzwEjmMNi7DsvdDznOPJ1jMCGq0NoLTNKr0bKaovTWpTzgZj8nSodfGdA/Ru7fZs77Sj70xnC5XRrBqh7/FjZdrnGp4+bYu1/s4mp5VdkgsfO11VcubD4m1+d/irldBIabN3e0v5hfS96mFycs1rNm7beq8kHZ27fZs77Sj70VMu0YHyrbTpYnFUa9B89KphkKNZluBWrDgwBGoPETGTRb+Y/DVcSBg1C0KVJaSBRlU2Z3YqOy7n2TOzePQ55dQhCEYiiw3G0nV0AUAaSupPYiT8S2khGsupGsb3Xlrfvn0TsrePCVcOlVyUZ0R8mlwSoNlJsOPbPnumeoRz1M+gMJulSrIlRXU02VTTycClhlsfC05fEp0qR1+Dq3ydBW2olUBqYFM31YnPmt+ypt67mIxWNqBbqy991/DWWn6Ew1EdeoqDsJ19nGR6yYOqCFrHThZKnu6zkXJdzvksc9pfBAwmPzDrvbwX+sh7wbQoUqTVTUbKpUHKtz1jYaXHbJOehSYU+jdyeLt1EHfwJt6hOV73b0viWakiinQSoSqgHMxW6g1CePMgWFr9onRglNy09HH4nFijHa32NAN68Nc2er9kPfljT3wwoH+pW+yHvzlqNJQeeipHl+WjpY34w4/3K32S+/PTv7QH+5W+yX35zQmIc6R8heWjoL7+0r6Va1v/AK19+eHfyl+trfZr785tznpk8mPy0dJTfuhbWpW+zX34irvtQPy6v2a+/OdKNJ6RKti8uJuKm9tA/Kq/Zj3pc4Ssr0Uq01LB7kX0OhI149k5YRNp5P8Aabi9F1zURcq3zXY3yg8wbsbdvjMczfHRvghFS6F71jxUD2mQsYygay5x+LpLxDeoA/zmf2piKDDQsT2ZSPx0nMm/c6nBexWHHgXsl79+vtlfjFuuY8QfxlgKqD/bPje/8pXbRrk2HAdnhNo9TGaSREBi1jYjizc52KhCEBBCEIAEIQgAQhCABCEIAEIQgAQhCAGZk/DjOuW+ukgR7DV8pvy5zJG7RavSCgTrPkxevUwSrQqgdDUqK6nUrmc1F07CG+49k5PUYMoMu9zdrebYpHNQ01qq1JnUlcuaxVr9zAe0xZIc1Q8OThK6O6PSUDNiGXTuJv4LxMZobQon/SwtQ97Baa/iT90odm74GmGo7TDpUT0MQlJnpYhPkvampyvbiALeHCWdLejCm/QrVrNbQ9GwW/LjqPYZx+VK9I7lmjW2eby7Rp0KJr4vKlICwpoMz1GPooCeJJ8AOJ4Xnzvi6/SVHqWC53d8o4LmYtYeF7TWeVDeQ4nECkrhqdLiRwapazEdiqOqB/7E6nTGqf70nVix8PucmXK5/YcUx6m8j3jyTZHOyQGES76TwCeFYxDdIRbCNK2vpAa87/fYaCO5rEg2uCRxvw7DzgMBpBiING2jsR6zTW7jY2mQ2GfRnfOh+cbAFfHq3Hbr68hPA1tQbEagjiCOBEiceSouEnF2jq+JqvlKsge3A3yt69DeU1au3Kio8WJ/kJU7G3prAhardIp0u5F1/e5jx9sucbtemPkKPGooEw8po6POiyLXqaXKgeEzeLxGdr2sOQ7pP2jtUOCq28VBsPWePslSs2hGjnnK+g4sdWNCOiaGbPYQhAQQhCABCEIAEIQgAQhCABCEIAEIQgBmYQnsxOglYHE5TZrlDxA4jttJWIyhSqtmFs6nna9ird8q5KwNexKkXD2F+Y0I0+t+EaJaF4PbOJoaUq9RB80O2X6vCTq28WKq02WtiKr5urlLtktbrEqDY+znKupTsRb5o4+w/hEXglQ3scE9jd56DGKhxJJpCM0RJSCUiGOKImpHFETUEokgMqniDe+trWI9fAxaW7IAaxzJJoqzwNAz2BEYhBibQYz2IaFpFBYkRYMAFpwjiieKIsRiFrFiIEWIyT2EIQAIQhAAhCEACEIQAIQhAAhCEACEIQA//9k=",alt:"Driver management"})})]})]})]}),Yc=()=>Y.useContext(Wg),Y2=()=>{const{login:r,loginWithGoogle:t}=Yc(),[n,a]=Y.useState(""),[l,h]=Y.useState(""),m=tl(),v=async()=>{try{await r(n,l),m("/")}catch(E){alert("Login failed: "+E.message)}},y=async()=>{try{await t(),m("/")}catch{alert("Google Sign-In failed")}};return U.jsx("div",{className:"login-container",children:U.jsxs("div",{className:"login-box",children:[U.jsx("h2",{children:"Login to FleetManagerPro"}),U.jsx("input",{type:"email",placeholder:"Email",onChange:E=>a(E.target.value)}),U.jsx("input",{type:"password",placeholder:"Password",onChange:E=>h(E.target.value)}),U.jsx("button",{onClick:v,children:"Login"}),U.jsxs("button",{onClick:y,className:"google-btn",type:"button",children:[U.jsx("i",{className:"fab fa-google",style:{marginRight:"8px",color:"#db4437"}})," Sign in with Google"]}),U.jsxs("div",{className:"links",children:[U.jsx(Ef,{to:"/forgot-password",children:"Forgot Password?"}),U.jsx("span",{children:" | "}),U.jsx(Ef,{to:"/register",children:"Register"})]})]})})},W2=()=>{const{register:r}=Yc(),[t,n]=Y.useState(""),[a,l]=Y.useState(""),[h,m]=Y.useState("driver"),v=tl(),y=async()=>{try{await r(t,a,h),v("/")}catch(E){alert("Registration failed: "+E.message)}};return U.jsxs("div",{className:"auth-container",children:[U.jsx("h2",{children:"Register"}),U.jsx("input",{placeholder:"Email",onChange:E=>n(E.target.value)}),U.jsx("input",{type:"password",placeholder:"Password",onChange:E=>l(E.target.value)}),U.jsxs("select",{value:h,onChange:E=>m(E.target.value),children:[U.jsx("option",{value:"driver",children:"Driver"}),U.jsx("option",{value:"manager",children:"Manager"})]}),U.jsx("button",{onClick:y,children:"Register"})]})},X2=()=>{const[r,t]=Y.useState(""),[n,a]=Y.useState(""),l=tl(),h=async()=>{if(!r)return alert("Please enter your email");try{await fI(Ho,r),a("Password reset email sent successfully!"),setTimeout(()=>l("/login"),3e3)}catch{a("Failed to send reset email. Please try again.")}};return U.jsx("div",{className:"forgot-container",children:U.jsxs("div",{className:"forgot-box",children:[U.jsx("h2",{children:"Forgot Password"}),U.jsx("input",{type:"email",placeholder:"Enter your email",onChange:m=>t(m.target.value)}),U.jsx("button",{onClick:h,children:"Send Reset Email"}),n&&U.jsx("p",{className:"message",children:n})]})})};function IA(r,t){const n=Y.useRef(t);Y.useEffect(function(){t!==n.current&&r.attributionControl!=null&&(n.current!=null&&r.attributionControl.removeAttribution(n.current),t!=null&&r.attributionControl.addAttribution(t)),n.current=t},[r,t])}function J2(r,t,n){t.center!==n.center&&r.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&r.setRadius(t.radius)}const $2=1;function tL(r){return Object.freeze({__version:$2,map:r})}function Xg(r,t){return Object.freeze({...r,...t})}const Jg=Y.createContext(null);function $g(){const r=Y.use(Jg);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function xA(r){function t(n,a){const{instance:l,context:h}=r(n).current;Y.useImperativeHandle(a,()=>l);const{children:m}=n;return m==null?null:fp.createElement(Jg,{value:h},m)}return Y.forwardRef(t)}function eL(r){function t(n,a){const[l,h]=Y.useState(!1),{instance:m}=r(n,h).current;Y.useImperativeHandle(a,()=>m),Y.useEffect(function(){l&&m.update()},[m,l,n.children]);const v=m._contentNode;return v?I1.createPortal(n.children,v):null}return Y.forwardRef(t)}function nL(r){function t(n,a){const{instance:l}=r(n).current;return Y.useImperativeHandle(a,()=>l),null}return Y.forwardRef(t)}function t_(r,t){const n=Y.useRef(void 0);Y.useEffect(function(){return t!=null&&r.instance.on(t),n.current=t,function(){n.current!=null&&r.instance.off(n.current),n.current=null}},[r,t])}function pd(r,t){const n=r.pane??t.pane;return n?{...r,pane:n}:r}function iL(r,t){return function(a,l){const h=$g(),m=r(pd(a,h),h);return IA(h.map,a.attribution),t_(m.current,a.eventHandlers),t(m.current,h,a,l),m}}var pc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var rL=pc.exports,UE;function sL(){return UE||(UE=1,function(r,t){(function(n,a){a(t)})(rL,function(n){var a="1.9.4";function l(s){var u,d,_,w;for(d=1,_=arguments.length;d<_;d++){w=arguments[d];for(u in w)s[u]=w[u]}return s}var h=Object.create||function(){function s(){}return function(u){return s.prototype=u,new s}}();function m(s,u){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var _=d.call(arguments,2);return function(){return s.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var v=0;function y(s){return"_leaflet_id"in s||(s._leaflet_id=++v),s._leaflet_id}function E(s,u,d){var _,w,R,N;return N=function(){_=!1,w&&(R.apply(d,w),w=!1)},R=function(){_?w=arguments:(s.apply(d,arguments),setTimeout(N,u),_=!0)},R}function b(s,u,d){var _=u[1],w=u[0],R=_-w;return s===_&&d?s:((s-w)%R+R)%R+w}function I(){return!1}function x(s,u){if(u===!1)return s;var d=Math.pow(10,u===void 0?6:u);return Math.round(s*d)/d}function B(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function F(s){return B(s).split(/\s+/)}function X(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var d in u)s.options[d]=u[d];return s.options}function tt(s,u,d){var _=[];for(var w in s)_.push(encodeURIComponent(d?w.toUpperCase():w)+"="+encodeURIComponent(s[w]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var at=/\{ *([\w_ -]+) *\}/g;function ft(s,u){return s.replace(at,function(d,_){var w=u[_];if(w===void 0)throw new Error("No value provided for variable "+d);return typeof w=="function"&&(w=w(u)),w})}var mt=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function Pt(s,u){for(var d=0;d<s.length;d++)if(s[d]===u)return d;return-1}var Rt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function qt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var H=0;function O(s){var u=+new Date,d=Math.max(0,16-(u-H));return H=u+d,window.setTimeout(s,d)}var D=window.requestAnimationFrame||qt("RequestAnimationFrame")||O,z=window.cancelAnimationFrame||qt("CancelAnimationFrame")||qt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function j(s,u,d){if(d&&D===O)s.call(u);else return D.call(window,m(s,u))}function G(s){s&&z.call(window,s)}var V={__proto__:null,extend:l,create:h,bind:m,get lastId(){return v},stamp:y,throttle:E,wrapNum:b,falseFn:I,formatNum:x,trim:B,splitWords:F,setOptions:X,getParamString:tt,template:ft,isArray:mt,indexOf:Pt,emptyImageUrl:Rt,requestFn:D,cancelFn:z,requestAnimFrame:j,cancelAnimFrame:G};function Ae(){}Ae.extend=function(s){var u=function(){X(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return s.statics&&l(u,s.statics),s.includes&&(Ne(s.includes),l.apply(null,[_].concat(s.includes))),l(_,s),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,N=_._initHooks.length;R<N;R++)_._initHooks[R].call(this)}},u},Ae.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},Ae.mergeOptions=function(s){return l(this.prototype.options,s),this},Ae.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Ne(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=mt(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var rt={on:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u);else{s=F(s);for(var w=0,R=s.length;w<R;w++)this._on(s[w],u,d)}return this},off:function(s,u,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],u);else{s=F(s);for(var w=arguments.length===1,R=0,N=s.length;R<N;R++)w?this._off(s[R]):this._off(s[R],u,d)}return this},_on:function(s,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,d)===!1){d===this&&(d=void 0);var w={fn:u,ctx:d};_&&(w.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(w)}},_off:function(s,u,d){var _,w,R;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(w=0,R=_.length;w<R;w++)_[w].fn=I;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var N=this._listens(s,u,d);if(N!==!1){var Q=_[N];this._firingCount&&(Q.fn=I,this._events[s]=_=_.slice()),_.splice(N,1)}}},fire:function(s,u,d){if(!this.listens(s,d))return this;var _=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[s];if(w){this._firingCount=this._firingCount+1||1;for(var R=0,N=w.length;R<N;R++){var Q=w[R],nt=Q.fn;Q.once&&this.off(s,nt,Q.ctx),nt.call(Q.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(s,u,d,_){typeof s!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(_=!!u,w=void 0,d=void 0);var R=this._events&&this._events[s];if(R&&R.length&&this._listens(s,w,d)!==!1)return!0;if(_){for(var N in this._eventParents)if(this._eventParents[N].listens(s,u,d,_))return!0}return!1},_listens:function(s,u,d){if(!this._events)return!1;var _=this._events[s]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var w=0,R=_.length;w<R;w++)if(_[w].fn===u&&_[w].ctx===d)return w;return!1},once:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u,!0);else{s=F(s);for(var w=0,R=s.length;w<R;w++)this._on(s[w],u,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[y(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[y(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};rt.addEventListener=rt.on,rt.removeEventListener=rt.clearAllEventListeners=rt.off,rt.addOneTimeEventListener=rt.once,rt.fireEvent=rt.fire,rt.hasEventListeners=rt.listens;var yt=Ae.extend(rt);function gt(s,u,d){this.x=d?Math.round(s):s,this.y=d?Math.round(u):u}var se=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};gt.prototype={clone:function(){return new gt(this.x,this.y)},add:function(s){return this.clone()._add(M(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(M(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new gt(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new gt(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(s){s=M(s);var u=s.x-this.x,d=s.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(s){return s=M(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=M(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function M(s,u,d){return s instanceof gt?s:mt(s)?new gt(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new gt(s.x,s.y):new gt(s,u,d)}function st(s,u){if(s)for(var d=u?[s,u]:s,_=0,w=d.length;_<w;_++)this.extend(d[_])}st.prototype={extend:function(s){var u,d;if(!s)return this;if(s instanceof gt||typeof s[0]=="number"||"x"in s)u=d=M(s);else if(s=_t(s),u=s.min,d=s.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,d;return typeof s[0]=="number"||s instanceof gt?s=M(s):s=_t(s),s instanceof st?(u=s.min,d=s.max):u=d=s,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=_t(s);var u=this.min,d=this.max,_=s.min,w=s.max,R=w.x>=u.x&&_.x<=d.x,N=w.y>=u.y&&_.y<=d.y;return R&&N},overlaps:function(s){s=_t(s);var u=this.min,d=this.max,_=s.min,w=s.max,R=w.x>u.x&&_.x<d.x,N=w.y>u.y&&_.y<d.y;return R&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*s,w=Math.abs(u.y-d.y)*s;return _t(M(u.x-_,u.y-w),M(d.x+_,d.y+w))},equals:function(s){return s?(s=_t(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function _t(s,u){return!s||s instanceof st?s:new st(s,u)}function pt(s,u){if(s)for(var d=u?[s,u]:s,_=0,w=d.length;_<w;_++)this.extend(d[_])}pt.prototype={extend:function(s){var u=this._southWest,d=this._northEast,_,w;if(s instanceof bt)_=s,w=s;else if(s instanceof pt){if(_=s._southWest,w=s._northEast,!_||!w)return this}else return s?this.extend(Et(s)||Tt(s)):this;return!u&&!d?(this._southWest=new bt(_.lat,_.lng),this._northEast=new bt(w.lat,w.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(w.lat,d.lat),d.lng=Math.max(w.lng,d.lng)),this},pad:function(s){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*s,w=Math.abs(u.lng-d.lng)*s;return new pt(new bt(u.lat-_,u.lng-w),new bt(d.lat+_,d.lng+w))},getCenter:function(){return new bt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new bt(this.getNorth(),this.getWest())},getSouthEast:function(){return new bt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof bt||"lat"in s?s=Et(s):s=Tt(s);var u=this._southWest,d=this._northEast,_,w;return s instanceof pt?(_=s.getSouthWest(),w=s.getNorthEast()):_=w=s,_.lat>=u.lat&&w.lat<=d.lat&&_.lng>=u.lng&&w.lng<=d.lng},intersects:function(s){s=Tt(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),w=s.getNorthEast(),R=w.lat>=u.lat&&_.lat<=d.lat,N=w.lng>=u.lng&&_.lng<=d.lng;return R&&N},overlaps:function(s){s=Tt(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),w=s.getNorthEast(),R=w.lat>u.lat&&_.lat<d.lat,N=w.lng>u.lng&&_.lng<d.lng;return R&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=Tt(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Tt(s,u){return s instanceof pt?s:new pt(s,u)}function bt(s,u,d){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,d!==void 0&&(this.alt=+d)}bt.prototype={equals:function(s,u){if(!s)return!1;s=Et(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+x(this.lat,s)+", "+x(this.lng,s)+")"},distanceTo:function(s){return re.distance(this,Et(s))},wrap:function(){return re.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,d=u/Math.cos(Math.PI/180*this.lat);return Tt([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new bt(this.lat,this.lng,this.alt)}};function Et(s,u,d){return s instanceof bt?s:mt(s)&&typeof s[0]!="object"?s.length===3?new bt(s[0],s[1],s[2]):s.length===2?new bt(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new bt(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new bt(s,u,d)}var ve={latLngToPoint:function(s,u){var d=this.projection.project(s),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(s,u){var d=this.scale(u),_=this.transformation.untransform(s,d);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(s),_=this.transformation.transform(u.min,d),w=this.transformation.transform(u.max,d);return new st(_,w)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?b(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?b(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new bt(d,u,_)},wrapLatLngBounds:function(s){var u=s.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,w=u.lng-d.lng;if(_===0&&w===0)return s;var R=s.getSouthWest(),N=s.getNorthEast(),Q=new bt(R.lat-_,R.lng-w),nt=new bt(N.lat-_,N.lng-w);return new pt(Q,nt)}},re=l({},ve,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var d=Math.PI/180,_=s.lat*d,w=u.lat*d,R=Math.sin((u.lat-s.lat)*d/2),N=Math.sin((u.lng-s.lng)*d/2),Q=R*R+Math.cos(_)*Math.cos(w)*N*N,nt=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*nt}}),oi=6378137,Li={R:oi,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,s.lat),-d),w=Math.sin(_*u);return new gt(this.R*s.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(s){var u=180/Math.PI;return new bt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:function(){var s=oi*Math.PI;return new st([-s,-s],[s,s])}()};function li(s,u,d,_){if(mt(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=d,this._d=_}li.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new gt((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function ui(s,u,d,_){return new li(s,u,d,_)}var tr=l({},re,{code:"EPSG:3857",projection:Li,transformation:function(){var s=.5/(Math.PI*Li.R);return ui(s,.5,-s,.5)}()}),ts=l({},tr,{code:"EPSG:900913"});function Hs(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function ro(s,u){var d="",_,w,R,N,Q,nt;for(_=0,R=s.length;_<R;_++){for(Q=s[_],w=0,N=Q.length;w<N;w++)nt=Q[w],d+=(w?"L":"M")+nt.x+" "+nt.y;d+=u?Ot.svg?"z":"x":""}return d||"M0 0"}var On=document.documentElement.style,Fs="ActiveXObject"in window,so=Fs&&!document.addEventListener,es="msLaunchUri"in navigator&&!("documentMode"in document),er=Mn("webkit"),rl=Mn("android"),ns=Mn("android 2")||Mn("android 3"),ao=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),sl=rl&&Mn("Google")&&ao<537&&!("AudioNode"in window),Re=!!window.opera,ue=!es&&Mn("chrome"),Ln=Mn("gecko")&&!er&&!Re&&!Fs,fn=!ue&&Mn("safari"),oo=Mn("phantom"),al="OTransition"in On,is=navigator.platform.indexOf("Win")===0,Rr=Fs&&"transition"in On,nr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ns,Xn="MozPerspective"in On,Gs=!window.L_DISABLE_3D&&(Rr||nr||Xn)&&!al&&!oo,ci=typeof orientation<"u"||Mn("mobile"),lo=ci&&er,uo=ci&&nr,Zs=!window.PointerEvent&&window.MSPointerEvent,Mi=!!(window.PointerEvent||Zs),Di="ontouchstart"in window||!!window.TouchEvent,co=!window.L_NO_TOUCH&&(Di||Mi),Ni=ci&&Re,ho=ci&&Ln,Cr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ks=function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",I,u),window.removeEventListener("testPassiveEventSupport",I,u)}catch{}return s}(),Ir=function(){return!!document.createElement("canvas").getContext}(),Qs=!!(document.createElementNS&&Hs("svg").createSVGRect),Ce=!!Qs&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ke=!Qs&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),He=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function Mn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ot={ie:Fs,ielt9:so,edge:es,webkit:er,android:rl,android23:ns,androidStock:sl,opera:Re,chrome:ue,gecko:Ln,safari:fn,phantom:oo,opera12:al,win:is,ie3d:Rr,webkit3d:nr,gecko3d:Xn,any3d:Gs,mobile:ci,mobileWebkit:lo,mobileWebkit3d:uo,msPointer:Zs,pointer:Mi,touch:co,touchNative:Di,mobileOpera:Ni,mobileGecko:ho,retina:Cr,passiveEvents:Ks,canvas:Ir,svg:Qs,vml:Ke,inlineSvg:Ce,mac:He,linux:Jn},ir=Ot.msPointer?"MSPointerDown":"pointerdown",fo=Ot.msPointer?"MSPointerMove":"pointermove",xr=Ot.msPointer?"MSPointerUp":"pointerup",rr=Ot.msPointer?"MSPointerCancel":"pointercancel",hi={touchstart:ir,touchmove:fo,touchend:xr,touchcancel:rr},fi={touchstart:ss,touchmove:rs,touchend:rs,touchcancel:rs},wn={},dn=!1;function ze(s,u,d){return u==="touchstart"&&ol(),fi[u]?(d=fi[u].bind(this,d),s.addEventListener(hi[u],d,!1),d):(console.warn("wrong event specified:",u),I)}function mo(s,u,d){if(!hi[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(hi[u],d,!1)}function Ys(s){wn[s.pointerId]=s}function di(s){wn[s.pointerId]&&(wn[s.pointerId]=s)}function ki(s){delete wn[s.pointerId]}function ol(){dn||(document.addEventListener(ir,Ys,!0),document.addEventListener(fo,di,!0),document.addEventListener(xr,ki,!0),document.addEventListener(rr,ki,!0),dn=!0)}function rs(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in wn)u.touches.push(wn[d]);u.changedTouches=[u],s(u)}}function ss(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&ye(u),rs(s,u)}function ll(s){var u={},d,_;for(_ in s)d=s[_],u[_]=d&&d.bind?d.bind(s):d;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Pr=200;function Vi(s,u){s.addEventListener("dblclick",u);var d=0,_;function w(R){if(R.detail!==1){_=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var N=Js(R);if(!(N.some(function(nt){return nt instanceof HTMLLabelElement&&nt.attributes.for})&&!N.some(function(nt){return nt instanceof HTMLInputElement||nt instanceof HTMLSelectElement}))){var Q=Date.now();Q-d<=Pr?(_++,_===2&&u(ll(R))):_=1,d=Q}}}return s.addEventListener("click",w),{dblclick:u,simDblclick:w}}function on(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var sr=mi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Or=mi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ui=Or==="webkitTransition"||Or==="OTransition"?Or+"End":"transitionend";function as(s){return typeof s=="string"?document.getElementById(s):s}function zi(s,u){var d=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);d=_?_[u]:null}return d==="auto"?null:d}function Wt(s,u,d){var _=document.createElement(s);return _.className=u||"",d&&d.appendChild(_),_}function fe(s){var u=s.parentNode;u&&u.removeChild(s)}function Je(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Bi(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function Lr(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Mr(s,u){if(s.classList!==void 0)return s.classList.contains(u);var d=De(s);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function Ht(s,u){if(s.classList!==void 0)for(var d=F(u),_=0,w=d.length;_<w;_++)s.classList.add(d[_]);else if(!Mr(s,u)){var R=De(s);po(s,(R?R+" ":"")+u)}}function pe(s,u){s.classList!==void 0?s.classList.remove(u):po(s,B((" "+De(s)+" ").replace(" "+u+" "," ")))}function po(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function De(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Ie(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&os(s,u)}function os(s,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):s.style.filter+=" progid:"+_+"(opacity="+u+")"}function mi(s){for(var u=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in u)return s[d];return!1}function An(s,u,d){var _=u||new gt(0,0);s.style[sr]=(Ot.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function Vt(s,u){s._leaflet_pos=u,Ot.any3d?An(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function Fn(s){return s._leaflet_pos||new gt(0,0)}var mn,pi,Ws;if("onselectstart"in document)mn=function(){Dt(window,"selectstart",ye)},pi=function(){ae(window,"selectstart",ye)};else{var ar=mi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);mn=function(){if(ar){var s=document.documentElement.style;Ws=s[ar],s[ar]="none"}},pi=function(){ar&&(document.documentElement.style[ar]=Ws,Ws=void 0)}}function ls(){Dt(window,"dragstart",ye)}function go(){ae(window,"dragstart",ye)}var Xs,Dr;function gi(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Sn(),Xs=s,Dr=s.style.outlineStyle,s.style.outlineStyle="none",Dt(window,"keydown",Sn))}function Sn(){Xs&&(Xs.style.outlineStyle=Dr,Xs=void 0,Dr=void 0,ae(window,"keydown",Sn))}function ji(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function _i(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var _o={__proto__:null,TRANSFORM:sr,TRANSITION:Or,TRANSITION_END:Ui,get:as,getStyle:zi,create:Wt,remove:fe,empty:Je,toFront:Bi,toBack:Lr,hasClass:Mr,addClass:Ht,removeClass:pe,setClass:po,getClass:De,setOpacity:Ie,testProp:mi,setTransform:An,setPosition:Vt,getPosition:Fn,get disableTextSelection(){return mn},get enableTextSelection(){return pi},disableImageDrag:ls,enableImageDrag:go,preventOutline:gi,restoreOutline:Sn,getSizedParentNode:ji,getScale:_i};function Dt(s,u,d,_){if(u&&typeof u=="object")for(var w in u)or(s,w,u[w],d);else{u=F(u);for(var R=0,N=u.length;R<N;R++)or(s,u[R],d,_)}return this}var Gn="_leaflet_events";function ae(s,u,d,_){if(arguments.length===1)$n(s),delete s[Gn];else if(u&&typeof u=="object")for(var w in u)ti(s,w,u[w],d);else if(u=F(u),arguments.length===2)$n(s,function(Q){return Pt(u,Q)!==-1});else for(var R=0,N=u.length;R<N;R++)ti(s,u[R],d,_);return this}function $n(s,u){for(var d in s[Gn]){var _=d.split(/\d/)[0];(!u||u(_))&&ti(s,_,null,null,d)}}var Dn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function or(s,u,d,_){var w=u+y(d)+(_?"_"+y(_):"");if(s[Gn]&&s[Gn][w])return this;var R=function(Q){return d.call(_||s,Q||window.event)},N=R;!Ot.touchNative&&Ot.pointer&&u.indexOf("touch")===0?R=ze(s,u,R):Ot.touch&&u==="dblclick"?R=Vi(s,R):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Dn[u]||u,R,Ot.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(R=function(Q){Q=Q||window.event,ur(s,Q)&&N(Q)},s.addEventListener(Dn[u],R,!1)):s.addEventListener(u,N,!1):s.attachEvent("on"+u,R),s[Gn]=s[Gn]||{},s[Gn][w]=R}function ti(s,u,d,_,w){w=w||u+y(d)+(_?"_"+y(_):"");var R=s[Gn]&&s[Gn][w];if(!R)return this;!Ot.touchNative&&Ot.pointer&&u.indexOf("touch")===0?mo(s,u,R):Ot.touch&&u==="dblclick"?on(s,R):"removeEventListener"in s?s.removeEventListener(Dn[u]||u,R,!1):s.detachEvent("on"+u,R),s[Gn][w]=null}function Nn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function vi(s){return or(s,"wheel",Nn),this}function lr(s){return Dt(s,"mousedown touchstart dblclick contextmenu",Nn),s._leaflet_disable_click=!0,this}function ye(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function pn(s){return ye(s),Nn(s),this}function Js(s){if(s.composedPath)return s.composedPath();for(var u=[],d=s.target;d;)u.push(d),d=d.parentNode;return u}function Qe(s,u){if(!u)return new gt(s.clientX,s.clientY);var d=_i(u),_=d.boundingClientRect;return new gt((s.clientX-_.left)/d.x-u.clientLeft,(s.clientY-_.top)/d.y-u.clientTop)}var ce=Ot.linux&&Ot.chrome?window.devicePixelRatio:Ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function us(s){return Ot.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/ce:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function ur(s,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var ul={__proto__:null,on:Dt,off:ae,stopPropagation:Nn,disableScrollPropagation:vi,disableClickPropagation:lr,preventDefault:ye,stop:pn,getPropagationPath:Js,getMousePosition:Qe,getWheelDelta:us,isExternalTarget:ur,addListener:Dt,removeListener:ae},cs=yt.extend({run:function(s,u,d,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Fn(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var d=this._startPos.add(this._offset.multiplyBy(s));u&&d._round(),Vt(this._el,d),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Zt=yt.extend({options:{crs:tr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=X(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Et(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Or&&Ot.any3d&&!Ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Dt(this._proxy,Ui,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(Et(s),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,d.zoom):this._tryAnimatedPan(s,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,d){var _=this.getZoomScale(u),w=this.getSize().divideBy(2),R=s instanceof gt?s:this.latLngToContainerPoint(s),N=R.subtract(w).multiplyBy(1-1/_),Q=this.containerPointToLatLng(w.add(N));return this.setView(Q,u,{zoom:d})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():Tt(s);var d=M(u.paddingTopLeft||u.padding||[0,0]),_=M(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(s,!1,d.add(_));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:s.getCenter(),zoom:w};var R=_.subtract(d).divideBy(2),N=this.project(s.getSouthWest(),w),Q=this.project(s.getNorthEast(),w),nt=this.unproject(N.add(Q).divideBy(2).add(R),w);return{center:nt,zoom:w}},fitBounds:function(s,u){if(s=Tt(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=M(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ht(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,d){if(d=d||{},d.animate===!1||!Ot.any3d)return this.setView(s,u,d);this._stop();var _=this.project(this.getCenter()),w=this.project(s),R=this.getSize(),N=this._zoom;s=Et(s),u=u===void 0?N:u;var Q=Math.max(R.x,R.y),nt=Q*this.getZoomScale(N,u),dt=w.distanceTo(_)||1,wt=1.42,Ct=wt*wt;function xt(ke){var Qi=ke?-1:1,pr=ke?nt:Q,Br=nt*nt-Q*Q+Qi*Ct*Ct*dt*dt,gr=2*pr*Ct*dt,Lo=Br/gr,wl=Math.sqrt(Lo*Lo+1)-Lo,Mo=wl<1e-9?-18:Math.log(wl);return Mo}function jt(ke){return(Math.exp(ke)-Math.exp(-ke))/2}function Pe(ke){return(Math.exp(ke)+Math.exp(-ke))/2}function Be(ke){return jt(ke)/Pe(ke)}var _n=xt(0);function ei(ke){return Q*(Pe(_n)/Pe(_n+wt*ke))}function ih(ke){return Q*(Pe(_n)*Be(_n+wt*ke)-jt(_n))/Ct}function rh(ke){return 1-Math.pow(1-ke,1.5)}var Oo=Date.now(),pa=(xt(1)-_n)/wt,sh=d.duration?1e3*d.duration:1e3*pa*.8;function ga(){var ke=(Date.now()-Oo)/sh,Qi=rh(ke)*pa;ke<=1?(this._flyToFrame=j(ga,this),this._move(this.unproject(_.add(w.subtract(_).multiplyBy(ih(Qi)/dt)),N),this.getScaleZoom(Q/ei(Qi),N),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),ga.call(this),this},flyToBounds:function(s,u){var d=this._getBoundsCenterZoom(s,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(s){return s=Tt(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,Tt(s));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var d=M(u.paddingTopLeft||u.padding||[0,0]),_=M(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),R=this.project(s),N=this.getPixelBounds(),Q=_t([N.min.add(d),N.max.subtract(_)]),nt=Q.getSize();if(!Q.contains(R)){this._enforcingBounds=!0;var dt=R.subtract(Q.getCenter()),wt=Q.extend(R).getSize().subtract(nt);w.x+=dt.x<0?-wt.x:wt.x,w.y+=dt.y<0?-wt.y:wt.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),w=d.divideBy(2).round(),R=_.subtract(w);return!R.x&&!R.y?this:(s.animate&&s.pan?this.panBy(R):(s.pan&&this._rawPanBy(R),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=m(this._handleGeolocationResponse,this),d=m(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,s):navigator.geolocation.getCurrentPosition(u,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,d=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,d=s.coords.longitude,_=new bt(u,d),w=_.toBounds(s.coords.accuracy*2),R=this._locateOptions;if(R.setView){var N=this.getBoundsZoom(w);this.setView(_,R.maxZoom?Math.min(N,R.maxZoom):N)}var Q={latlng:_,bounds:w,timestamp:s.timestamp};for(var nt in s.coords)typeof s.coords[nt]=="number"&&(Q[nt]=s.coords[nt]);this.fire("locationfound",Q)}},addHandler:function(s,u){if(!u)return this;var d=this[s]=new u(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)fe(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=Wt("div",d,u||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new pt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,d){s=Tt(s),d=M(d||[0,0]);var _=this.getZoom()||0,w=this.getMinZoom(),R=this.getMaxZoom(),N=s.getNorthWest(),Q=s.getSouthEast(),nt=this.getSize().subtract(d),dt=_t(this.project(Q,_),this.project(N,_)).getSize(),wt=Ot.any3d?this.options.zoomSnap:1,Ct=nt.x/dt.x,xt=nt.y/dt.y,jt=u?Math.max(Ct,xt):Math.min(Ct,xt);return _=this.getScaleZoom(jt,_),wt&&(_=Math.round(_/(wt/100))*(wt/100),_=u?Math.ceil(_/wt)*wt:Math.floor(_/wt)*wt),Math.max(w,Math.min(R,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new gt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var d=this._getTopLeftPoint(s,u);return new st(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(s)/d.scale(u)},getScaleZoom:function(s,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(s*d.scale(u));return isNaN(_)?1/0:_},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Et(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(M(s),u)},layerPointToLatLng:function(s){var u=M(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(Et(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Et(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Tt(s))},distance:function(s,u){return this.options.crs.distance(Et(s),Et(u))},containerPointToLayerPoint:function(s){return M(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return M(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(M(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Et(s)))},mouseEventToContainerPoint:function(s){return Qe(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=as(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Dt(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot.any3d,Ht(s,"leaflet-container"+(Ot.touch?" leaflet-touch":"")+(Ot.retina?" leaflet-retina":"")+(Ot.ielt9?" leaflet-oldie":"")+(Ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=zi(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Vt(this._mapPane,new gt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ht(s.markerPane,"leaflet-zoom-hide"),Ht(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,d){Vt(this._mapPane,new gt(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,d)._move(s,u)._moveEnd(w),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,d,_){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?d&&d.pinch&&this.fire("zoom",d):((w||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Vt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[y(this._container)]=this;var u=s?ae:Dt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ot.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var d=[],_,w=u==="mouseout"||u==="mouseover",R=s.target||s.srcElement,N=!1;R;){if(_=this._targets[y(R)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){N=!0;break}if(_&&_.listens(u,!0)&&(w&&!ur(R,s)||(d.push(_),w))||R===this._container)break;R=R.parentNode}return!d.length&&!N&&!w&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var d=s.type;d==="mousedown"&&gi(u),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,d){if(s.type==="click"){var _=l({},s);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var w=this._findEventTargets(s,u);if(d){for(var R=[],N=0;N<d.length;N++)d[N].listens(u,!0)&&R.push(d[N]);w=R.concat(w)}if(w.length){u==="contextmenu"&&ye(s);var Q=w[0],nt={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var dt=Q.getLatLng&&(!Q._radius||Q._radius<=10);nt.containerPoint=dt?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(s),nt.layerPoint=this.containerPointToLayerPoint(nt.containerPoint),nt.latlng=dt?Q.getLatLng():this.layerPointToLatLng(nt.layerPoint)}for(N=0;N<w.length;N++)if(w[N].fire(u,nt,!0),nt.originalEvent._stopped||w[N].options.bubblingMouseEvents===!1&&Pt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return Fn(this._mapPane)||new gt(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var d=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var d=this.getSize()._divideBy(2);return this.project(s,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(s,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return _t([this.project(s.getSouthWest(),u)._subtract(_),this.project(s.getNorthWest(),u)._subtract(_),this.project(s.getSouthEast(),u)._subtract(_),this.project(s.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,d){if(!d)return s;var _=this.project(s,u),w=this.getSize().divideBy(2),R=new st(_.subtract(w),_.add(w)),N=this._getBoundsOffset(R,d,u);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?s:this.unproject(_.add(N),u)},_limitOffset:function(s,u){if(!u)return s;var d=this.getPixelBounds(),_=new st(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(s,u,d){var _=_t(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),w=_.min.subtract(s.min),R=_.max.subtract(s.max),N=this._rebound(w.x,-R.x),Q=this._rebound(w.y,-R.y);return new gt(N,Q)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),d=this.getMaxZoom(),_=Ot.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(u,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var d=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var s=this._proxy=Wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var d=sr,_=this._proxy.style[d];An(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();An(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),w=this._getCenterOffset(s)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(w)?!1:(j(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,Ht(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qi(s,u){return new Zt(s,u)}var ln=Ae.extend({options:{position:"topright"},initialize:function(s){X(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),d=this.getPosition(),_=s._controlCorners[d];return Ht(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),gn=function(s){return new ln(s)};Zt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",d=this._controlContainer=Wt("div",u+"control-container",this._container);function _(w,R){var N=u+w+" "+u+R;s[w+R]=Wt("div",N,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)fe(this._controlCorners[s]);fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vo=ln.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(s,u,d){X(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return ln.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ht(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Ht(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):pe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Wt("div",s),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),lr(u),vi(u);var _=this._section=Wt("section",s+"-list");d&&(this._map.on("click",this.collapse,this),Dt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Wt("a",s+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),Dt(w,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){ye(R),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Wt("div",s+"-base",_),this._separator=Wt("div",s+"-separator",_),this._overlaysList=Wt("div",s+"-overlays",_),u.appendChild(_)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(m(function(_,w){return this.options.sortFunction(_.layer,w.layer,_.name,w.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Je(this._baseLayersList),Je(this._overlaysList),this._layerControlInputs=[];var s,u,d,_,w=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,s=s||!_.overlay,w+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&w>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(y(s.target)),d=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(s,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(s){var u=document.createElement("label"),d=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+y(this),d),this._layerControlInputs.push(_),_.layerId=y(s.layer),Dt(_,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+s.name;var R=document.createElement("span");u.appendChild(R),R.appendChild(_),R.appendChild(w);var N=s.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,d,_=[],w=[];this._handlingClick=!0;for(var R=s.length-1;R>=0;R--)u=s[R],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||w.push(d);for(R=0;R<w.length;R++)this._map.hasLayer(w[R])&&this._map.removeLayer(w[R]);for(R=0;R<_.length;R++)this._map.hasLayer(_[R])||this._map.addLayer(_[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,d,_=this._map.getZoom(),w=s.length-1;w>=0;w--)u=s[w],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Dt(s,"click",ye),this.expand();var u=this;setTimeout(function(){ae(s,"click",ye),u._preventClick=!1})}}),_u=function(s,u,d){return new vo(s,u,d)},cr=ln.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",d=Wt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,d,_,w){var R=Wt("a",d,_);return R.innerHTML=s,R.href="#",R.title=u,R.setAttribute("role","button"),R.setAttribute("aria-label",u),lr(R),Dt(R,"click",pn),Dt(R,"click",w,this),Dt(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";pe(this._zoomInButton,u),pe(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Ht(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Ht(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Zt.mergeOptions({zoomControl:!0}),Zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cr,this.addControl(this.zoomControl))});var $s=function(s){return new cr(s)},ta=ln.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",d=Wt("div",u),_=this.options;return this._addScales(_,u+"-line",d),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,d){s.metric&&(this._mScale=Wt("div",u,d)),s.imperial&&(this._iScale=Wt("div",u,d))},_update:function(){var s=this._map,u=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/s)},_updateImperial:function(s){var u=s*3.2808399,d,_,w;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(s,u,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),d=s/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),ea=function(s){return new ta(s)},cl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Nr=ln.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ot.inlineSvg?cl+" ":"")+"Leaflet</a>"},initialize:function(s){X(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Wt("div","leaflet-control-attribution"),lr(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Zt.mergeOptions({attributionControl:!0}),Zt.addInitHook(function(){this.options.attributionControl&&new Nr().addTo(this)});var vu=function(s){return new Nr(s)};ln.Layers=vo,ln.Zoom=cr,ln.Scale=ta,ln.Attribution=Nr,gn.layers=_u,gn.zoom=$s,gn.scale=ea,gn.attribution=vu;var kn=Ae.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});kn.addTo=function(s,u){return s.addHandler(u,this),this};var hs={Events:rt},yo=Ot.touch?"touchstart mousedown":"mousedown",yi=yt.extend({options:{clickTolerance:3},initialize:function(s,u,d,_){X(this,_),this._element=s,this._dragStartTarget=u||s,this._preventOutline=d},enable:function(){this._enabled||(Dt(this._dragStartTarget,yo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yi._dragging===this&&this.finishDrag(!0),ae(this._dragStartTarget,yo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Mr(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){yi._dragging===this&&this.finishDrag();return}if(!(yi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(yi._dragging=this,this._preventOutline&&gi(this._element),ls(),mn(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,d=ji(this._element);this._startPoint=new gt(u.clientX,u.clientY),this._startPos=Fn(this._element),this._parentScale=_i(d);var _=s.type==="mousedown";Dt(document,_?"mousemove":"touchmove",this._onMove,this),Dt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,d=new gt(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,ye(s),this._moved||(this.fire("dragstart"),this._moved=!0,Ht(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ht(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Vt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){pe(document.body,"leaflet-dragging"),this._lastTarget&&(pe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ae(document,"mousemove touchmove",this._onMove,this),ae(document,"mouseup touchend touchcancel",this._onUp,this),go(),pi();var u=this._moved&&this._moving;this._moving=!1,yi._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function na(s,u,d){var _,w=[1,4,2,8],R,N,Q,nt,dt,wt,Ct,xt;for(R=0,wt=s.length;R<wt;R++)s[R]._code=Hi(s[R],u);for(Q=0;Q<4;Q++){for(Ct=w[Q],_=[],R=0,wt=s.length,N=wt-1;R<wt;N=R++)nt=s[R],dt=s[N],nt._code&Ct?dt._code&Ct||(xt=$e(dt,nt,Ct,u,d),xt._code=Hi(xt,u),_.push(xt)):(dt._code&Ct&&(xt=$e(dt,nt,Ct,u,d),xt._code=Hi(xt,u),_.push(xt)),_.push(nt));s=_}return s}function kr(s,u){var d,_,w,R,N,Q,nt,dt,wt;if(!s||s.length===0)throw new Error("latlngs not passed");f(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ct=Et([0,0]),xt=Tt(s),jt=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());jt<1700&&(Ct=ia(s));var Pe=s.length,Be=[];for(d=0;d<Pe;d++){var _n=Et(s[d]);Be.push(u.project(Et([_n.lat-Ct.lat,_n.lng-Ct.lng])))}for(Q=nt=dt=0,d=0,_=Pe-1;d<Pe;_=d++)w=Be[d],R=Be[_],N=w.y*R.x-R.y*w.x,nt+=(w.x+R.x)*N,dt+=(w.y+R.y)*N,Q+=N*3;Q===0?wt=Be[0]:wt=[nt/Q,dt/Q];var ei=u.unproject(M(wt));return Et([ei.lat+Ct.lat,ei.lng+Ct.lng])}function ia(s){for(var u=0,d=0,_=0,w=0;w<s.length;w++){var R=Et(s[w]);u+=R.lat,d+=R.lng,_++}return Et([u/_,d/_])}var ra={__proto__:null,clipPolygon:na,polygonCenter:kr,centroid:ia};function Eo(s,u){if(!u||!s.length)return s.slice();var d=u*u;return s=fl(s,d),s=hl(s,d),s}function sa(s,u,d){return Math.sqrt(Vn(s,u,d,!0))}function hr(s,u,d){return Vn(s,u,d)}function hl(s,u){var d=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,w=new _(d);w[0]=w[d-1]=1,aa(s,w,u,0,d-1);var R,N=[];for(R=0;R<d;R++)w[R]&&N.push(s[R]);return N}function aa(s,u,d,_,w){var R=0,N,Q,nt;for(Q=_+1;Q<=w-1;Q++)nt=Vn(s[Q],s[_],s[w],!0),nt>R&&(N=Q,R=nt);R>d&&(u[N]=1,aa(s,u,d,_,N),aa(s,u,d,N,w))}function fl(s,u){for(var d=[s[0]],_=1,w=0,R=s.length;_<R;_++)dl(s[_],s[w])>u&&(d.push(s[_]),w=_);return w<R-1&&d.push(s[R-1]),d}var To;function fs(s,u,d,_,w){var R=_?To:Hi(s,d),N=Hi(u,d),Q,nt,dt;for(To=N;;){if(!(R|N))return[s,u];if(R&N)return!1;Q=R||N,nt=$e(s,u,Q,d,w),dt=Hi(nt,d),Q===R?(s=nt,R=dt):(u=nt,N=dt)}}function $e(s,u,d,_,w){var R=u.x-s.x,N=u.y-s.y,Q=_.min,nt=_.max,dt,wt;return d&8?(dt=s.x+R*(nt.y-s.y)/N,wt=nt.y):d&4?(dt=s.x+R*(Q.y-s.y)/N,wt=Q.y):d&2?(dt=nt.x,wt=s.y+N*(nt.x-s.x)/R):d&1&&(dt=Q.x,wt=s.y+N*(Q.x-s.x)/R),new gt(dt,wt,w)}function Hi(s,u){var d=0;return s.x<u.min.x?d|=1:s.x>u.max.x&&(d|=2),s.y<u.min.y?d|=4:s.y>u.max.y&&(d|=8),d}function dl(s,u){var d=u.x-s.x,_=u.y-s.y;return d*d+_*_}function Vn(s,u,d,_){var w=u.x,R=u.y,N=d.x-w,Q=d.y-R,nt=N*N+Q*Q,dt;return nt>0&&(dt=((s.x-w)*N+(s.y-R)*Q)/nt,dt>1?(w=d.x,R=d.y):dt>0&&(w+=N*dt,R+=Q*dt)),N=s.x-w,Q=s.y-R,_?N*N+Q*Q:new gt(w,R)}function f(s){return!mt(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function T(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(s)}function A(s,u){var d,_,w,R,N,Q,nt,dt;if(!s||s.length===0)throw new Error("latlngs not passed");f(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var wt=Et([0,0]),Ct=Tt(s),xt=Ct.getNorthWest().distanceTo(Ct.getSouthWest())*Ct.getNorthEast().distanceTo(Ct.getNorthWest());xt<1700&&(wt=ia(s));var jt=s.length,Pe=[];for(d=0;d<jt;d++){var Be=Et(s[d]);Pe.push(u.project(Et([Be.lat-wt.lat,Be.lng-wt.lng])))}for(d=0,_=0;d<jt-1;d++)_+=Pe[d].distanceTo(Pe[d+1])/2;if(_===0)dt=Pe[0];else for(d=0,R=0;d<jt-1;d++)if(N=Pe[d],Q=Pe[d+1],w=N.distanceTo(Q),R+=w,R>_){nt=(R-_)/w,dt=[Q.x-nt*(Q.x-N.x),Q.y-nt*(Q.y-N.y)];break}var _n=u.unproject(M(dt));return Et([_n.lat+wt.lat,_n.lng+wt.lng])}var P={__proto__:null,simplify:Eo,pointToSegmentDistance:sa,closestPointOnSegment:hr,clipSegment:fs,_getEdgeIntersection:$e,_getBitCode:Hi,_sqClosestPointOnSegment:Vn,isFlat:f,_flat:T,polylineCenter:A},K={project:function(s){return new gt(s.lng,s.lat)},unproject:function(s){return new bt(s.y,s.x)},bounds:new st([-180,-90],[180,90])},it={R:6378137,R_MINOR:6356752314245179e-9,bounds:new st([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,d=this.R,_=s.lat*u,w=this.R_MINOR/d,R=Math.sqrt(1-w*w),N=R*Math.sin(_),Q=Math.tan(Math.PI/4-_/2)/Math.pow((1-N)/(1+N),R/2);return _=-d*Math.log(Math.max(Q,1e-10)),new gt(s.lng*u*d,_)},unproject:function(s){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,w=Math.sqrt(1-_*_),R=Math.exp(-s.y/d),N=Math.PI/2-2*Math.atan(R),Q=0,nt=.1,dt;Q<15&&Math.abs(nt)>1e-7;Q++)dt=w*Math.sin(N),dt=Math.pow((1-dt)/(1+dt),w/2),nt=Math.PI/2-2*Math.atan(R*dt)-N,N+=nt;return new bt(N*u,s.x*u/d)}},vt={__proto__:null,LonLat:K,Mercator:it,SphericalMercator:Li},te=l({},re,{code:"EPSG:3395",projection:it,transformation:function(){var s=.5/(Math.PI*it.R);return ui(s,.5,-s,.5)}()}),Fe=l({},re,{code:"EPSG:4326",projection:K,transformation:ui(1/180,1,-1/180,.5)}),ee=l({},ve,{projection:K,transformation:ui(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var d=u.lng-s.lng,_=u.lat-s.lat;return Math.sqrt(d*d+_*_)},infinite:!0});ve.Earth=re,ve.EPSG3395=te,ve.EPSG3857=tr,ve.EPSG900913=ts,ve.EPSG4326=Fe,ve.Simple=ee;var de=yt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[y(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[y(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Zt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=y(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return y(s)in this._layers},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},_addLayers:function(s){s=s?mt(s)?s:[s]:[];for(var u=0,d=s.length;u<d;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[y(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=y(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var w=this._zoomBoundLayers[_].options;s=w.minZoom===void 0?s:Math.min(s,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xe=de.extend({initialize:function(s,u){X(this,u),this._layers={};var d,_;if(s)for(d=0,_=s.length;d<_;d++)this.addLayer(s[d])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[s]&&_[s].apply(_,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return y(s)}}),fr=function(s,u){return new xe(s,u)},Se=xe.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),xe.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),xe.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new pt;for(var u in this._layers){var d=this._layers[u];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),Fi=function(s,u){return new Se(s,u)},Gi=Ae.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){X(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var w=M(_),R=M(u==="shadow"&&d.shadowAnchor||d.iconAnchor||w&&w.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(d.className||""),R&&(s.style.marginLeft=-R.x+"px",s.style.marginTop=-R.y+"px"),w&&(s.style.width=w.x+"px",s.style.height=w.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return Ot.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function ml(s){return new Gi(s)}var oa=Gi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof oa.imagePath!="string"&&(oa.imagePath=this._detectIconPath()),(this.options.imagePath||oa.imagePath)+Gi.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(d,_,w){var R=_.exec(d);return R&&R[w]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Wt("div","leaflet-default-icon-path",document.body),u=zi(s,"background-image")||zi(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),yu=kn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new yi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ht(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,R=Fn(u._icon),N=d.getPixelBounds(),Q=d.getPixelOrigin(),nt=_t(N.min._subtract(Q).add(w),N.max._subtract(Q).subtract(w));if(!nt.contains(R)){var dt=M((Math.max(nt.max.x,R.x)-nt.max.x)/(N.max.x-nt.max.x)-(Math.min(nt.min.x,R.x)-nt.min.x)/(N.min.x-nt.min.x),(Math.max(nt.max.y,R.y)-nt.max.y)/(N.max.y-nt.max.y)-(Math.min(nt.min.y,R.y)-nt.min.y)/(N.min.y-nt.min.y)).multiplyBy(_);d.panBy(dt,{animate:!1}),this._draggable._newPos._add(dt),this._draggable._startPos._add(dt),Vt(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=j(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,d=u._shadow,_=Fn(u._icon),w=u._map.layerPointToLatLng(_);d&&Vt(d,_),u._latlng=w,s.latlng=w,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),la=de.extend({options:{icon:new oa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){X(this,u),this._latlng=Et(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=Et(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),Ht(d,u),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(d,"focus",this._panOnFocus,this);var w=s.icon.createShadow(this._shadow),R=!1;w!==this._shadow&&(this._removeShadow(),R=!0),w&&(Ht(w,u),w.alt=""),this._shadow=w,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&R&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ae(this._icon,"focus",this._panOnFocus,this),fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fe(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Vt(this._icon,s),this._shadow&&Vt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ht(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yu)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yu(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ie(this._icon,s),this._shadow&&Ie(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,d=u.iconSize?M(u.iconSize):M(0,0),_=u.iconAnchor?M(u.iconAnchor):M(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Eu(s,u){return new la(s,u)}var dr=de.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return X(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),wo=dr.extend({options:{fill:!0,radius:10},initialize:function(s,u){X(this,u),this._latlng=Et(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=Et(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return dr.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,d=this._clickTolerance(),_=[s+d,u+d];this._pxBounds=new st(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Xc(s,u){return new wo(s,u)}var Tu=wo.extend({initialize:function(s,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),X(this,u),this._latlng=Et(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new pt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:dr.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===re.distance){var w=Math.PI/180,R=this._mRadius/re.R/w,N=d.project([u+R,s]),Q=d.project([u-R,s]),nt=N.add(Q).divideBy(2),dt=d.unproject(nt).lat,wt=Math.acos((Math.cos(R*w)-Math.sin(u*w)*Math.sin(dt*w))/(Math.cos(u*w)*Math.cos(dt*w)))/w;(isNaN(wt)||wt===0)&&(wt=R/Math.cos(Math.PI/180*u)),this._point=nt.subtract(d.getPixelOrigin()),this._radius=isNaN(wt)?0:nt.x-d.project([dt,s-wt]).x,this._radiusY=nt.y-N.y}else{var Ct=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ct).x}this._updateBounds()}});function _d(s,u,d){return new Tu(s,u,d)}var mr=dr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){X(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,d=null,_=Vn,w,R,N=0,Q=this._parts.length;N<Q;N++)for(var nt=this._parts[N],dt=1,wt=nt.length;dt<wt;dt++){w=nt[dt-1],R=nt[dt];var Ct=_(s,w,R,!0);Ct<u&&(u=Ct,d=_(s,w,R))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return A(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=Et(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new pt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],d=f(s),_=0,w=s.length;_<w;_++)d?(u[_]=Et(s[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(s[_]);return u},_project:function(){var s=new st;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new gt(s,s);this._rawPxBounds&&(this._pxBounds=new st([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,d){var _=s[0]instanceof bt,w=s.length,R,N;if(_){for(N=[],R=0;R<w;R++)N[R]=this._map.latLngToLayerPoint(s[R]),d.extend(N[R]);u.push(N)}else for(R=0;R<w;R++)this._projectLatlngs(s[R],u,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,w,R,N,Q,nt;for(d=0,w=0,R=this._rings.length;d<R;d++)for(nt=this._rings[d],_=0,N=nt.length;_<N-1;_++)Q=fs(nt[_],nt[_+1],s,_,!0),Q&&(u[w]=u[w]||[],u[w].push(Q[0]),(Q[1]!==nt[_+1]||_===N-2)&&(u[w].push(Q[1]),w++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,d=0,_=s.length;d<_;d++)s[d]=Eo(s[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var d,_,w,R,N,Q,nt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,R=this._parts.length;d<R;d++)for(Q=this._parts[d],_=0,N=Q.length,w=N-1;_<N;w=_++)if(!(!u&&_===0)&&sa(s,Q[w],Q[_])<=nt)return!0;return!1}});function vd(s,u){return new mr(s,u)}mr._flat=T;var ua=mr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=mr.prototype._convertLatLngs.call(this,s),d=u.length;return d>=2&&u[0]instanceof bt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(s){mr.prototype._setLatLngs.call(this,s),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,d=new gt(u,u);if(s=new st(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,w=this._rings.length,R;_<w;_++)R=na(this._rings[_],s,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,d,_,w,R,N,Q,nt,dt;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(R=0,nt=this._parts.length;R<nt;R++)for(d=this._parts[R],N=0,dt=d.length,Q=dt-1;N<dt;Q=N++)_=d[N],w=d[Q],_.y>s.y!=w.y>s.y&&s.x<(w.x-_.x)*(s.y-_.y)/(w.y-_.y)+_.x&&(u=!u);return u||mr.prototype._containsPoint.call(this,s,!0)}});function Zn(s,u){return new ua(s,u)}var Kn=Se.extend({initialize:function(s,u){X(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=mt(s)?s:s.features,d,_,w;if(u){for(d=0,_=u.length;d<_;d++)w=u[d],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var R=this.options;if(R.filter&&!R.filter(s))return this;var N=Ao(s,R);return N?(N.feature=ca(s),N.defaultOptions=N.options,this.resetStyle(N),R.onEachFeature&&R.onEachFeature(s,N),this.addLayer(N)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function Ao(s,u){var d=s.type==="Feature"?s.geometry:s,_=d?d.coordinates:null,w=[],R=u&&u.pointToLayer,N=u&&u.coordsToLatLng||pl,Q,nt,dt,wt;if(!_&&!d)return null;switch(d.type){case"Point":return Q=N(_),wu(R,s,Q,u);case"MultiPoint":for(dt=0,wt=_.length;dt<wt;dt++)Q=N(_[dt]),w.push(wu(R,s,Q,u));return new Se(w);case"LineString":case"MultiLineString":return nt=So(_,d.type==="LineString"?0:1,N),new mr(nt,u);case"Polygon":case"MultiPolygon":return nt=So(_,d.type==="Polygon"?1:2,N),new ua(nt,u);case"GeometryCollection":for(dt=0,wt=d.geometries.length;dt<wt;dt++){var Ct=Ao({geometry:d.geometries[dt],type:"Feature",properties:s.properties},u);Ct&&w.push(Ct)}return new Se(w);case"FeatureCollection":for(dt=0,wt=d.features.length;dt<wt;dt++){var xt=Ao(d.features[dt],u);xt&&w.push(xt)}return new Se(w);default:throw new Error("Invalid GeoJSON object.")}}function wu(s,u,d,_){return s?s(u,d):new la(d,_&&_.markersInheritOptions&&_)}function pl(s){return new bt(s[1],s[0],s[2])}function So(s,u,d){for(var _=[],w=0,R=s.length,N;w<R;w++)N=u?So(s[w],u-1,d):(d||pl)(s[w]),_.push(N);return _}function bo(s,u){return s=Et(s),s.alt!==void 0?[x(s.lng,u),x(s.lat,u),x(s.alt,u)]:[x(s.lng,u),x(s.lat,u)]}function gl(s,u,d,_){for(var w=[],R=0,N=s.length;R<N;R++)w.push(u?gl(s[R],f(s[R])?0:u-1,d,_):bo(s[R],_));return!u&&d&&w.length>0&&w.push(w[0].slice()),w}function Ei(s,u){return s.feature?l({},s.feature,{geometry:u}):ca(u)}function ca(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var ds={toGeoJSON:function(s){return Ei(this,{type:"Point",coordinates:bo(this.getLatLng(),s)})}};la.include(ds),Tu.include(ds),wo.include(ds),mr.include({toGeoJSON:function(s){var u=!f(this._latlngs),d=gl(this._latlngs,u?1:0,!1,s);return Ei(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),ua.include({toGeoJSON:function(s){var u=!f(this._latlngs),d=u&&!f(this._latlngs[0]),_=gl(this._latlngs,d?2:u?1:0,!0,s);return u||(_=[_]),Ei(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),xe.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(s).geometry.coordinates)}),Ei(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(w){if(w.toGeoJSON){var R=w.toGeoJSON(s);if(d)_.push(R.geometry);else{var N=ca(R);N.type==="FeatureCollection"?_.push.apply(_,N.features):_.push(N)}}}),d?Ei(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function _l(s,u){return new Kn(s,u)}var Jc=_l,Zi=de.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,d){this._url=s,this._bounds=Tt(u),X(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ht(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Bi(this._image),this},bringToBack:function(){return this._map&&Lr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Tt(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Wt("img");if(Ht(u,"leaflet-image-layer"),this._zoomAnimated&&Ht(u,"leaflet-zoom-animated"),this.options.className&&Ht(u,this.options.className),u.onselectstart=I,u.onmousemove=I,u.onload=m(this.fire,this,"load"),u.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;An(this._image,d,u)},_reset:function(){var s=this._image,u=new st(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();Vt(s,u.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){Ie(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),ha=function(s,u,d){return new Zi(s,u,d)},vl=Zi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Wt("video");if(Ht(u,"leaflet-image-layer"),this._zoomAnimated&&Ht(u,"leaflet-zoom-animated"),this.options.className&&Ht(u,this.options.className),u.onselectstart=I,u.onmousemove=I,u.onloadeddata=m(this.fire,this,"load"),s){for(var d=u.getElementsByTagName("source"),_=[],w=0;w<d.length;w++)_.push(d[w].src);this._url=d.length>0?_:[u.src];return}mt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var N=Wt("source");N.src=this._url[R],u.appendChild(N)}}});function $c(s,u,d){return new vl(s,u,d)}var Vr=Zi.extend({_initImage:function(){var s=this._image=this._url;Ht(s,"leaflet-image-layer"),this._zoomAnimated&&Ht(s,"leaflet-zoom-animated"),this.options.className&&Ht(s,this.options.className),s.onselectstart=I,s.onmousemove=I}});function th(s,u,d){return new Vr(s,u,d)}var Ti=de.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof bt||mt(s))?(this._latlng=Et(s),X(this,u)):(X(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ie(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ie(this._container,1),this.bringToFront(),this.options.interactive&&(Ht(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ie(this._container,0),this._removeTimeout=setTimeout(m(fe,void 0,this._container),200)):fe(this._container),this.options.interactive&&(pe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Et(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bi(this._container),this},bringToBack:function(){return this._map&&Lr(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Se){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=M(this.options.offset),d=this._getAnchor();this._zoomAnimated?Vt(this._container,s.add(d)):u=u.add(s).add(d);var _=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Zt.include({_initOverlay:function(s,u,d,_){var w=u;return w instanceof s||(w=new s(_).setContent(u)),d&&w.setLatLng(d),w}}),de.include({_initOverlay:function(s,u,d,_){var w=d;return w instanceof s?(X(w,_),w._source=this):(w=u&&!_?u:new s(_,this),w.setContent(d)),w}});var Ro=Ti.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Ti.prototype.openOn.call(this,s)},onAdd:function(s){Ti.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof dr||this._source.on("preclick",Nn))},onRemove:function(s){Ti.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof dr||this._source.off("preclick",Nn))},getEvents:function(){var s=Ti.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Wt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Wt("div",s+"-content-wrapper",u);if(this._contentNode=Wt("div",s+"-content",d),lr(u),vi(this._contentNode),Dt(u,"contextmenu",Nn),this._tipContainer=Wt("div",s+"-tip-container",u),this._tip=Wt("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Wt("a",s+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Dt(_,"click",function(w){ye(w),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=s.offsetHeight,w=this.options.maxHeight,R="leaflet-popup-scrolled";w&&_>w?(u.height=w+"px",Ht(s,R)):pe(s,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();Vt(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(zi(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,w=new gt(this._containerLeft,-d-this._containerBottom);w._add(Fn(this._container));var R=s.layerPointToContainerPoint(w),N=M(this.options.autoPanPadding),Q=M(this.options.autoPanPaddingTopLeft||N),nt=M(this.options.autoPanPaddingBottomRight||N),dt=s.getSize(),wt=0,Ct=0;R.x+_+nt.x>dt.x&&(wt=R.x+_-dt.x+nt.x),R.x-wt-Q.x<0&&(wt=R.x-Q.x),R.y+d+nt.y>dt.y&&(Ct=R.y+d-dt.y+nt.y),R.y-Ct-Q.y<0&&(Ct=R.y-Q.y),(wt||Ct)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([wt,Ct]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),yd=function(s,u){return new Ro(s,u)};Zt.mergeOptions({closePopupOnClick:!0}),Zt.include({openPopup:function(s,u,d){return this._initOverlay(Ro,s,u,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),de.include({bindPopup:function(s,u){return this._popup=this._initOverlay(Ro,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Se||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){pn(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof dr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var yl=Ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Ti.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Ti.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Ti.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Wt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,d,_=this._map,w=this._container,R=_.latLngToContainerPoint(_.getCenter()),N=_.layerPointToContainerPoint(s),Q=this.options.direction,nt=w.offsetWidth,dt=w.offsetHeight,wt=M(this.options.offset),Ct=this._getAnchor();Q==="top"?(u=nt/2,d=dt):Q==="bottom"?(u=nt/2,d=0):Q==="center"?(u=nt/2,d=dt/2):Q==="right"?(u=0,d=dt/2):Q==="left"?(u=nt,d=dt/2):N.x<R.x?(Q="right",u=0,d=dt/2):(Q="left",u=nt+(wt.x+Ct.x)*2,d=dt/2),s=s.subtract(M(u,d,!0)).add(wt).add(Ct),pe(w,"leaflet-tooltip-right"),pe(w,"leaflet-tooltip-left"),pe(w,"leaflet-tooltip-top"),pe(w,"leaflet-tooltip-bottom"),Ht(w,"leaflet-tooltip-"+Q),Vt(w,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ie(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ed=function(s,u){return new yl(s,u)};Zt.include({openTooltip:function(s,u,d){return this._initOverlay(yl,s,u,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),de.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(yl,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Se||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Dt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Dt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,d,_;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Au=Gi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Je(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=M(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function eh(s){return new Au(s)}Gi.Default=oa;var ms=de.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){X(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),fe(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Lr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof gt?s:new gt(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,d=-s(-1/0,1/0),_=0,w=u.length,R;_<w;_++)R=u[_].style.zIndex,u[_]!==this._container&&R&&(d=s(d,+R));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ot.ielt9){Ie(this._container,this.options.opacity);var s=+new Date,u=!1,d=!1;for(var _ in this._tiles){var w=this._tiles[_];if(!(!w.current||!w.loaded)){var R=Math.min(1,(s-w.loaded)/200);Ie(w.el,R),R<1?u=!0:(w.active?d=!0:this._onOpaqueTile(w),w.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(G(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:I,_initContainer:function(){this._container||(this._container=Wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=u-Math.abs(s-d),this._onUpdateLevel(d)):(fe(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[s],w=this._map;return _||(_=this._levels[s]={},_.el=Wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=w.project(w.unproject(w.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,w.getCenter(),w.getZoom()),I(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:I,_onRemoveLevel:I,_onCreateLevel:I,_pruneTiles:function(){if(this._map){var s,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)fe(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,d,_){var w=Math.floor(s/2),R=Math.floor(u/2),N=d-1,Q=new gt(+w,+R);Q.z=+N;var nt=this._tileCoordsToKey(Q),dt=this._tiles[nt];return dt&&dt.active?(dt.retain=!0,!0):(dt&&dt.loaded&&(dt.retain=!0),N>_?this._retainParent(w,R,N,_):!1)},_retainChildren:function(s,u,d,_){for(var w=2*s;w<2*s+2;w++)for(var R=2*u;R<2*u+2;R++){var N=new gt(w,R);N.z=d+1;var Q=this._tileCoordsToKey(N),nt=this._tiles[Q];if(nt&&nt.active){nt.retain=!0;continue}else nt&&nt.loaded&&(nt.retain=!0);d+1<_&&this._retainChildren(w,R,d+1,_)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,d,_){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var R=this.options.updateWhenZooming&&w!==this._tileZoom;(!_||R)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,u)},_setZoomTransform:function(s,u,d){var _=this._map.getZoomScale(d,s.zoom),w=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();Ot.any3d?An(s.el,w,_):Vt(s.el,w)},_resetGrid:function(){var s=this._map,u=s.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(s.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(s.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),w=u.project(s,this._tileZoom).floor(),R=u.getSize().divideBy(_*2);return new st(w.subtract(R),w.add(R))},_update:function(s){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),w=this._pxBoundsToTileRange(_),R=w.getCenter(),N=[],Q=this.options.keepBuffer,nt=new st(w.getBottomLeft().subtract([Q,-Q]),w.getTopRight().add([Q,-Q]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var dt in this._tiles){var wt=this._tiles[dt].coords;(wt.z!==this._tileZoom||!nt.contains(new gt(wt.x,wt.y)))&&(this._tiles[dt].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var Ct=w.min.y;Ct<=w.max.y;Ct++)for(var xt=w.min.x;xt<=w.max.x;xt++){var jt=new gt(xt,Ct);if(jt.z=this._tileZoom,!!this._isValidTile(jt)){var Pe=this._tiles[this._tileCoordsToKey(jt)];Pe?Pe.current=!0:N.push(jt)}}if(N.sort(function(_n,ei){return _n.distanceTo(R)-ei.distanceTo(R)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Be=document.createDocumentFragment();for(xt=0;xt<N.length;xt++)this._addTile(N[xt],Be);this._level.el.appendChild(Be)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!u.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return Tt(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,d=this.getTileSize(),_=s.scaleBy(d),w=_.add(d),R=u.unproject(_,s.z),N=u.unproject(w,s.z);return[R,N]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),d=new pt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),d=new gt(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(s){var u=this._tiles[s];u&&(fe(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Ht(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=I,s.onmousemove=I,Ot.ielt9&&this.options.opacity<1&&Ie(s,this.options.opacity)},_addTile:function(s,u){var d=this._getTilePos(s),_=this._tileCoordsToKey(s),w=this.createTile(this._wrapCoords(s),m(this._tileReady,this,s));this._initTile(w),this.createTile.length<2&&j(m(this._tileReady,this,s,null,w)),Vt(w,d),this._tiles[_]={el:w,coords:s,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:s})},_tileReady:function(s,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:s});var _=this._tileCoordsToKey(s);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ie(d.el,0),G(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(Ht(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ot.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new gt(this._wrapX?b(s.x,this._wrapX):s.x,this._wrapY?b(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new st(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function wi(s){return new ms(s)}var ps=ms.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=X(this,u),u.detectRetina&&Ot.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var d=document.createElement("img");return Dt(d,"load",m(this._tileOnLoad,this,u,d)),Dt(d,"error",m(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var u={r:Ot.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=d),u["-y"]=d}return ft(this._url,l(u,this.options))},_tileOnLoad:function(s,u){Ot.ielt9?setTimeout(m(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),s(d,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(s=u-s),s+_},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=I,u.onerror=I,!u.complete)){u.src=Rt;var d=this._tiles[s].coords;fe(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",Rt),ms.prototype._removeTile.call(this,s)},_tileReady:function(s,u,d){if(!(!this._map||d&&d.getAttribute("src")===Rt))return ms.prototype._tileReady.call(this,s,u,d)}});function Qn(s,u){return new ps(s,u)}var Yn=ps.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=X(this,u);var w=u.detectRetina&&Ot.retina?2:1,R=this.getTileSize();d.width=R.x*w,d.height=R.y*w,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,ps.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),d=this._crs,_=_t(d.project(u[0]),d.project(u[1])),w=_.min,R=_.max,N=(this._wmsVersion>=1.3&&this._crs===Fe?[w.y,w.x,R.y,R.x]:[w.x,w.y,R.x,R.y]).join(","),Q=ps.prototype.getTileUrl.call(this,s);return Q+tt(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function fa(s,u){return new Yn(s,u)}ps.WMS=Yn,Qn.wms=fa;var Ai=de.extend({options:{padding:.1},initialize:function(s){X(this,s),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ht(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),R=_.multiplyBy(-d).add(w).subtract(this._map._getNewPixelOrigin(s,u));Ot.any3d?An(this._container,R,d):Vt(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new st(d,d.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Co=Ai.extend({options:{tolerance:0},getEvents:function(){var s=Ai.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ai.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Dt(s,"mousemove",this._onMouseMove,this),Dt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Dt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,fe(this._container),ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ai.prototype._update.call(this);var s=this._bounds,u=this._container,d=s.getSize(),_=Ot.retina?2:1;Vt(u,s.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Ai.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[y(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete s._order,delete this._layers[y(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),d=[],_,w;for(w=0;w<u.length;w++){if(_=Number(u[w]),isNaN(_))return;d.push(_)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new st,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var d,_,w,R,N=s._parts,Q=N.length,nt=this._ctx;if(Q){for(nt.beginPath(),d=0;d<Q;d++){for(_=0,w=N[d].length;_<w;_++)R=N[d][_],nt[_?"lineTo":"moveTo"](R.x,R.y);u&&nt.closePath()}this._fillStroke(nt,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,d=this._ctx,_=Math.max(Math.round(s._radius),1),w=(Math.max(Math.round(s._radiusY),1)||_)/_;w!==1&&(d.save(),d.scale(1,w)),d.beginPath(),d.arc(u.x,u.y/w,_,0,Math.PI*2,!1),w!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,u){var d=u.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(pe(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(Ht(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,d){this._map._fireDOMEvent(u,d||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Io(s){return Ot.canvas?new Co(s):null}var gs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),da={_initContainer:function(){this._container=Wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ai.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=gs("shape");Ht(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=gs("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[y(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;fe(u),s.removeInteractiveTarget(u),delete this._layers[y(s)]},_updateStyle:function(s){var u=s._stroke,d=s._fill,_=s.options,w=s._container;w.stroked=!!_.stroke,w.filled=!!_.fill,_.stroke?(u||(u=s._stroke=gs("stroke")),w.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=mt(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(w.removeChild(u),s._stroke=null),_.fill?(d||(d=s._fill=gs("fill")),w.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(w.removeChild(d),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),d=Math.round(s._radius),_=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Bi(s._container)},_bringToBack:function(s){Lr(s._container)}},xo=Ot.vml?gs:Hs,Ur=Ai.extend({_initContainer:function(){this._container=xo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=xo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fe(this._container),ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ai.prototype._update.call(this);var s=this._bounds,u=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),Vt(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=xo("path");s.options.className&&Ht(u,s.options.className),s.options.interactive&&Ht(u,"leaflet-interactive"),this._updateStyle(s),this._layers[y(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){fe(s._path),s.removeInteractiveTarget(s._path),delete this._layers[y(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,d=s.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,ro(s._parts,u))},_updateCircle:function(s){var u=s._point,d=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||d,w="a"+d+","+_+" 0 1,0 ",R=s._empty()?"M0 0":"M"+(u.x-d)+","+u.y+w+d*2+",0 "+w+-d*2+",0 ";this._setPath(s,R)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Bi(s._path)},_bringToBack:function(s){Lr(s._path)}});Ot.vml&&Ur.include(da);function _s(s){return Ot.svg||Ot.vml?new Ur(s):null}Zt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Io(s)||_s(s)}});var nh=ua.extend({initialize:function(s,u){ua.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Tt(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Wn(s,u){return new nh(s,u)}Ur.create=xo,Ur.pointsToPath=ro,Kn.geometryToLayer=Ao,Kn.coordsToLatLng=pl,Kn.coordsToLatLngs=So,Kn.latLngToCoords=bo,Kn.latLngsToCoords=gl,Kn.getFeature=Ei,Kn.asFeature=ca,Zt.mergeOptions({boxZoom:!0});var El=kn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),mn(),ls(),this._startPoint=this._map.mouseEventToContainerPoint(s),Dt(document,{contextmenu:pn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Wt("div","leaflet-zoom-box",this._container),Ht(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new st(this._point,this._startPoint),d=u.getSize();Vt(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(fe(this._box),pe(this._container,"leaflet-crosshair")),pi(),go(),ae(document,{contextmenu:pn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var u=new pt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Zt.addInitHook("addHandler","boxZoom",El),Zt.mergeOptions({doubleClickZoom:!0});var Ki=kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,w=s.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(s.containerPoint,w)}});Zt.addInitHook("addHandler","doubleClickZoom",Ki),Zt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Su=kn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new yi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Ht(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pe(this._map._container,"leaflet-grab"),pe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Tt(this._map.options.maxBounds);this._offsetLimit=_t(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,w=(_-u+d)%s+u-d,R=(_+u+d)%s-u-d,N=Math.abs(w+d)<Math.abs(R+d)?w:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(s){var u=this._map,d=u.options,_=!d.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),_)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,N=d.easeLinearity,Q=w.multiplyBy(N/R),nt=Q.distanceTo([0,0]),dt=Math.min(d.inertiaMaxSpeed,nt),wt=Q.multiplyBy(dt/nt),Ct=dt/(d.inertiaDeceleration*N),xt=wt.multiplyBy(-Ct/2).round();!xt.x&&!xt.y?u.fire("moveend"):(xt=u._limitOffset(xt,u.options.maxBounds),j(function(){u.panBy(xt,{duration:Ct,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});Zt.addInitHook("addHandler","dragging",Su),Zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Po=kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Dt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,d=s.scrollTop||u.scrollTop,_=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},d=this.keyCodes,_,w;for(_=0,w=d.left.length;_<w;_++)u[d.left[_]]=[-1*s,0];for(_=0,w=d.right.length;_<w;_++)u[d.right[_]]=[s,0];for(_=0,w=d.down.length;_<w;_++)u[d.down[_]]=[0,s];for(_=0,w=d.up.length;_<w;_++)u[d.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},d=this.keyCodes,_,w;for(_=0,w=d.zoomIn.length;_<w;_++)u[d.zoomIn[_]]=s;for(_=0,w=d.zoomOut.length;_<w;_++)u[d.zoomOut[_]]=-s},_addHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],s.shiftKey&&(_=M(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(M(_),d.options.maxBounds)),d.options.worldCopyJump){var w=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(w)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;pn(s)}}});Zt.addInitHook("addHandler","keyboard",Po),Zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var zr=kn.extend({addHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=us(s),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),_),pn(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,R=d?Math.ceil(w/d)*d:w,N=s._limitZoom(u+(this._delta>0?R:-R))-u;this._delta=0,this._startTime=null,N&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+N):s.setZoomAround(this._lastMousePos,u+N))}});Zt.addInitHook("addHandler","scrollWheelZoom",zr);var bu=600;Zt.mergeOptions({tapHold:Ot.touchNative&&Ot.safari&&Ot.mobile,tapTolerance:15});var Tl=kn.extend({addHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new gt(u.clientX,u.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Dt(document,"touchend",ye),Dt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),bu),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ae(document,"touchend",ye),ae(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ae(document,"touchend touchcancel contextmenu",this._cancel,this),ae(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new gt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Zt.addInitHook("addHandler","tapHold",Tl),Zt.mergeOptions({touchZoom:Ot.touch,bounceAtZoomLimits:!0});var vs=kn.extend({addHooks:function(){Ht(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pe(this._map._container,"leaflet-touch-zoom"),ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),ye(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]),w=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var R=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(w===1&&R.x===0&&R.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var N=m(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(N,this,!0),ye(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),ae(document,"touchmove",this._onTouchMove,this),ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Zt.addInitHook("addHandler","touchZoom",vs),Zt.BoxZoom=El,Zt.DoubleClickZoom=Ki,Zt.Drag=Su,Zt.Keyboard=Po,Zt.ScrollWheelZoom=zr,Zt.TapHold=Tl,Zt.TouchZoom=vs,n.Bounds=st,n.Browser=Ot,n.CRS=ve,n.Canvas=Co,n.Circle=Tu,n.CircleMarker=wo,n.Class=Ae,n.Control=ln,n.DivIcon=Au,n.DivOverlay=Ti,n.DomEvent=ul,n.DomUtil=_o,n.Draggable=yi,n.Evented=yt,n.FeatureGroup=Se,n.GeoJSON=Kn,n.GridLayer=ms,n.Handler=kn,n.Icon=Gi,n.ImageOverlay=Zi,n.LatLng=bt,n.LatLngBounds=pt,n.Layer=de,n.LayerGroup=xe,n.LineUtil=P,n.Map=Zt,n.Marker=la,n.Mixin=hs,n.Path=dr,n.Point=gt,n.PolyUtil=ra,n.Polygon=ua,n.Polyline=mr,n.Popup=Ro,n.PosAnimation=cs,n.Projection=vt,n.Rectangle=nh,n.Renderer=Ai,n.SVG=Ur,n.SVGOverlay=Vr,n.TileLayer=ps,n.Tooltip=yl,n.Transformation=li,n.Util=V,n.VideoOverlay=vl,n.bind=m,n.bounds=_t,n.canvas=Io,n.circle=_d,n.circleMarker=Xc,n.control=gn,n.divIcon=eh,n.extend=l,n.featureGroup=Fi,n.geoJSON=_l,n.geoJson=Jc,n.gridLayer=wi,n.icon=ml,n.imageOverlay=ha,n.latLng=Et,n.latLngBounds=Tt,n.layerGroup=fr,n.map=qi,n.marker=Eu,n.point=M,n.polygon=Zn,n.polyline=vd,n.popup=yd,n.rectangle=Wn,n.setOptions=X,n.stamp=y,n.svg=_s,n.svgOverlay=th,n.tileLayer=Qn,n.tooltip=Ed,n.transformation=ui,n.version=a,n.videoOverlay=$c;var ma=window.L;n.noConflict=function(){return window.L=ma,this},window.L=n})}(pc,pc.exports)),pc.exports}var il=sL();const wc=jp(il);function Wc(r,t,n){return Object.freeze({instance:r,context:t,container:n})}function gd(r,t){return t==null?function(a,l){const h=Y.useRef(void 0);return h.current||(h.current=r(a,l)),h}:function(a,l){const h=Y.useRef(void 0);h.current||(h.current=r(a,l));const m=Y.useRef(a),{instance:v}=h.current;return Y.useEffect(function(){m.current!==a&&(t(v,a,m.current),m.current=a)},[v,a,t]),h}}function PA(r,t){Y.useEffect(function(){return(t.layerContainer??t.map).addLayer(r.instance),function(){var h;(h=t.layerContainer)==null||h.removeLayer(r.instance),t.map.removeLayer(r.instance)}},[t,r])}function OA(r){return function(n){const a=$g(),l=r(pd(n,a),a);return IA(a.map,n.attribution),t_(l.current,n.eventHandlers),PA(l.current,a),l}}function aL(r,t){const n=Y.useRef(void 0);Y.useEffect(function(){if(t.pathOptions!==n.current){const l=t.pathOptions??{};r.instance.setStyle(l),n.current=l}},[r,t])}function oL(r){return function(n){const a=$g(),l=r(pd(n,a),a);return t_(l.current,n.eventHandlers),PA(l.current,a),aL(l.current,n),l}}function lL(r,t){const n=gd(r,t),a=OA(n);return xA(a)}function uL(r,t){const n=gd(r),a=iL(n,t);return eL(a)}function LA(r,t){const n=gd(r,t),a=oL(n);return xA(a)}function cL(r,t){const n=gd(r,t),a=OA(n);return nL(a)}function hL(r,t,n){const{opacity:a,zIndex:l}=t;a!=null&&a!==n.opacity&&r.setOpacity(a),l!=null&&l!==n.zIndex&&r.setZIndex(l)}const fL=LA(function({center:t,children:n,...a},l){const h=new il.CircleMarker(t,a);return Wc(h,Xg(l,{overlayContainer:h}))},J2);function dL({bounds:r,boundsOptions:t,center:n,children:a,className:l,id:h,placeholder:m,style:v,whenReady:y,zoom:E,...b},I){const[x]=Y.useState({className:l,id:h,style:v}),[B,F]=Y.useState(null),X=Y.useRef(void 0);Y.useImperativeHandle(I,()=>(B==null?void 0:B.map)??null,[B]);const tt=Y.useCallback(ft=>{if(ft!==null&&!X.current){const mt=new il.Map(ft,b);X.current=mt,n!=null&&E!=null?mt.setView(n,E):r!=null&&mt.fitBounds(r,t),y!=null&&mt.whenReady(y),F(tL(mt))}},[]);Y.useEffect(()=>()=>{B==null||B.map.remove()},[B]);const at=B?fp.createElement(Jg,{value:B},a):m??null;return fp.createElement("div",{...x,ref:tt},at)}const MA=Y.forwardRef(dL),Ac=lL(function({position:t,...n},a){const l=new il.Marker(t,n);return Wc(l,Xg(a,{overlayContainer:l}))},function(t,n,a){n.position!==a.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),mL=LA(function({positions:t,...n},a){const l=new il.Polyline(t,n);return Wc(l,Xg(a,{overlayContainer:l}))},function(t,n,a){n.positions!==a.positions&&t.setLatLngs(n.positions)}),$l=uL(function(t,n){const a=new il.Popup(t,n.overlayContainer);return Wc(a,n)},function(t,n,{position:a},l){Y.useEffect(function(){const{instance:m}=t;function v(E){E.popup===m&&(m.update(),l(!0))}function y(E){E.popup===m&&l(!1)}return n.map.on({popupopen:v,popupclose:y}),n.overlayContainer==null?(a!=null&&m.setLatLng(a),m.openOn(n.map)):n.overlayContainer.bindPopup(m),function(){var b;n.map.off({popupopen:v,popupclose:y}),(b=n.overlayContainer)==null||b.unbindPopup(),n.map.removeLayer(m)}},[t,n,l,a])}),DA=cL(function({url:t,...n},a){const l=new il.TileLayer(t,pd(n,a));return Wc(l,a)},function(t,n,a){hL(t,n,a);const{url:l}=n;l!=null&&l!==a.url&&t.setUrl(l)}),pL=()=>{const[r,t]=Y.useState([]),n=tl();Y.useEffect(()=>{const h=H2(Ug(qa,"tripLogs"),async m=>{const v=m.docs.map(E=>({id:E.id,...E.data()})),y=await Promise.all(v.map(async E=>{let b=null;if(E.currentCoord&&E.toCoord&&(b=a(E.currentCoord,E.toCoord),b<1&&E.status!=="Arrived")){const I=Ql(qa,"tripLogs",E.id);await SA(I,{status:"Arrived"}),E.status="Arrived"}return{...E,remainingKm:b==null?void 0:b.toFixed(2)}}));t(y)});return()=>h()},[]);const a=(h,m)=>{const v=X=>X*Math.PI/180,E=v(m.lat-h.lat),b=v(m.lng-h.lng),I=v(h.lat),x=v(m.lat),B=Math.sin(E/2)**2+Math.cos(I)*Math.cos(x)*Math.sin(b/2)**2;return 6371*(2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B)))},l=h=>h==="Arrived"?"status arrived":"status onroute";return U.jsxs("div",{className:"vehicles-container",children:[U.jsx("h2",{children:"Vehicle Tracker"}),U.jsx("div",{className:"vehicle-list",children:r.map(h=>{var m,v;return U.jsxs("div",{className:"vehicle-card",children:[U.jsx("h3",{children:h.vehicleNo}),U.jsxs("p",{className:l(h.status),children:[U.jsx("strong",{children:"Status:"})," ",h.status]}),U.jsxs("p",{children:[U.jsx("strong",{children:"Driver:"})," ",h.driverName," (",h.phone,")"]}),U.jsxs("p",{children:[U.jsx("strong",{children:"From:"})," ",h.fromCity]}),U.jsxs("p",{children:[U.jsx("strong",{children:"To:"})," ",h.toCity]}),U.jsxs("p",{children:[U.jsx("strong",{children:"Kilometers:"})," ",h.kilometers," km"]}),h.remainingKm&&U.jsxs("p",{children:[U.jsx("strong",{children:"Remaining Distance:"})," ",h.remainingKm," km"]}),U.jsx("button",{onClick:()=>n("/vehicle-details",{state:{trip:h}}),className:"track-btn",children:"Track Vehicle"}),U.jsx("div",{className:"map-wrapper",children:U.jsxs(MA,{center:[((m=h.currentCoord)==null?void 0:m.lat)||h.fromCoord.lat,((v=h.currentCoord)==null?void 0:v.lng)||h.fromCoord.lng],zoom:6,scrollWheelZoom:!1,style:{height:"200px",width:"100%"},children:[U.jsx(DA,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap contributors"}),h.fromCoord&&U.jsx(Ac,{position:[h.fromCoord.lat,h.fromCoord.lng],icon:wc.icon({iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png"}),children:U.jsxs($l,{children:["Start: ",h.fromCity]})}),h.toCoord&&U.jsx(Ac,{position:[h.toCoord.lat,h.toCoord.lng],icon:wc.icon({iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png"}),children:U.jsxs($l,{children:["Destination: ",h.toCity]})}),h.currentCoord&&U.jsx(Ac,{position:[h.currentCoord.lat,h.currentCoord.lng],icon:wc.icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/61/61168.png",iconSize:[30,30]}),children:U.jsx($l,{children:"Current Location"})})]})})]},h.id)})})]})};function gL(){return U.jsx("div",{children:"Reports"})}const Bp=async r=>{const a=await(await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${encodeURIComponent(r)}&key=25107b3575df4da781231eae765834c8`)).json();if(a.results&&a.results.length>0){const{lat:l,lng:h}=a.results[0].geometry;return{lat:l,lng:h}}else throw new Error("Location not found")},_L=()=>{const{user:r}=Yc(),[t,n]=Y.useState({phone:"",fromCity:"",toCity:"",vehicleNo:"",kilometers:""}),[a,l]=Y.useState(!1),[h,m]=Y.useState(""),v=E=>{n({...t,[E.target.name]:E.target.value})},y=async()=>{l(!0);try{const E=await Bp(t.fromCity),b=await Bp(t.toCity);await q2(Ug(qa,"tripLogs"),{...t,driverEmail:r==null?void 0:r.email,fromCoord:E,toCoord:b,currentCoord:E,status:"On Route",timestamp:Me.now()}),m("Trip successfully logged!"),n({phone:"",fromCity:"",toCity:"",vehicleNo:"",kilometers:""})}catch(E){console.error(E.message),m("Failed to log trip.")}l(!1)};return U.jsxs("div",{className:"trip-form-container",children:[U.jsx("h2",{children:"Log New Trip"}),U.jsx("input",{name:"phone",placeholder:"Driver Phone",value:t.phone,onChange:v}),U.jsx("input",{name:"fromCity",placeholder:"From City",value:t.fromCity,onChange:v}),U.jsx("input",{name:"toCity",placeholder:"To City",value:t.toCity,onChange:v}),U.jsx("input",{name:"vehicleNo",placeholder:"Vehicle Number",value:t.vehicleNo,onChange:v}),U.jsx("input",{name:"kilometers",placeholder:"Estimated Kilometers",value:t.kilometers,onChange:v}),U.jsx("button",{onClick:y,disabled:a,children:a?"Logging...":"Submit Trip"}),h&&U.jsx("p",{children:h})]})};function vL(){return U.jsx("div",{children:"NotFound"})}const yL=()=>{const{user:r}=Yc(),[t,n]=Y.useState(""),[a,l]=Y.useState(!1),[h,m]=Y.useState(""),v=async()=>{if(!t){m("Please enter your current city.");return}l(!0),m("");try{console.log(" Updating location for city:",t);const y=await Bp(t);console.log(" Geocoded Coordinates:",y);const E=N2(Ug(qa,"tripLogs"),k2("driverEmail","==",r==null?void 0:r.email),V2("timestamp","desc"),U2(1));console.log(" Querying trips for email:",r==null?void 0:r.email);const b=await j2(E);if(console.log(" Query Snapshot:",b.empty?"No results":"Trip found"),b.empty)console.warn(" No active trip found for this driver"),m("No active trip found for this driver.");else{const I=b.docs[0].ref;console.log(" Trip Document ID:",I.id),await SA(I,{currentCoord:y,lastUpdated:new Date}),console.log(" Location updated in Firestore"),m("Location updated successfully!")}}catch(y){console.error(" Error in location update:",y),m("Error updating location. Try again.")}l(!1),n("")};return U.jsxs("div",{className:"location-update-container",children:[U.jsx("h2",{children:"Update Current Location"}),U.jsx("input",{type:"text",placeholder:"Enter current city",value:t,onChange:y=>n(y.target.value)}),U.jsx("button",{onClick:v,disabled:a,children:a?"Updating...":"Update Location"}),h&&U.jsx("p",{className:"status-message",children:h})]})},EL=()=>{var v,y;const{state:r}=Vs(),{trip:t}=r||{},[n,a]=Y.useState(null);Y.useEffect(()=>{if(t!=null&&t.currentCoord&&(t!=null&&t.toCoord)){const E=l(t.currentCoord,t.toCoord);a(E.toFixed(2))}},[t]);const l=(E,b)=>{const I=mt=>mt*Math.PI/180,B=I(b.lat-E.lat),F=I(b.lng-E.lng),X=I(E.lat),tt=I(b.lat),at=Math.sin(B/2)**2+Math.cos(X)*Math.cos(tt)*Math.sin(F/2)**2;return 6371*(2*Math.atan2(Math.sqrt(at),Math.sqrt(1-at)))},h=new wc.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/69/69524.png",iconSize:[35,35]}),m=new wc.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/25/25694.png",iconSize:[35,35]});return t?U.jsxs("div",{className:"vehicle-details-container",children:[U.jsx("h2",{style:{color:"#0077cc"},children:"Vehicle Tracking"}),U.jsxs("p",{children:[U.jsx("strong",{children:"Driver:"})," ",t.driverName]}),U.jsxs("p",{children:[U.jsx("strong",{children:"From:"})," ",t.fromCity]}),U.jsxs("p",{children:[U.jsx("strong",{children:"To:"})," ",t.toCity]}),U.jsxs("p",{children:[U.jsx("strong",{children:"Phone:"})," ",t.phone]}),U.jsxs("p",{children:[U.jsx("strong",{children:"Kilometers:"})," ",t.kilometers," km"]}),U.jsxs("p",{children:[U.jsx("strong",{children:"Status:"})," ",t.status]}),n&&U.jsxs("p",{children:[U.jsx("strong",{children:"Remaining Distance:"})," ",n," km"]}),t.fromCoord&&t.toCoord&&U.jsxs(MA,{center:[((v=t.currentCoord)==null?void 0:v.lat)||t.fromCoord.lat,((y=t.currentCoord)==null?void 0:y.lng)||t.fromCoord.lng],zoom:6,scrollWheelZoom:!0,className:"map-box",children:[U.jsx(DA,{attribution:' <a href="https://www.openstreetmap.org/">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),U.jsx(Ac,{position:[t.fromCoord.lat,t.fromCoord.lng],icon:h,children:U.jsxs($l,{children:[" Start: ",t.fromCity]})}),t.currentCoord&&U.jsxs(U.Fragment,{children:[U.jsx(fL,{center:[t.currentCoord.lat,t.currentCoord.lng],pathOptions:{color:"red",fillColor:"#f03",fillOpacity:.5},radius:10}),U.jsx($l,{position:[t.currentCoord.lat,t.currentCoord.lng],children:" Current Location"})]}),U.jsx(Ac,{position:[t.toCoord.lat,t.toCoord.lng],icon:m,children:U.jsxs($l,{children:[" Destination: ",t.toCity]})}),U.jsx(mL,{positions:[[t.fromCoord.lat,t.fromCoord.lng],t.currentCoord?[t.currentCoord.lat,t.currentCoord.lng]:[t.fromCoord.lat,t.fromCoord.lng],[t.toCoord.lat,t.toCoord.lng]],color:"blue"})]})]}):U.jsx("div",{className:"error-msg",children:" No trip selected"})},TL=()=>{const{user:r,role:t}=Yc(),n=({children:l})=>r?l:U.jsx(i0,{to:"/login"}),a=({children:l,allowedRole:h})=>t===h?l:U.jsx(i0,{to:"/"});return U.jsxs(Yb,{children:[U.jsx(yr,{path:"/",element:U.jsx(Q2,{})}),U.jsx(yr,{path:"/login",element:U.jsx(Y2,{})}),U.jsx(yr,{path:"/register",element:U.jsx(W2,{})}),U.jsx(yr,{path:"/forgot-password",element:U.jsx(X2,{})}),U.jsx(yr,{path:"/vehicles",element:U.jsx(n,{children:U.jsx(a,{allowedRole:"manager",children:U.jsx(pL,{})})})}),U.jsx(yr,{path:"/reports",element:U.jsx(n,{children:U.jsx(a,{allowedRole:"manager",children:U.jsx(gL,{})})})}),U.jsx(yr,{path:"/triplogs",element:U.jsx(n,{children:U.jsx(a,{allowedRole:"driver",children:U.jsx(_L,{})})})}),U.jsx(yr,{path:"*",element:U.jsx(vL,{})}),U.jsx(yr,{path:"/update-location",element:U.jsx(yL,{})}),U.jsx(yr,{path:"/vehicle-details",element:U.jsx(EL,{})})]})},wL=()=>{const{user:r,logout:t,role:n}=K2(),a=tl(),[l,h]=Y.useState(!1),m=async()=>{await t(),h(!1),a("/login")},v=()=>{h(!l)},y=()=>{h(!1)};return n===void 0?null:U.jsx("nav",{className:"navbar",children:U.jsxs("div",{className:"navbar-container",children:[U.jsx("h1",{className:"navbar-logo",children:"FleetManagerPro"}),U.jsx("div",{className:"menu-icon",onClick:v,children:""}),U.jsxs("ul",{className:`nav-menu ${l?"active":""}`,children:[U.jsx("li",{children:U.jsx(jo,{to:"/",onClick:y,className:({isActive:E})=>E?"active-link":"unactive",children:"Home"})}),n==="manager"&&U.jsx("li",{children:U.jsx(jo,{to:"/vehicles",onClick:y,className:({isActive:E})=>E?"active-link":"unactive",children:"Vehicles"})}),n==="driver"&&U.jsxs(U.Fragment,{children:[U.jsx("li",{children:U.jsx(jo,{to:"/triplogs",onClick:y,className:({isActive:E})=>E?"active-link":"unactive",children:"Trips"})}),U.jsx("li",{children:U.jsx(jo,{to:"/update-location",onClick:y,className:({isActive:E})=>E?"active-link":"unactive",children:"Update Location"})})]}),r?U.jsx("li",{children:U.jsx("button",{className:"logout-btn",onClick:m,children:"Sign out"})}):U.jsxs(U.Fragment,{children:[U.jsx("li",{children:U.jsx(jo,{to:"/login",onClick:y,className:({isActive:E})=>E?"active-link":"",children:"Login"})}),U.jsx("li",{children:U.jsx(jo,{to:"/register",onClick:y,className:({isActive:E})=>E?"active-link":"",children:"Register"})})]})]})]})})},AL=()=>U.jsxs("footer",{className:"footer",children:[U.jsxs("div",{className:"footer-container",children:[U.jsxs("div",{className:"footer-section",children:[U.jsx("h3",{children:"FleetManagerPro"}),U.jsx("p",{children:"Your all-in-one platform to manage fleets, drivers, maintenance, and analytics  making logistics efficient and reliable."})]}),U.jsxs("div",{className:"footer-section",children:[U.jsx("h4",{children:"Quick Links"}),U.jsxs("ul",{children:[U.jsx("li",{children:U.jsx("a",{href:"/",children:"Dashboard"})}),U.jsx("li",{children:U.jsx("a",{href:"/vehicles",children:"Vehicles"})}),U.jsx("li",{children:U.jsx("a",{href:"/triplogs",children:"Trip Logs"})}),U.jsx("li",{children:U.jsx("a",{href:"/reports",children:"Reports"})})]})]}),U.jsxs("div",{className:"footer-section",children:[U.jsx("h4",{children:"Contact Us"}),U.jsxs("p",{children:[U.jsx("i",{className:"fas fa-envelope"})," support@fleetmanagerpro.com"]}),U.jsxs("p",{children:[U.jsx("i",{className:"fas fa-phone"})," +91 98765 43210"]}),U.jsxs("div",{className:"social-icons",children:[U.jsx("a",{href:"#",children:U.jsx("i",{className:"fab fa-facebook-f"})}),U.jsx("a",{href:"#",children:U.jsx("i",{className:"fab fa-twitter"})}),U.jsx("a",{href:"#",children:U.jsx("i",{className:"fab fa-linkedin-in"})}),U.jsx("a",{href:"#",children:U.jsx("i",{className:"fab fa-github"})})]})]})]}),U.jsx("div",{className:"footer-bottom",children:U.jsxs("p",{children:[" ",new Date().getFullYear()," FleetManagerPro. All rights reserved."]})})]}),SL=()=>U.jsx(y1,{basename:"/FleetManagerPro_Logistics-and-Transportation",children:U.jsxs(CA,{children:[U.jsx(wL,{}),U.jsx(TL,{}),U.jsx(AL,{})]})});rb.createRoot(document.getElementById("root")).render(U.jsx(CA,{children:U.jsx(SL,{})}));
